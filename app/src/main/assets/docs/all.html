<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>综述 (Overview) | AutoJs6 文档 - 6.4.1</title>
    <link rel="stylesheet" href="assets/fonts.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/sh.css">
    <link rel="stylesheet" href="plugins/docsify-copy-code@2-styles.css">
    <link rel="stylesheet" href="plugins/zoom-image-styles.css">
    <link rel="canonical" href="https://nodejs.org/api/all.html">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="user-scalable=no">
</head>
<body class="alt apidoc" id="api-section-all">
<div id="content" class="clearfix">
    <div id="column2" class="interior">
        <div id="intro" class="interior">
            <a href="/" title="返回首页">
                AutoJs6
            </a>
        </div>
        <ul>
<li><a class="nav-overview" href="overview.html">Overview - 综述</a></li>
<li><a class="nav-documentation" href="documentation.html">About - 关于文档</a></li>
<li><a class="nav-progress" href="progress.html">Progress - 文档部署进度</a></li>
<li><a class="nav-changelog" href="changelog.html">Changelog - 文档更新日志</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-manual" href="manual.html">Manual - AutoJs6 使用手册</a></li>
<li><a class="nav-qa" href="qa.html">Q &amp; A - 疑难解答</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-global" href="global.html">Global - 全局对象</a></li>
<li><a class="nav-automator" href="automator.html">Automator - 自动化</a></li>
<li><a class="nav-autojs" href="autojs.html">AutoJs6 - 本体应用</a></li>
<li><a class="nav-app" href="app.html">App - 通用应用</a></li>
<li><a class="nav-color" href="color.html">Color - 颜色</a></li>
<li><a class="nav-image" href="image.html">Image - 图像</a></li>
<li><a class="nav-ocr" href="ocr.html">OCR - 光学字符识别</a></li>
<li><a class="nav-barcode" href="barcode.html">Barcode - 条码</a></li>
<li><a class="nav-qrcode" href="qrcode.html">QR Code - 二维码</a></li>
<li><a class="nav-keys" href="keys.html">Keys - 按键</a></li>
<li><a class="nav-device" href="device.html">Device - 设备</a></li>
<li><a class="nav-storages" href="storages.html">Storage - 储存</a></li>
<li><a class="nav-files" href="files.html">File - 文件</a></li>
<li><a class="nav-engines" href="engines.html">Engine - 引擎</a></li>
<li><a class="nav-tasks" href="tasks.html">Task - 任务</a></li>
<li><a class="nav-modules" href="modules.html">Module - 模块</a></li>
<li><a class="nav-plugins" href="plugins.html">Plugins - 插件</a></li>
<li><a class="nav-toast" href="toast.html">Toast - 消息浮动框</a></li>
<li><a class="nav-notice" href="notice.html">Notice - 消息通知</a></li>
<li><a class="nav-console" href="console.html">Console - 控制台</a></li>
<li><a class="nav-shell" href="shell.html">Shell</a></li>
<li><a class="nav-shizuku" href="shizuku.html">Shizuku</a></li>
<li><a class="nav-media" href="media.html">Media - 多媒体</a></li>
<li><a class="nav-sensors" href="sensors.html">Sensor - 传感器</a></li>
<li><a class="nav-recorder" href="recorder.html">Recorder - 记录器</a></li>
<li><a class="nav-timers" href="timers.html">Timer - 定时器</a></li>
<li><a class="nav-threads" href="threads.html">Thread - 线程</a></li>
<li><a class="nav-continuation" href="continuation.html">Continuation - 协程</a></li>
<li><a class="nav-events" href="events.html">Event - 事件监听</a></li>
<li><a class="nav-dialogs" href="dialogs.html">Dialog - 对话框</a></li>
<li><a class="nav-floaty" href="floaty.html">Floaty - 悬浮窗</a></li>
<li><a class="nav-canvas" href="canvas.html">Canvas - 画布</a></li>
<li><a class="nav-ui" href="ui.html">UI - 用户界面</a></li>
<li><a class="nav-web" href="web.html">Web - 万维网</a></li>
<li><a class="nav-http" href="http.html">HTTP</a></li>
<li><a class="nav-base64" href="base64.html">Base64</a></li>
<li><a class="nav-crypto" href="crypto.html">Crypto - 密文</a></li>
<li><a class="nav-i18n" href="i18n.html">Internationalization - 国际化</a></li>
<li><a class="nav-s13n" href="s13n.html">Standardization - 标准化</a></li>
<li><a class="nav-e4x" href="e4x.html">E4X</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-uiSelectorType" href="uiSelectorType.html">UiSelector - 选择器</a></li>
<li><a class="nav-uiObjectType" href="uiObjectType.html">UiObject - 控件节点</a></li>
<li><a class="nav-uiObjectCollectionType" href="uiObjectCollectionType.html">UiObjectCollection - 控件集合</a></li>
<li><a class="nav-uiObjectActionsType" href="uiObjectActionsType.html">UiObjectActions - 控件节点行为</a></li>
<li><a class="nav-webSocketType" href="webSocketType.html">WebSocket</a></li>
<li><a class="nav-eventEmitterType" href="eventEmitterType.html">EventEmitter - 事件发射器</a></li>
<li><a class="nav-imageWrapperType" href="imageWrapperType.html">ImageWrapper - 包装图像类</a></li>
<li><a class="nav-appType" href="appType.html">App - 应用枚举类</a></li>
<li><a class="nav-colorType" href="colorType.html">Color - 颜色类</a></li>
<li><a class="nav-versionType" href="versionType.html">Version - 版本工具类</a></li>
<li><a class="nav-polyfill" href="polyfill.html">Polyfill - 代码填泥</a></li>
<li><a class="nav-arrayx" href="arrayx.html">Arrayx - Array 扩展</a></li>
<li><a class="nav-numberx" href="numberx.html">Numberx - Number 扩展</a></li>
<li><a class="nav-mathx" href="mathx.html">Mathx - Math 扩展</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-exceptions" href="exceptions.html">Exceptions - 异常</a></li>
<li><a class="nav-intentType" href="intentType.html">Intent - 意图</a></li>
<li><a class="nav-runtime" href="runtime.html">Runtime - 运行时</a></li>
<li><a class="nav-context" href="context.html">Context - 上下文</a></li>
<li><a class="nav-activity" href="activity.html">Activity - 活动</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-scriptingJava" href="scriptingJava.html">Scripting Java - 脚本化 Java</a></li>
<li><a class="nav-apiLevel" href="apiLevel.html">Android API Level - 安卓 API 级别</a></li>
<li><a class="nav-colorTable" href="colorTable.html">Color Table - 颜色列表</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-glossaries" href="glossaries.html">Glossaries - 术语</a></li>
<li><a class="nav-httpHeaderGlossary" href="httpHeaderGlossary.html">HttpHeader - HTTP 标头</a></li>
<li><a class="nav-httpRequestMethodsGlossary" href="httpRequestMethodsGlossary.html">HttpRequestMethods - HTTP 请求方法</a></li>
<li><a class="nav-mimeTypeGlossary" href="mimeTypeGlossary.html">MimeType - MIME 类型</a></li>
<li><a class="nav-notificationChannelGlossary" href="notificationChannelGlossary.html">NotificationChannel - 通知渠道</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-dataTypes" href="dataTypes.html">Data Types - 数据类型</a></li>
<li><a class="nav-omniTypes" href="omniTypes.html">Omnipotent Types - 全能类型</a></li>
<li><a class="nav-storageType" href="storageType.html">Storage - 存储类</a></li>
<li><a class="nav-androidBundleType" href="androidBundleType.html">AndroidBundle</a></li>
<li><a class="nav-androidRectType" href="androidRectType.html">AndroidRect</a></li>
<li><a class="nav-cryptoCipherOptionsType" href="cryptoCipherOptionsType.html">CryptoCipherOptions</a></li>
<li><a class="nav-cryptoKeyType" href="cryptoKeyType.html">CryptoKey</a></li>
<li><a class="nav-cryptoKeyPairType" href="cryptoKeyPairType.html">CryptoKeyPair</a></li>
<li><a class="nav-consoleBuildOptionsType" href="consoleBuildOptionsType.html">ConsoleBuildOptions</a></li>
<li><a class="nav-httpRequestBuilderOptionsType" href="httpRequestBuilderOptionsType.html">HttpRequestBuilderOptions</a></li>
<li><a class="nav-httpRequestHeadersType" href="httpRequestHeadersType.html">HttpRequestHeaders</a></li>
<li><a class="nav-httpResponseBodyType" href="httpResponseBodyType.html">HttpResponseBody</a></li>
<li><a class="nav-httpResponseHeadersType" href="httpResponseHeadersType.html">HttpResponseHeaders</a></li>
<li><a class="nav-httpResponseType" href="httpResponseType.html">HttpResponse</a></li>
<li><a class="nav-injectableWebClientType" href="injectableWebClientType.html">InjectableWebClient</a></li>
<li><a class="nav-injectableWebViewType" href="injectableWebViewType.html">InjectableWebView</a></li>
<li><a class="nav-noticeOptionsType" href="noticeOptionsType.html">NoticeOptions</a></li>
<li><a class="nav-noticeChannelOptionsType" href="noticeChannelOptionsType.html">NoticeChannelOptions</a></li>
<li><a class="nav-noticePresetConfigurationType" href="noticePresetConfigurationType.html">NoticePresetConfiguration</a></li>
<li><a class="nav-noticeBuilderType" href="noticeBuilderType.html">NoticeBuilder</a></li>
<li><a class="nav-okhttp3HttpUrlType" href="okhttp3HttpUrlType.html">Okhttp3HttpUrl</a></li>
<li><a class="nav-ocrOptionsType" href="ocrOptionsType.html">OcrOptions</a></li>
<li><a class="nav-okhttp3RequestType" href="okhttp3RequestType.html">Okhttp3Request</a></li>
<li><a class="nav-opencvPointType" href="opencvPointType.html">OpencvPoint</a></li>
<li><a class="nav-opencvRectType" href="opencvRectType.html">OpencvRect</a></li>
<li><a class="nav-opencvSizeType" href="opencvSizeType.html">OpencvSize</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-http-project-autojs6-com" href="http://project.autojs6.com">GitHub - 应用项目地址</a></li>
<li><a class="nav-http-docs-project-autojs6-com" href="http://docs-project.autojs6.com">GitHub - 文档项目地址</a></li>
</ul>

    </div>

    <div id="column1" data-id="all" class="interior">
        <header>
            <h1>AutoJs6 文档 - 6.4.1</h1>
            <div id="gtoc">
                <p class="index">
                    <a href="index.html" name="toc">索引</a> |
                    <a href="all.html">查看全部</a>
                </p>
            </div>
            <hr>
        </header>

        <div id="toc">
            <h2>目录</h2>
            <ul>
<li><span class="stability_undefined"><a href="#overview_overview">综述 (Overview)</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_about">关于文档 (About)</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation">文档阅读示例</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_1">基础</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_device_height">device.height</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_colors_rgb_red_green_blue">colors.rgb(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_2">临时作用域对象</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_3">参数类型</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_colors_rgb_red_green_blue_1">colors.rgb(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_4">返回值类型</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_colors_rgb_red_green_blue_2">colors.rgb(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_5">属性类型</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_colors_red">colors.RED</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_6">方法签名</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_7">方法描述</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_colors_rgb_red_green_blue_3">colors.rgb(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_8">可变参数</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_files_join_parent_child">files.join(parent, ...child)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_9">可选参数</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_device_vibrate_text_delay">device.vibrate(text, delay?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_10">参数默认值</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_device_vibrate_text_delay_1">device.vibrate(text, delay?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_11">方法重载</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_pickup_selector_compass_resulttype">pickup(selector, compass, resultType)</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_pickup_selector_compass">pickup(selector, compass)</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_pickup_selector_resulttype">pickup(selector, resultType)</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_pickup_root_selector">pickup(root, selector)</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_pickup">pickup()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_12">方法全局化</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_images_requestscreencapture_landscape">images.requestScreenCapture(landscape)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_13">方法标签</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_14">对象标签</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_15">成员访问</a></span></li>
<li><span class="stability_undefined"><a href="#documentation_16">模板参数</a></span><ul>
<li><span class="stability_undefined"><a href="#documentation_foo_bar_a_b">foo.bar(a, b)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#documentation_17">声明</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_q_a">疑难解答 (Q &amp; A)</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_autojs6">AutoJs6</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_autojs6_1">AutoJs6 功能简介</a></span></li>
<li><span class="stability_undefined"><a href="#qa_autojs6_2">AutoJs6 如何使用</a></span></li>
<li><span class="stability_undefined"><a href="#qa_autojs6_3">AutoJs6 是否免费</a></span></li>
<li><span class="stability_undefined"><a href="#qa_autojs6_4">AutoJs6 目标</a></span></li>
<li><span class="stability_undefined"><a href="#qa_autojs6_5">AutoJs6 特色</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa">文档</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_1">文档格式不统一</a></span></li>
<li><span class="stability_undefined"><a href="#qa_2">不支持夜间模式</a></span></li>
<li><span class="stability_undefined"><a href="#qa_3">内容难以理解</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_4">图像</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_ocr">OCR 特性</a></span></li>
<li><span class="stability_undefined"><a href="#qa_5">区域截图</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_6">定时任务</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_7">定时运行脚本</a></span></li>
<li><span class="stability_undefined"><a href="#qa_8">定时任务获取外部参数</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_9">脚本执行差异</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_10">不同的系统版本</a></span></li>
<li><span class="stability_undefined"><a href="#qa_11">不同的设备厂商</a></span></li>
<li><span class="stability_undefined"><a href="#qa_auto_js">不同的 Auto.js 应用</a></span></li>
<li><span class="stability_undefined"><a href="#qa_autojs6_6">不同的 AutoJs6 版本</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_12">打包应用</a></span><ul>
<li><span class="stability_undefined"><a href="#qa_13">图片等资源共同打包及多脚本打包</a></span></li>
<li><span class="stability_undefined"><a href="#qa_14">打包应用不显示主界面</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#qa_15">代码转换</a></span></li>
<li><span class="stability_undefined"><a href="#qa_16">反馈</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_global">全局对象 (Global)</a></span><ul>
<li><span class="stability_undefined"><a href="#global">覆写保护</a></span></li>
<li><span class="stability_undefined"><a href="#global_global_1">[@] global</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_sleep">[m] sleep</a></span><ul>
<li><span class="stability_undefined"><a href="#global_sleep_millis">sleep(millis)</a></span></li>
<li><span class="stability_undefined"><a href="#global_sleep_millismin_millismax">sleep(millisMin, millisMax)</a></span></li>
<li><span class="stability_undefined"><a href="#global_sleep_millis_bounds">sleep(millis, bounds)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_toast">[m+] toast</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_toastlog">[m] toastLog</a></span><ul>
<li><span class="stability_undefined"><a href="#global_toastlog_text">toastLog(text)</a></span></li>
<li><span class="stability_undefined"><a href="#global_toastlog_text_islong">toastLog(text, isLong)</a></span></li>
<li><span class="stability_undefined"><a href="#global_toastlog_text_islong_isforcible">toastLog(text, isLong, isForcible)</a></span></li>
<li><span class="stability_undefined"><a href="#global_toastlog_text_isforcible">toastLog(text, isForcible)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_notice">[m+] notice</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_random">[m] random</a></span><ul>
<li><span class="stability_undefined"><a href="#global_random">random()</a></span></li>
<li><span class="stability_undefined"><a href="#global_random_min_max">random(min, max)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_wait">[m] wait</a></span><ul>
<li><span class="stability_undefined"><a href="#global_wait_condition">wait(condition)</a></span></li>
<li><span class="stability_undefined"><a href="#global_wait_condition_limit">wait(condition, limit)</a></span></li>
<li><span class="stability_undefined"><a href="#global_wait_condition_limit_interval">wait(condition, limit, interval)</a></span></li>
<li><span class="stability_undefined"><a href="#global_wait_condition_callback">wait(condition, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_wait_condition_limit_callback">wait(condition, limit, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_wait_condition_limit_interval_callback">wait(condition, limit, interval, callback)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_waitforactivity">[m] waitForActivity</a></span><ul>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname">waitForActivity(activityName)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname_limit">waitForActivity(activityName, limit)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname_limit_interval">waitForActivity(activityName, limit, interval)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname_callback">waitForActivity(activityName, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname_limit_callback">waitForActivity(activityName, limit, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforactivity_activityname_limit_interval_callback">waitForActivity(activityName, limit, interval, callback)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_waitforpackage">[m] waitForPackage</a></span><ul>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename">waitForPackage(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename_limit">waitForPackage(packageName, limit)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename_limit_interval">waitForPackage(packageName, limit, interval)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename_callback">waitForPackage(packageName, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename_limit_callback">waitForPackage(packageName, limit, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#global_waitforpackage_packagename_limit_interval_callback">waitForPackage(packageName, limit, interval, callback)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_exit">[m] exit</a></span><ul>
<li><span class="stability_undefined"><a href="#global_exit">exit()</a></span></li>
<li><span class="stability_undefined"><a href="#global_exit_e">exit(e)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_stop">[m] stop</a></span><ul>
<li><span class="stability_undefined"><a href="#global_stop">stop()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isstopped">[m] isStopped</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isstopped">isStopped()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isshuttingdown">[m] isShuttingDown</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isshuttingdown">isShuttingDown()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isrunning">[m] isRunning</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isrunning">isRunning()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_notstopped">[m] notStopped</a></span><ul>
<li><span class="stability_undefined"><a href="#global_notstopped">notStopped()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_requiresapi">[m] requiresApi</a></span><ul>
<li><span class="stability_undefined"><a href="#global_requiresapi_api">requiresApi(api)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_requiresautojsversion">[m] requiresAutojsVersion</a></span><ul>
<li><span class="stability_undefined"><a href="#global_requiresautojsversion_versionname">requiresAutojsVersion(versionName)</a></span></li>
<li><span class="stability_undefined"><a href="#global_requiresautojsversion_versioncode">requiresAutojsVersion(versionCode)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_importpackage">[m] importPackage</a></span><ul>
<li><span class="stability_undefined"><a href="#global_importpackage_pkg">importPackage(...pkg)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_importclass">[m] importClass</a></span><ul>
<li><span class="stability_undefined"><a href="#global_importclass_cls">importClass(...cls)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_currentpackage">[m] currentPackage</a></span><ul>
<li><span class="stability_undefined"><a href="#global_currentpackage">currentPackage()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_currentactivity">[m] currentActivity</a></span><ul>
<li><span class="stability_undefined"><a href="#global_currentactivity">currentActivity()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_setclip">[m] setClip</a></span><ul>
<li><span class="stability_undefined"><a href="#global_setclip_text">setClip(text)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_getclip">[m] getClip</a></span><ul>
<li><span class="stability_undefined"><a href="#global_getclip">getClip()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_selector">[m] selector</a></span><ul>
<li><span class="stability_undefined"><a href="#global_selector">selector()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_pickup">[m] pickup</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_detect">[m] detect</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_existsall">[m] existsAll</a></span><ul>
<li><span class="stability_undefined"><a href="#global_existsall_selectors">existsAll(...selectors)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_existsone">[m] existsOne</a></span><ul>
<li><span class="stability_undefined"><a href="#global_existsone_selectors">existsOne(...selectors)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_cx">[m] cX</a></span><ul>
<li><span class="stability_undefined"><a href="#global_cx">cX()</a></span></li>
<li><span class="stability_undefined"><a href="#global_cx_x_base">cX(x, base)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cx_x_isratio">cX(x, isRatio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cx_x">cX(x)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_cy">[m] cY</a></span><ul>
<li><span class="stability_undefined"><a href="#global_cy">cY()</a></span></li>
<li><span class="stability_undefined"><a href="#global_cy_y_base">cY(y, base)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cy_y_isratio">cY(y, isRatio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cy_y">cY(y)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_cyx">[m] cYx</a></span><ul>
<li><span class="stability_undefined"><a href="#global_cyx_coordinatey_basex">cYx(coordinateY, baseX)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cyx_percenty_ratio">cYx(percentY, ratio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cyx_y_isratio">cYx(y, isRatio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cyx_y">cYx(y)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_cxy">[m] cXy</a></span><ul>
<li><span class="stability_undefined"><a href="#global_cxy_coordinatex_basey">cXy(coordinateX, baseY)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cxy_percentx_ratio">cXy(percentX, ratio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cxy_x_isratio">cXy(x, isRatio)</a></span></li>
<li><span class="stability_undefined"><a href="#global_cxy_x">cXy(x)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_species">[m+] species</a></span><ul>
<li><span class="stability_undefined"><a href="#global_species_o">species(o)</a></span></li>
<li><span class="stability_undefined"><a href="#global_m_isarray">[m] isArray</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isarray_o">isArray(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isarraybuffer">[m] isArrayBuffer</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isarraybuffer_o">isArrayBuffer(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isbigint">[m] isBigInt</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isbigint_o">isBigInt(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isboolean">[m] isBoolean</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isboolean_o">isBoolean(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_iscontinuation">[m] isContinuation</a></span><ul>
<li><span class="stability_undefined"><a href="#global_iscontinuation_o">isContinuation(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isdataview">[m] isDataView</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isdataview_o">isDataView(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isdate">[m] isDate</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isdate_o">isDate(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_iserror">[m] isError</a></span><ul>
<li><span class="stability_undefined"><a href="#global_iserror_o">isError(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isfloat32array">[m] isFloat32Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isfloat32array_o">isFloat32Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isfloat64array">[m] isFloat64Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isfloat64array_o">isFloat64Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isfunction">[m] isFunction</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isfunction_o">isFunction(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_ishtmldocument">[m] isHTMLDocument</a></span><ul>
<li><span class="stability_undefined"><a href="#global_ishtmldocument_o">isHTMLDocument(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isint16array">[m] isInt16Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isint16array_o">isInt16Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isint32array">[m] isInt32Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isint32array_o">isInt32Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isint8array">[m] isInt8Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isint8array_o">isInt8Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isjavaobject">[m] isJavaObject</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isjavaobject_o">isJavaObject(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isjavapackage">[m] isJavaPackage</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isjavapackage_o">isJavaPackage(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_ismap">[m] isMap</a></span><ul>
<li><span class="stability_undefined"><a href="#global_ismap_o">isMap(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isnamespace">[m] isNamespace</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isnamespace_o">isNamespace(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isnull">[m] isNull</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isnull_o">isNull(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isnumber">[m] isNumber</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isnumber_o">isNumber(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isobject">[m] isObject</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isobject_o">isObject(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isqname">[m] isQName</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isqname_o">isQName(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isregexp">[m] isRegExp</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isregexp_o">isRegExp(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isset">[m] isSet</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isset_o">isSet(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isstring">[m] isString</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isstring_o">isString(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isuint16array">[m] isUint16Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isuint16array_o">isUint16Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isuint32array">[m] isUint32Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isuint32array_o">isUint32Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isuint8array">[m] isUint8Array</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isuint8array_o">isUint8Array(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isuint8clampedarray">[m] isUint8ClampedArray</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isuint8clampedarray_o">isUint8ClampedArray(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isundefined">[m] isUndefined</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isundefined_o">isUndefined(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isweakmap">[m] isWeakMap</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isweakmap_o">isWeakMap(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isweakset">[m] isWeakSet</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isweakset_o">isWeakSet(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_iswindow">[m] isWindow</a></span><ul>
<li><span class="stability_undefined"><a href="#global_iswindow_o">isWindow(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isxml">[m] isXML</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isxml_o">isXML(o)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_m_isxmllist">[m] isXMLList</a></span><ul>
<li><span class="stability_undefined"><a href="#global_isxmllist_o">isXMLList(o)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#global_p_width">[p] WIDTH</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_height">[p] HEIGHT</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_r">[p+] R</a></span><ul>
<li><span class="stability_undefined"><a href="#global_p_anim">[p+] anim</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_array">[p+] array</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_bool">[p+] bool</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_color">[p+] color</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_dimen">[p+] dimen</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_drawable">[p+] drawable</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_id">[p+] id</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_integer">[p+] integer</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_layout">[p+] layout</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_menu">[p+] menu</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_plurals">[p+] plurals</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_string">[p+] string</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_strings">[p+] strings</a></span></li>
<li><span class="stability_undefined"><a href="#global_p_style">[p+] style</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_automator">自动化 (Automator)</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_simpleactionautomator">简易自动化 (SimpleActionAutomator)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator">高权限自动化 (RootAutomator)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_automatorconfiguration">自动化配置 (AutomatorConfiguration)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_uiselector">选择器 (UiSelector)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_uiobject">控件节点 (UiObject)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_uiobjectcollection">控件集合 (UiObjectCollection)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_uiobjectactions">控件节点行为 (UiObjectActions)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator">基于坐标的触摸模拟</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_setscreenmetrics_width_height">setScreenMetrics(width, height)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_7_0">安卓7.0以上的触摸和手势模拟</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_click_x_y">click(x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_longclick_x_y">longClick(x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_press_x_y_duration">press(x, y, duration)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_swipe_x1_y1_x2_y2_duration">swipe(x1, y1, x2, y2, duration)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_gesture_duration_x1_y1_x2_y2">gesture(duration, [x1, y1], [x2, y2], ...)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_gestures_delay1_duration1_x1_y1_x2_y2_delay2_duration2_x3_y3_x4_y4">gestures([delay1, duration1, [x1, y1], [x2, y2], ...], [delay2, duration2, [x3, y3], [x4, y4], ...], ...)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_1">RootAutomator</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_rootautomator_tap_x_y_id">RootAutomator.tap(x, y[, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_swipe_x1_x2_y1_y2_duration_id">RootAutomator.swipe(x1, x2, y1, y2[, duration, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_press_x_y_duration_id">RootAutomator.press(x, y, duration[, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_longpress_x_y_id">RootAutomator.longPress(x, y[\, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_touchdown_x_y_id">RootAutomator.touchDown(x, y[, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_touchmove_x_y_id">RootAutomator.touchMove(x, y[, id])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_rootautomator_touchup_id">RootAutomator.touchUp([id])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_root">使用root权限点击和滑动的简单命令</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_tap_x_y">Tap(x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_swipe_x1_y1_x2_y2_duration_1">Swipe(x1, y1, x2, y2, [duration])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_1">基于控件的操作</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_auto_mode">auto([mode])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_waitfor">auto.waitFor()</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_setmode_mode">auto.setMode(mode)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_setflags_flags">auto.setFlags(flags)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_service">auto.service</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_windows">auto.windows</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_root">auto.root</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_rootinactivewindow">auto.rootInActiveWindow</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_setwindowfilter_filter">auto.setWindowFilter(filter)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_auto_windowroots">auto.windowRoots</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#automator_simpleactionautomator_1">SimpleActionAutomator</a></span><ul>
<li><span class="stability_undefined"><a href="#automator_click_text_i">click(text[, i])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_click_left_top_bottom_right">click(left, top, bottom, right)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_longclick_text_i">longClick(text[, i]))</a></span></li>
<li><span class="stability_undefined"><a href="#automator_scrollup_i">scrollUp([i])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_scrolldown_i">scrollDown([i])</a></span></li>
<li><span class="stability_undefined"><a href="#automator_settext_i_text">setText([i, ]text)</a></span></li>
<li><span class="stability_undefined"><a href="#automator_input_i_text">input([i, ]text)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_autojs6">AutoJs6 本体应用</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_m_getlanguage">[m] getLanguage</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_getlanguage">getLanguage()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_getlanguagetag">[m] getLanguageTag</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_getlanguagetag">getLanguageTag()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_isrootavailable">[m] isRootAvailable</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_isrootavailable">isRootAvailable()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_getrootmode">[m] getRootMode</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_getrootmode">getRootMode()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_setrootmode">[m] setRootMode</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_setrootmode_rootmode_iswriteintopreference">setRootMode(rootMode, isWriteIntoPreference?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_canmodifysystemsettings">[m] canModifySystemSettings</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_canmodifysystemsettings">canModifySystemSettings()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_canwritesecuresettings">[m] canWriteSecureSettings</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_canwritesecuresettings">canWriteSecureSettings()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_candisplayoverotherapps">[m] canDisplayOverOtherApps</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_candisplayoverotherapps">canDisplayOverOtherApps()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_p_versionname">[p] versionName</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_versioncode">[p] versionCode</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_versiondate">[p] versionDate</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_themecolor">[p] themeColor</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_version">[p+] version</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_p_name">[p] name</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_code">[p] code</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_p_date">[p] date</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_m_isequal">[m] isEqual</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_isequal_otherversion">isEqual(otherVersion)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_ishigherthan">[m] isHigherThan</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_ishigherthan_otherversion">isHigherThan(otherVersion)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_islowerthan">[m] isLowerThan</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_islowerthan_otherversion">isLowerThan(otherVersion)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_m_isatleast">[m] isAtLeast</a></span><ul>
<li><span class="stability_undefined"><a href="#autojs_isatleast_otherversion">isAtLeast(otherVersion)</a></span></li>
<li><span class="stability_undefined"><a href="#autojs_isatleast_otherversion_ignoresuffix">isAtLeast(otherVersion, ignoreSuffix)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#autojs_p_r">[p+] R</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#app_app">通用应用 (App)</a></span><ul>
<li><span class="stability_undefined"><a href="#app_app_versioncode">app.versionCode</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_versionname">app.versionName</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_autojs_versioncode">app.autojs.versionCode</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_autojs_versionname">app.autojs.versionName</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_launchapp_appname">app.launchApp(appName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_launch_packagename">app.launch(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_launchpackage_packagename">app.launchPackage(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_getpackagename_appname">app.getPackageName(appName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_getappname_packagename">app.getAppName(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_openappsetting_packagename">app.openAppSetting(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_viewfile_path">app.viewFile(path)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_editfile_path">app.editFile(path)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_uninstall_packagename">app.uninstall(packageName)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_openurl_url">app.openUrl(url)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_sendemail_options">app.sendEmail(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_startactivity_name">app.startActivity(name)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_intent_options">app.intent(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_startactivity_options">app.startActivity(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_sendbroadcast_options">app.sendBroadcast(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_startservice_options">app.startService(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_sendbroadcast_name">app.sendBroadcast(name)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_intenttoshell_options">app.intentToShell(options)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_parseuri_uri">app.parseUri(uri)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_geturiforfile_path">app.getUriForFile(path)</a></span></li>
<li><span class="stability_undefined"><a href="#app_app_getinstalledapps_options">app.getInstalledApps([options])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_color">颜色 (Color)</a></span><ul>
<li><span class="stability_undefined"><a href="#color">颜色表示</a></span></li>
<li><span class="stability_undefined"><a href="#color_0">黑色与 0</a></span></li>
<li><span class="stability_undefined"><a href="#color_m_toint">[m] toInt</a></span><ul>
<li><span class="stability_undefined"><a href="#color_toint_color">toInt(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tohex">[m] toHex</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tohex_color">toHex(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohex_color_alpha">toHex(color, alpha)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohex_color_length">toHex(color, length)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tofullhex">[m] toFullHex</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tofullhex_color">toFullHex(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_build">[m] build</a></span><ul>
<li><span class="stability_undefined"><a href="#color_build_color">build(color?)</a></span></li>
<li><span class="stability_undefined"><a href="#color_build_red_green_blue_alpha">build(red, green, blue, alpha?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_summary">[m] summary</a></span><ul>
<li><span class="stability_undefined"><a href="#color_summary_color">summary(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_parsecolor">[m] parseColor</a></span><ul>
<li><span class="stability_undefined"><a href="#color_parsecolor_color">parseColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tostring">[m] toString</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tostring_color">toString(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tostring_color_alpha">toString(color, alpha)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tostring_color_length">toString(color, length)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_alpha">[m] alpha</a></span><ul>
<li><span class="stability_undefined"><a href="#color_alpha_color">alpha(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_alpha_color_options">alpha(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_alphadouble">[m] alphaDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_alphadouble_color">alphaDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getalpha">[m] getAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getalpha_color">getAlpha(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_getalpha_color_options">getAlpha(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getalphadouble">[m] getAlphaDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getalphadouble_color">getAlphaDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setalpha">[m] setAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setalpha_color_alpha">setAlpha(color, alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setalpharelative">[m] setAlphaRelative</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setalpharelative_color_percentage">setAlphaRelative(color, percentage)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_removealpha">[m] removeAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#color_removealpha_color">removeAlpha(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_red">[m] red</a></span><ul>
<li><span class="stability_undefined"><a href="#color_red_color">red(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_red_color_options">red(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_reddouble">[m] redDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_reddouble_color">redDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getred">[m] getRed</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getred_color">getRed(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_getred_color_options">getRed(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getreddouble">[m] getRedDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getreddouble_color">getRedDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setred">[m] setRed</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setred_color_red">setRed(color, red)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setredrelative">[m] setRedRelative</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setredrelative_color_percentage">setRedRelative(color, percentage)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_removered">[m] removeRed</a></span><ul>
<li><span class="stability_undefined"><a href="#color_removered_color">removeRed(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_green">[m] green</a></span><ul>
<li><span class="stability_undefined"><a href="#color_green_color">green(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_green_color_options">green(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_greendouble">[m] greenDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_greendouble_color">greenDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getgreen">[m] getGreen</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getgreen_color">getGreen(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setgreenrelative">[m] setGreenRelative</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setgreenrelative_color_percentage">setGreenRelative(color, percentage)</a></span></li>
<li><span class="stability_undefined"><a href="#color_getgreen_color_options">getGreen(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getgreendouble">[m] getGreenDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getgreendouble_color">getGreenDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setgreen">[m] setGreen</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setgreen_color_green">setGreen(color, green)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_removegreen">[m] removeGreen</a></span><ul>
<li><span class="stability_undefined"><a href="#color_removegreen_color">removeGreen(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_blue">[m] blue</a></span><ul>
<li><span class="stability_undefined"><a href="#color_blue_color">blue(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_blue_color_options">blue(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_bluedouble">[m] blueDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_bluedouble_color">blueDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getblue">[m] getBlue</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getblue_color">getBlue(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_getblue_color_options">getBlue(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_getbluedouble">[m] getBlueDouble</a></span><ul>
<li><span class="stability_undefined"><a href="#color_getbluedouble_color">getBlueDouble(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setblue">[m] setBlue</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setblue_color_blue">setBlue(color, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setbluerelative">[m] setBlueRelative</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setbluerelative_color_percentage">setBlueRelative(color, percentage)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_removeblue">[m] removeBlue</a></span><ul>
<li><span class="stability_undefined"><a href="#color_removeblue_color">removeBlue(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_rgb">[m] rgb</a></span><ul>
<li><span class="stability_undefined"><a href="#color_rgb_color">rgb(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_rgb_red_green_blue">rgb(red, green, blue)</a></span></li>
<li><span class="stability_undefined"><a href="#color_rgb_components">rgb(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_argb">[m] argb</a></span><ul>
<li><span class="stability_undefined"><a href="#color_argb_colorhex">argb(colorHex)</a></span></li>
<li><span class="stability_undefined"><a href="#color_argb_alpha_red_green_blue">argb(alpha, red, green, blue)</a></span></li>
<li><span class="stability_undefined"><a href="#color_argb_components">argb(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_rgba">[m] rgba</a></span><ul>
<li><span class="stability_undefined"><a href="#color_rgba_colorhex">rgba(colorHex)</a></span></li>
<li><span class="stability_undefined"><a href="#color_rgba_red_green_blue_alpha">rgba(red, green, blue, alpha)</a></span></li>
<li><span class="stability_undefined"><a href="#color_rgba_components">rgba(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_hsv">[m] hsv</a></span><ul>
<li><span class="stability_undefined"><a href="#color_hsv_hue_saturation_value">hsv(hue, saturation, value)</a></span></li>
<li><span class="stability_undefined"><a href="#color_hsv_components">hsv(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_hsva">[m] hsva</a></span><ul>
<li><span class="stability_undefined"><a href="#color_hsva_hue_saturation_value_alpha">hsva(hue, saturation, value, alpha)</a></span></li>
<li><span class="stability_undefined"><a href="#color_hsva_components">hsva(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_hsl">[m] hsl</a></span><ul>
<li><span class="stability_undefined"><a href="#color_hsl_hue_saturation_lightness">hsl(hue, saturation, lightness)</a></span></li>
<li><span class="stability_undefined"><a href="#color_hsl_components">hsl(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_hsla">[m] hsla</a></span><ul>
<li><span class="stability_undefined"><a href="#color_hsla_hue_saturation_lightness_alpha">hsla(hue, saturation, lightness, alpha)</a></span></li>
<li><span class="stability_undefined"><a href="#color_hsla_components">hsla(components)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_torgb">[m] toRgb</a></span><ul>
<li><span class="stability_undefined"><a href="#color_torgb_color">toRgb(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_torgba">[m] toRgba</a></span><ul>
<li><span class="stability_undefined"><a href="#color_torgba_color">toRgba(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_torgba_color_options">toRgba(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_toargb">[m] toArgb</a></span><ul>
<li><span class="stability_undefined"><a href="#color_toargb_color">toArgb(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_toargb_color_options">toArgb(color, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tohsv">[m] toHsv</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tohsv_color">toHsv(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohsv_red_green_blue">toHsv(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tohsva">[m] toHsva</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tohsva_color">toHsva(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohsva_red_green_blue_alpha">toHsva(red, green, blue, alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tohsl">[m] toHsl</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tohsl_color">toHsl(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohsl_red_green_blue">toHsl(red, green, blue)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tohsla">[m] toHsla</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tohsla_color">toHsla(color)</a></span></li>
<li><span class="stability_undefined"><a href="#color_tohsla_red_green_blue_alpha">toHsla(red, green, blue, alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_issimilar">[m] isSimilar</a></span><ul>
<li><span class="stability_undefined"><a href="#color_issimilar_colora_colorb_threshold_algorithm">isSimilar(colorA, colorB, threshold?, algorithm?)</a></span></li>
<li><span class="stability_undefined"><a href="#color_issimilar_colora_colorb_options">isSimilar(colorA, colorB, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_isequal">[m] isEqual</a></span><ul>
<li><span class="stability_undefined"><a href="#color_isequal_colora_colorb_alphamatters">isEqual(colorA, colorB, alphaMatters?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_equals">[m] equals</a></span><ul>
<li><span class="stability_undefined"><a href="#color_equals_colora_colorb">equals(colorA, colorB)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_luminance">[m] luminance</a></span><ul>
<li><span class="stability_undefined"><a href="#color_luminance_color">luminance(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_tocolorstatelist">[m] toColorStateList</a></span><ul>
<li><span class="stability_undefined"><a href="#color_tocolorstatelist_color">toColorStateList(...color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_m_setpaintcolor">[m] setPaintColor</a></span><ul>
<li><span class="stability_undefined"><a href="#color_setpaintcolor_paint_color">setPaintColor(paint, color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#color_p_android">[p+] android</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_css">[p+] css</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_web">[p+] web</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_material">[p+] material</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_black">[p] BLACK</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_blue">[p] BLUE</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_cyan">[p] CYAN</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_aqua">[p] AQUA</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_dark_gray">[p] DARK_GRAY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_dark_grey">[p] DARK_GREY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_dkgray">[p] DKGRAY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_gray">[p] GRAY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_grey">[p] GREY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_green">[p] GREEN</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_lime">[p] LIME</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_light_gray">[p] LIGHT_GRAY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_light_grey">[p] LIGHT_GREY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_ltgray">[p] LTGRAY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_magenta">[p] MAGENTA</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_fuchsia">[p] FUCHSIA</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_maroon">[p] MAROON</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_navy">[p] NAVY</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_olive">[p] OLIVE</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_purple">[p] PURPLE</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_red">[p] RED</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_silver">[p] SILVER</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_teal">[p] TEAL</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_white">[p] WHITE</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_yellow">[p] YELLOW</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_orange">[p] ORANGE</a></span></li>
<li><span class="stability_undefined"><a href="#color_p_transparent">[p] TRANSPARENT</a></span></li>
<li><span class="stability_undefined"><a href="#color_1">融合颜色</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#image_images">图像 (Images)</a></span><ul>
<li><span class="stability_undefined"><a href="#image">图片处理</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_read_path">images.read(path)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_load_url">images.load(url)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_copy_img">images.copy(img)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_save_image_path_format_png_quality_100">images.save(image, path[, format = &quot;png&quot;, quality = 100])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_frombase64_base64">images.fromBase64(base64)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_tobase64_img_format_png_quality_100">images.toBase64(img[, format = &quot;png&quot;, quality = 100])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_frombytes_bytes">images.fromBytes(bytes)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_tobytes_img_format_png_quality_100">images.toBytes(img[, format = &quot;png&quot;, quality = 100])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_clip_img_x_y_w_h">images.clip(img, x, y, w, h)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_resize_img_size_interpolation">images.resize(img, size[, interpolation])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_scale_img_fx_fy_interpolation">images.scale(img, fx, fy[, interpolation])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_rotate_img_degree_x_y">images.rotate(img, degree[, x, y])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_concat_img1_image2_direction">images.concat(img1, image2[, direction])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_grayscale_img">images.grayscale(img)</a></span></li>
<li><span class="stability_undefined"><a href="#image_image_threshold_img_threshold_maxval_type">image.threshold(img, threshold, maxVal[, type])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_adaptivethreshold_img_maxvalue_adaptivemethod_thresholdtype_blocksize_c">images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_cvtcolor_img_code_dstcn">images.cvtColor(img, code[, dstCn])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_inrange_img_lowerbound_upperbound">images.inRange(img, lowerBound, upperBound)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_interval_img_color_interval">images.interval(img, color, interval)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_blur_img_size_anchor_type">images.blur(img, size[, anchor, type])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_medianblur_img_size">images.medianBlur(img, size)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_gaussianblur_img_size_sigmax_sigmay_type">images.gaussianBlur(img, size[, sigmaX, sigmaY, type])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_mattoimage_mat">images.matToImage(mat)</a></span></li>
<li><span class="stability_undefined"><a href="#image_1">找图找色</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_requestscreencapture_landscape">images.requestScreenCapture([landscape])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_capturescreen">images.captureScreen()</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_capturescreen_path">images.captureScreen(path)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_pixel_image_x_y">images.pixel(image, x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findcolor_image_color_options">images.findColor(image, color, options)</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findcolorinregion_img_color_x_y_width_height_threshold">images.findColorInRegion(img, color, x, y[, width, height, threshold])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findcolorequals_img_color_x_y_width_height">images.findColorEquals(img, color[, x, y, width, height])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findmulticolors_img_firstcolor_colors_options">images.findMultiColors(img, firstColor, colors[, options])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_detectscolor_image_color_x_y_threshold_16_algorithm_diff">images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findimage_img_template_options">images.findImage(img, template[, options])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_findimageinregion_img_template_x_y_width_height_threshold">images.findImageInRegion(img, template, x, y[, width, height, threshold])</a></span></li>
<li><span class="stability_undefined"><a href="#image_images_matchtemplate_img_template_options">images.matchTemplate(img, template, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#image_matchingresult">MatchingResult</a></span><ul>
<li><span class="stability_undefined"><a href="#image_matches">matches</a></span></li>
<li><span class="stability_undefined"><a href="#image_points">points</a></span></li>
<li><span class="stability_undefined"><a href="#image_first">first()</a></span></li>
<li><span class="stability_undefined"><a href="#image_last">last()</a></span></li>
<li><span class="stability_undefined"><a href="#image_leftmost">leftmost()</a></span></li>
<li><span class="stability_undefined"><a href="#image_topmost">topmost()</a></span></li>
<li><span class="stability_undefined"><a href="#image_rightmost">rightmost()</a></span></li>
<li><span class="stability_undefined"><a href="#image_bottommost">bottommost()</a></span></li>
<li><span class="stability_undefined"><a href="#image_best">best()</a></span></li>
<li><span class="stability_undefined"><a href="#image_worst">worst()</a></span></li>
<li><span class="stability_undefined"><a href="#image_sortby_cmp">sortBy(cmp)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#image_image">Image</a></span><ul>
<li><span class="stability_undefined"><a href="#image_image_getwidth">Image.getWidth()</a></span></li>
<li><span class="stability_undefined"><a href="#image_image_getheight">Image.getHeight()</a></span></li>
<li><span class="stability_undefined"><a href="#image_image_saveto_path">Image.saveTo(path)</a></span></li>
<li><span class="stability_undefined"><a href="#image_image_pixel_x_y">Image.pixel(x, y)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#image_point">Point</a></span><ul>
<li><span class="stability_undefined"><a href="#image_point_x">Point.x</a></span></li>
<li><span class="stability_undefined"><a href="#image_point_y">Point.y</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr_ocr">光学字符识别 (OCR)</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_ocr_1">[@] ocr</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_ocr_options">ocr(options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_ocr_region">ocr(region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_ocr_img_options">ocr(img, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_ocr_img_region">ocr(img, region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_ocr_imgpath_options">ocr(imgPath, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_ocr_imgpath_region">ocr(imgPath, region)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr_p_mode">[p] mode</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_m_recognizetext">[m] recognizeText</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_options">recognizeText(options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_region">recognizeText(region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_img_options">recognizeText(img, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_img_region">recognizeText(img, region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_imgpath_options">recognizeText(imgPath, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_recognizetext_imgpath_region">recognizeText(imgPath, region)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr_m_detect">[m] detect</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_detect_options">detect(options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_detect_region">detect(region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_detect_img_options">detect(img, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_detect_img_region">detect(img, region)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_detect_imgpath_options">detect(imgPath, options?)</a></span></li>
<li><span class="stability_undefined"><a href="#ocr_detect_imgpath_region">detect(imgPath, region)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr_m_tap">[m] tap</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_tap_mode">tap(mode)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr_m_summary">[m] summary</a></span><ul>
<li><span class="stability_undefined"><a href="#ocr_summary">summary()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ocr">工作模式与代码形式</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#barcode_barcode">条码 (Barcode)</a></span></li>
<li><span class="stability_undefined"><a href="#qrcode_qr_code">二维码 (QR Code)</a></span></li>
<li><span class="stability_undefined"><a href="#keys_keys">按键 (Keys)</a></span><ul>
<li><span class="stability_undefined"><a href="#keys_back">back()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_home">home()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_powerdialog">powerDialog()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_notifications">notifications()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_quicksettings">quickSettings()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_recents">recents()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_splitscreen">splitScreen()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_home_1">Home()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_back_1">Back()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_power">Power()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_menu">Menu()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_volumeup">VolumeUp()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_volumedown">VolumeDown()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_camera">Camera()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_up">Up()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_down">Down()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_left">Left()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_right">Right()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_ok">OK()</a></span></li>
<li><span class="stability_undefined"><a href="#keys_text_text">Text(text)</a></span></li>
<li><span class="stability_undefined"><a href="#keys_keycode_code">KeyCode(code)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#keys_keycode">附录: KeyCode对照表</a></span></li>
<li><span class="stability_undefined"><a href="#device_device">设备 (Device)</a></span><ul>
<li><span class="stability_undefined"><a href="#device_device_width">device.width</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_height">device.height</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_buildid">device.buildId</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_broad">device.broad</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_brand">device.brand</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_device">device.device</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_model">device.model</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_product">device.product</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_bootloader">device.bootloader</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_hardware">device.hardware</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_fingerprint">device.fingerprint</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_serial">device.serial</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_sdkint">device.sdkInt</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_incremental">device.incremental</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_release">device.release</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_baseos">device.baseOS</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_securitypatch">device.securityPatch</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_codename">device.codename</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getimei">device.getIMEI()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getandroidid">device.getAndroidId()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getmacaddress">device.getMacAddress()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getbrightness">device.getBrightness()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getbrightnessmode">device.getBrightnessMode()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_setbrightness_b">device.setBrightness(b)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_setbrightnessmode_mode">device.setBrightnessMode(mode)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getmusicvolume">device.getMusicVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getnotificationvolume">device.getNotificationVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getalarmvolume">device.getAlarmVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getmusicmaxvolume">device.getMusicMaxVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getnotificationmaxvolume">device.getNotificationMaxVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getalarmmaxvolume">device.getAlarmMaxVolume()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_setmusicvolume_volume">device.setMusicVolume(volume)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_setnotificationvolume_volume">device.setNotificationVolume(volume)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_setalarmvolume_volume">device.setAlarmVolume(volume)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getbattery">device.getBattery()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_ischarging">device.isCharging()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_gettotalmem">device.getTotalMem()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_getavailmem">device.getAvailMem()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_isscreenon">device.isScreenOn()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_wakeup">device.wakeUp()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_wakeupifneeded">device.wakeUpIfNeeded()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_keepscreenon_timeout">device.keepScreenOn([timeout])</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_keepscreendim_timeout">device.keepScreenDim([timeout])</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_cancelkeepingawake">device.cancelKeepingAwake()</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_vibrate_millis">device.vibrate(millis)</a></span></li>
<li><span class="stability_undefined"><a href="#device_device_cancelvibration">device.cancelVibration()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#storages_storages">存储 (Storages)</a></span><ul>
<li><span class="stability_undefined"><a href="#storages_m_create">[m] create</a></span><ul>
<li><span class="stability_undefined"><a href="#storages_create_name">create(name)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#storages_m_remove">[m] remove</a></span><ul>
<li><span class="stability_undefined"><a href="#storages_remove_name">remove(name)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#files_files">文件 (Files)</a></span><ul>
<li><span class="stability_undefined"><a href="#files_files_isfile_path">files.isFile(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_isdir_path">files.isDir(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_isemptydir_path">files.isEmptyDir(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_join_parent_child">files.join(parent, child)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_create_path">files.create(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_createwithdirs_path">files.createWithDirs(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_exists_path">files.exists(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_ensuredir_path">files.ensureDir(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_read_path_encoding_utf_8">files.read(path[, encoding = &quot;utf-8&quot;])</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_readbytes_path">files.readBytes(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_write_path_text_encoding_utf_8">files.write(path, text[, encoding = &quot;utf-8&quot;])</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_writebytes_path_bytes">files.writeBytes(path, bytes)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_append_path_text_encoding_utf_8">files.append(path, text[, encoding = &#39;utf-8&#39;])</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_appendbytes_path_text_encoding_utf_8">files.appendBytes(path, text[, encoding = &#39;utf-8&#39;])</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_copy_frompath_topath">files.copy(fromPath, toPath)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_move_frompath_topath">files.move(fromPath, toPath)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_rename_path_newname">files.rename(path, newName)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_renamewithoutextension_path_newname">files.renameWithoutExtension(path, newName)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_getname_path">files.getName(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_getnamewithoutextension_path">files.getNameWithoutExtension(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_getextension_path">files.getExtension(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_remove_path">files.remove(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_removedir_path">files.removeDir(path)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_getsdcardpath">files.getSdcardPath()</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_cwd">files.cwd()</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_path_relativepath">files.path(relativePath)</a></span></li>
<li><span class="stability_undefined"><a href="#files_files_listdir_path_filter">files.listDir(path[, filter])</a></span></li>
<li><span class="stability_undefined"><a href="#files_open_path_mode_r_encoding_utf_8_buffersize_8192">open(path[, mode = &quot;r&quot;, encoding = &quot;utf-8&quot;, bufferSize = 8192])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#files_readabletextfile">ReadableTextFile</a></span><ul>
<li><span class="stability_undefined"><a href="#files_readabletextfile_read">ReadableTextFile.read()</a></span></li>
<li><span class="stability_undefined"><a href="#files_readabletextfile_read_maxcount">ReadableTextFile.read(maxCount)</a></span></li>
<li><span class="stability_undefined"><a href="#files_readabletextfile_readline">ReadableTextFile.readline()</a></span></li>
<li><span class="stability_undefined"><a href="#files_readabletextfile_readlines">ReadableTextFile.readlines()</a></span></li>
<li><span class="stability_undefined"><a href="#files_close">close()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile">PWritableTextFile</a></span><ul>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile_write_text">PWritableTextFile.write(text)</a></span></li>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile_writeline_line">PWritableTextFile.writeline(line)</a></span></li>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile_writelines_lines">PWritableTextFile.writelines(lines)</a></span></li>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile_flush">PWritableTextFile.flush()</a></span></li>
<li><span class="stability_undefined"><a href="#files_pwritabletextfile_close">PWritableTextFile.close()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#engines_engines">引擎 (Engines)</a></span><ul>
<li><span class="stability_undefined"><a href="#engines_engines_execscript_name_script_config">engines.execScript(name, script[, config])</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_execscriptfile_path_config">engines.execScriptFile(path[, config])</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_execautofile_path_config">engines.execAutoFile(path[, config])</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_stopall">engines.stopAll()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_stopallandtoast">engines.stopAllAndToast()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_myengine">engines.myEngine()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_engines_all">engines.all()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#engines_scriptexecution">ScriptExecution</a></span><ul>
<li><span class="stability_undefined"><a href="#engines_scriptexecution_getengine">ScriptExecution.getEngine()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_scriptexecution_getconfig">ScriptExecution.getConfig()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#engines_scriptengine">ScriptEngine</a></span><ul>
<li><span class="stability_undefined"><a href="#engines_scriptengine_forcestop">ScriptEngine.forceStop()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_scriptengine_cwd">ScriptEngine.cwd()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_scriptengine_getsource">ScriptEngine.getSource()</a></span></li>
<li><span class="stability_undefined"><a href="#engines_scriptengine_emit_eventname_args">ScriptEngine.emit(eventName[, ...args])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#engines_scriptconfig">ScriptConfig</a></span><ul>
<li><span class="stability_undefined"><a href="#engines_delay">delay</a></span></li>
<li><span class="stability_undefined"><a href="#engines_interval">interval</a></span></li>
<li><span class="stability_undefined"><a href="#engines_looptimes">loopTimes</a></span></li>
<li><span class="stability_undefined"><a href="#engines_getpath">getPath()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#tasks_tasks">任务 (Tasks)</a></span></li>
<li><span class="stability_undefined"><a href="#modules_module">模块 (Module)</a></span></li>
<li><span class="stability_undefined"><a href="#plugins_plugins">插件 (Plugins)</a></span><ul>
<li><span class="stability_undefined"><a href="#plugins">应用插件</a></span></li>
<li><span class="stability_undefined"><a href="#plugins_1">项目插件</a></span></li>
<li><span class="stability_undefined"><a href="#plugins_2">内置扩展插件</a></span></li>
<li><span class="stability_undefined"><a href="#plugins_m_load">[m] load</a></span><ul>
<li><span class="stability_undefined"><a href="#plugins_load_apppluginpackagename">load(appPluginPackageName)</a></span></li>
<li><span class="stability_undefined"><a href="#plugins_load_projectpluginname">load(projectPluginName)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#plugins_m_extend">[m] extend</a></span><ul>
<li><span class="stability_undefined"><a href="#plugins_extend_modulenames">extend(...moduleNames)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#plugins_m_extendall">[m] extendAll</a></span><ul>
<li><span class="stability_undefined"><a href="#plugins_extendall">extendAll()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#plugins_m_extendallbut">[m] extendAllBut</a></span><ul>
<li><span class="stability_undefined"><a href="#plugins_extendallbut_modulenames">extendAllBut(...moduleNames)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#toast_toast">消息浮动框 (Toast)</a></span><ul>
<li><span class="stability_undefined"><a href="#toast_toast_1">[@] toast</a></span><ul>
<li><span class="stability_undefined"><a href="#toast_toast_text">toast(text)</a></span></li>
<li><span class="stability_undefined"><a href="#toast_toast_text_islong">toast(text, isLong)</a></span></li>
<li><span class="stability_undefined"><a href="#toast_toast_text_islong_isforcible">toast(text, isLong, isForcible)</a></span></li>
<li><span class="stability_undefined"><a href="#toast_toast_text_isforcible">toast(text, isForcible)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#toast_m_dismissall">[m] dismissAll</a></span><ul>
<li><span class="stability_undefined"><a href="#toast_dismissall">dismissAll()</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_notice">消息通知 (Notice)</a></span><ul>
<li><span class="stability_undefined"><a href="#notice">简单操作</a></span></li>
<li><span class="stability_undefined"><a href="#notice_1">通知渠道</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_2">创建渠道</a></span></li>
<li><span class="stability_undefined"><a href="#notice_3">修改渠道</a></span></li>
<li><span class="stability_undefined"><a href="#notice_4">恢复渠道</a></span></li>
<li><span class="stability_undefined"><a href="#notice_5">渠道放权</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_notice_1">[@] notice</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_notice_content">notice(content)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_title_content">notice(title, content)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_2">notice()</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_options">notice(options)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_content_options">notice(content, options)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_title_content_options">notice(title, content, options)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_builder">notice(builder)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_notice_builder_options">notice(builder, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_isenabled">[m] isEnabled</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_isenabled">isEnabled()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_ensureenabled">[m] ensureEnabled</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_ensureenabled">ensureEnabled()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_launchsettings">[m] launchSettings</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_launchsettings">launchSettings()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_cancel">[m] cancel</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_cancel_id">cancel(id)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_getbuilder">[m] getBuilder</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_getbuilder">getBuilder()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_config">[m] config</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_config_preset">config(preset)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_p_channel">[p+] channel</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_m_create">[m] create</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_create_channelid">create(channelId)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_create_channelid_options">create(channelId, options)</a></span></li>
<li><span class="stability_undefined"><a href="#notice_create_options">create(options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_contains">[m] contains</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_contains_channelid">contains(channelId)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_remove">[m] remove</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_remove_channelid">remove(channelId)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_get">[m] get</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_get_channelid">get(channelId)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#notice_m_getall">[m] getAll</a></span><ul>
<li><span class="stability_undefined"><a href="#notice_getall">getAll()</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_console">控制台 (Console)</a></span><ul>
<li><span class="stability_undefined"><a href="#console">显示控制台</a></span></li>
<li><span class="stability_undefined"><a href="#console_1">模块作用</a></span></li>
<li><span class="stability_undefined"><a href="#console_2">浮动窗口</a></span></li>
<li><span class="stability_undefined"><a href="#console_m_show">[m] show</a></span><ul>
<li><span class="stability_undefined"><a href="#console_show">show()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_isshowing">[m] isShowing</a></span><ul>
<li><span class="stability_undefined"><a href="#console_isshowing">isShowing()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_hide">[m] hide</a></span><ul>
<li><span class="stability_undefined"><a href="#console_hide">hide()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_reset">[m] reset</a></span><ul>
<li><span class="stability_undefined"><a href="#console_reset">reset()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_collapse">[m] collapse</a></span><ul>
<li><span class="stability_undefined"><a href="#console_collapse">collapse()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_expand">[m] expand</a></span><ul>
<li><span class="stability_undefined"><a href="#console_expand">expand()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_launch">[m] launch</a></span><ul>
<li><span class="stability_undefined"><a href="#console_launch">launch()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_build">[m] build</a></span><ul>
<li><span class="stability_undefined"><a href="#console_build_options">build(options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setsize">[m] setSize</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setsize_width_height">setSize(width, height)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setposition">[m] setPosition</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setposition_x_y">setPosition(x, y)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setexitonclose">[m] setExitOnClose</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setexitonclose_exitonclose">setExitOnClose(exitOnClose?)</a></span></li>
<li><span class="stability_undefined"><a href="#console_setexitonclose_timeout">setExitOnClose(timeout)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitle">[m] setTitle</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitle_title">setTitle(title)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitletextsize">[m] setTitleTextSize</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitletextsize_size">setTitleTextSize(size)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitletextcolor">[m] setTitleTextColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitletextcolor_color">setTitleTextColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitlebackgroundcolor">[m] setTitleBackgroundColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitlebackgroundcolor_color">setTitleBackgroundColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitlebackgroundalpha">[m] setTitleBackgroundAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitlebackgroundalpha_alpha">setTitleBackgroundAlpha(alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settitleiconstint">[m] setTitleIconsTint</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settitleiconstint_color">setTitleIconsTint(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setcontenttextsize">[m] setContentTextSize</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setcontenttextsize_size_number">setContentTextSize(size: number)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setcontenttextcolor">[m] setContentTextColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setcontenttextcolor_colormap">setContentTextColor(colorMap)</a></span></li>
<li><span class="stability_undefined"><a href="#console_setcontenttextcolor_color">setContentTextColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setcontentbackgroundcolor">[m] setContentBackgroundColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setcontentbackgroundcolor_color">setContentBackgroundColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setcontentbackgroundalpha">[m] setContentBackgroundAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setcontentbackgroundalpha_alpha">setContentBackgroundAlpha(alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settextsize">[m] setTextSize</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settextsize_size">setTextSize(size)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_settextcolor">[m] setTextColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_settextcolor_color">setTextColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setbackgroundcolor">[m] setBackgroundColor</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setbackgroundcolor_color">setBackgroundColor(color)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setbackgroundalpha">[m] setBackgroundAlpha</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setbackgroundalpha_alpha">setBackgroundAlpha(alpha)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_verbose">[m] verbose</a></span><ul>
<li><span class="stability_undefined"><a href="#console_verbose_data_args">verbose(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_log">[m] log</a></span><ul>
<li><span class="stability_undefined"><a href="#console_log_data_args">log(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_info">[m] info</a></span><ul>
<li><span class="stability_undefined"><a href="#console_info_data_args">info(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_warn">[m] warn</a></span><ul>
<li><span class="stability_undefined"><a href="#console_warn_data_args">warn(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_error">[m] error</a></span><ul>
<li><span class="stability_undefined"><a href="#console_error_data_args">error(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_assert">[m] assert</a></span><ul>
<li><span class="stability_undefined"><a href="#console_assert_bool_message">assert(bool, message?)</a></span></li>
<li><span class="stability_undefined"><a href="#console_assert_func_message">assert(func, message?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_clear">[m] clear</a></span><ul>
<li><span class="stability_undefined"><a href="#console_clear">clear()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_print">[m] print</a></span><ul>
<li><span class="stability_undefined"><a href="#console_print_data_args">print(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_printallstacktrace">[m] printAllStackTrace</a></span><ul>
<li><span class="stability_undefined"><a href="#console_printallstacktrace_e">printAllStackTrace(e)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_trace">[m] trace</a></span><ul>
<li><span class="stability_undefined"><a href="#console_trace_message_level">trace(message, level?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_time">[m] time</a></span><ul>
<li><span class="stability_undefined"><a href="#console_time_label">time(label?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_timeend">[m] timeEnd</a></span><ul>
<li><span class="stability_undefined"><a href="#console_timeend_label">timeEnd(label?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_setgloballogconfig">[m] setGlobalLogConfig</a></span><ul>
<li><span class="stability_undefined"><a href="#console_setgloballogconfig_config">setGlobalLogConfig(config)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_resetgloballogconfig">[m] resetGlobalLogConfig</a></span><ul>
<li><span class="stability_undefined"><a href="#console_resetgloballogconfig">resetGlobalLogConfig()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_input">[m] input</a></span><ul>
<li><span class="stability_undefined"><a href="#console_input_data_args">input(data, ...args)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#console_m_rawinput">[m] rawInput</a></span><ul>
<li><span class="stability_undefined"><a href="#console_rawinput_data_args">rawInput(data, ...args)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#shell_shell">Shell</a></span></li>
<li><span class="stability_undefined"><a href="#shell_shell_1">shell函数</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_shell_cmd_root">shell(cmd[, root])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#shell_shell_2">Shell</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_new_shell_root">new Shell(root)</a></span></li>
<li><span class="stability_undefined"><a href="#shell_shell_exec_cmd">Shell.exec(cmd)</a></span></li>
<li><span class="stability_undefined"><a href="#shell_shell_exit">Shell.exit()</a></span></li>
<li><span class="stability_undefined"><a href="#shell_shell_exitandwaitfor">Shell.exitAndWaitFor()</a></span></li>
<li><span class="stability_undefined"><a href="#shell_shell_setcallback_callback">Shell.setCallback(callback)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#shell_shell_3">附录: shell命令简介</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_am">am命令</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_start_options_intent">start [options] intent</a></span></li>
<li><span class="stability_undefined"><a href="#shell_startservice_options_intent">startservice [options] intent</a></span></li>
<li><span class="stability_undefined"><a href="#shell_force_stop_package">force-stop package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_kill_options_package">kill [options] package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_kill_all">kill-all</a></span></li>
<li><span class="stability_undefined"><a href="#shell_broadcast_options_intent">broadcast [options] intent</a></span></li>
<li><span class="stability_undefined"><a href="#shell_instrument_options_component">instrument [options] component</a></span></li>
<li><span class="stability_undefined"><a href="#shell_dumpheap_options_process_file">dumpheap [options] process file</a></span></li>
<li><span class="stability_undefined"><a href="#shell_monitor_options_anr">monitor [options]    启动对崩溃或 ANR 的监控.</a></span></li>
<li><span class="stability_undefined"><a href="#shell_screen_compat_span_class_type_on_span_span_class_type_off_span_package">screen-compat { <span class="type">on</span> | <span class="type">off</span> } package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_display_size_reset_widthxheight">display-size [reset|widthxheight]</a></span></li>
<li><span class="stability_undefined"><a href="#shell_display_density_dpi">display-density dpi</a></span></li>
<li><span class="stability_undefined"><a href="#shell_to_uri_intent">to-uri intent</a></span></li>
<li><span class="stability_undefined"><a href="#shell_to_intent_uri_intent">to-intent-uri intent</a></span></li>
<li><span class="stability_undefined"><a href="#shell_intent">intent参数的规范</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_uri_component_package">URI component package</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#shell">应用包名</a></span></li>
<li><span class="stability_undefined"><a href="#shell_pm">pm命令</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_list_packages_options_filter">list packages [options] filter</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_permission_groups">list permission-groups</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_permissions_options_group">list permissions [options] group</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_instrumentation_options">list instrumentation [options]</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_features">list features</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_libraries">list libraries</a></span></li>
<li><span class="stability_undefined"><a href="#shell_list_users">list users</a></span></li>
<li><span class="stability_undefined"><a href="#shell_path_package">path package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_install_options_path">install [options] path</a></span></li>
<li><span class="stability_undefined"><a href="#shell_uninstall_options_package">uninstall [options] package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_clear_package">clear package</a></span></li>
<li><span class="stability_undefined"><a href="#shell_enable_package_or_component">enable package_or_component</a></span></li>
<li><span class="stability_undefined"><a href="#shell_disable_package_or_component">disable package_or_component</a></span></li>
<li><span class="stability_undefined"><a href="#shell_disable_user_options_package_or_component">disable-user [options] package_or_component</a></span></li>
<li><span class="stability_undefined"><a href="#shell_grant_package_name_permission">grant package_name permission</a></span></li>
<li><span class="stability_undefined"><a href="#shell_revoke_package_name_permission">revoke package_name permission</a></span></li>
<li><span class="stability_undefined"><a href="#shell_set_install_location_location">set-install-location location</a></span></li>
<li><span class="stability_undefined"><a href="#shell_get_install_location">get-install-location</a></span></li>
<li><span class="stability_undefined"><a href="#shell_set_permission_enforced_permission_true_false">set-permission-enforced permission [true|false]</a></span></li>
<li><span class="stability_undefined"><a href="#shell_trim_caches_desired_free_space">trim-caches desired_free_space</a></span></li>
<li><span class="stability_undefined"><a href="#shell_create_user_user_name">create-user user_name</a></span></li>
<li><span class="stability_undefined"><a href="#shell_remove_user_user_id">remove-user user_id</a></span></li>
<li><span class="stability_undefined"><a href="#shell_get_max_users">get-max-users</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#shell_1">其他命令</a></span><ul>
<li><span class="stability_undefined"><a href="#shell_2">进行屏幕截图</a></span></li>
<li><span class="stability_undefined"><a href="#shell_3">列表文件</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#media_media">多媒体 (Media)</a></span><ul>
<li><span class="stability_undefined"><a href="#media_media_scanfile_path">media.scanFile(path)</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_playmusic_path_volume_looping">media.playMusic(path[, volume, looping])</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_musicseekto_msec">media.musicSeekTo(msec)</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_pausemusic">media.pauseMusic()</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_resumemusic">media.resumeMusic()</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_stopmusic">media.stopMusic()</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_ismusicplaying">media.isMusicPlaying()</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_getmusicduration">media.getMusicDuration()</a></span></li>
<li><span class="stability_undefined"><a href="#media_media_getmusiccurrentposition">media.getMusicCurrentPosition()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#sensors_sensors">传感器 (Sensors)</a></span><ul>
<li><span class="stability_undefined"><a href="#sensors_sensors_register_sensorname_delay">sensors.register(sensorName[, delay])</a></span></li>
<li><span class="stability_undefined"><a href="#sensors_sensors_unregister_emitter">sensors.unregister(emitter)</a></span></li>
<li><span class="stability_undefined"><a href="#sensors_sensors_unregisterall">sensors.unregisterAll()</a></span></li>
<li><span class="stability_undefined"><a href="#sensors_sensors_ignoresunsupportedsensor">sensors.ignoresUnsupportedSensor</a></span></li>
<li><span class="stability_undefined"><a href="#sensors_unsupported_sensor">事件: &#39;unsupported_sensor&#39;</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#sensors_sensoreventemitter">SensorEventEmitter</a></span><ul>
<li><span class="stability_undefined"><a href="#sensors_change">事件: &#39;change&#39;</a></span></li>
<li><span class="stability_undefined"><a href="#sensors_accuracy_change">事件: &#39;accuracy_change&#39;</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_recorder">记录器 (Recorder)</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_recorder_1">[@] recorder</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_recorder_2">recorder()</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_recorder_key">recorder(key)</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_recorder_key_timestamp">recorder(key, timestamp)</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_recorder_func">recorder(func)</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_recorder_func_thistype">recorder(func, thisType)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_save">[m] save</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_save">save()</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_save_key">save(key)</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_save_key_timestamp">save(key, timestamp)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_load">[m] load</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_load">load()</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_load_key">load(key)</a></span></li>
<li><span class="stability_undefined"><a href="#recorder_load_key_timestamp">load(key, timestamp)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_islessthan">[m] isLessThan</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_islessthan_key_compare">isLessThan(key, compare)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_isgreaterthan">[m] isGreaterThan</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_isgreaterthan_key_compare">isGreaterThan(key, compare)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_has">[m] has</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_has_key">has(key)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_remove">[m] remove</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_remove_key">remove(key)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#recorder_m_clear">[m] clear</a></span><ul>
<li><span class="stability_undefined"><a href="#recorder_clear">clear()</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#timers_timers">定时器 (Timers)</a></span><ul>
<li><span class="stability_undefined"><a href="#timers_setinterval_callback_delay_args">setInterval(callback, delay[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#timers_settimeout_callback_delay_args">setTimeout(callback, delay[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#timers_setimmediate_callback_args">setImmediate(callback[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#timers_clearinterval_id">clearInterval(id)</a></span></li>
<li><span class="stability_undefined"><a href="#timers_cleartimeout_id">clearTimeout(id)</a></span></li>
<li><span class="stability_undefined"><a href="#timers_clearimmediate_id">clearImmediate(id)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#threads_threads">线程 (Threads)</a></span><ul>
<li><span class="stability_undefined"><a href="#threads_threads_start_action">threads.start(action)</a></span></li>
<li><span class="stability_undefined"><a href="#threads_threads_shutdownall">threads.shutDownAll()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_threads_currentthread">threads.currentThread()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_threads_disposable">threads.disposable()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_threads_atomic_initialvalue">threads.atomic([initialValue])</a></span></li>
<li><span class="stability_undefined"><a href="#threads_threads_lock">threads.lock()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#threads_thread">Thread</a></span><ul>
<li><span class="stability_undefined"><a href="#threads_thread_interrupt">Thread.interrupt()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_join_timeout">Thread.join([timeout])</a></span></li>
<li><span class="stability_undefined"><a href="#threads_isalive">isAlive()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_waitfor">waitFor()</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_settimeout_callback_delay_args">Thread.setTimeout(callback, delay[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_setinterval_callback_delay_args">Thread.setInterval(callback, delay[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_setimmediate_callback_args">Thread.setImmediate(callback[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_clearinterval_id">Thread.clearInterval(id)</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_cleartimeout_id">Thread.clearTimeout(id)</a></span></li>
<li><span class="stability_undefined"><a href="#threads_thread_clearimmediate_id">Thread.clearImmediate(id)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#threads">线程安全</a></span><ul>
<li><span class="stability_undefined"><a href="#threads_sync_func">sync(func)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#threads_1">线程通信</a></span></li>
<li><span class="stability_undefined"><a href="#continuation_continuation">协程 (Continuation)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events">事件监听 (Events)</a></span><ul>
<li><span class="stability_undefined"><a href="#events_events_emitter">events.emitter()</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_observekey">events.observeKey()</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_onkeydown_keyname_listener">events.onKeyDown(keyName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_onkeyup_keyname_listener">events.onKeyUp(keyName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_oncekeydown_keyname_listener">events.onceKeyDown(keyName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_oncekeyup_keyname_listener">events.onceKeyUp(keyName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_removeallkeydownlisteners_keyname">events.removeAllKeyDownListeners(keyName)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_removeallkeyuplisteners_keyname">events.removeAllKeyUpListeners(keyName)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_setkeyinterceptionenabled_key_enabled">events.setKeyInterceptionEnabled([key, ]enabled)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_observetouch">events.observeTouch()</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_settoucheventtimeout_timeout">events.setTouchEventTimeout(timeout)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_gettoucheventtimeout">events.getTouchEventTimeout()</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_ontouch_listener">events.onTouch(listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_removealltouchlisteners">events.removeAllTouchListeners()</a></span></li>
<li><span class="stability_undefined"><a href="#events_key">事件: &#39;key&#39;</a></span></li>
<li><span class="stability_undefined"><a href="#events_key_down">事件: &#39;key_down&#39;</a></span></li>
<li><span class="stability_undefined"><a href="#events_key_up">事件: &#39;key_up&#39;</a></span></li>
<li><span class="stability_undefined"><a href="#events_exit">事件: &#39;exit`</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_observenotification">events.observeNotification()</a></span></li>
<li><span class="stability_undefined"><a href="#events_events_observetoast">events.observeToast()</a></span></li>
<li><span class="stability_undefined"><a href="#events_toast">事件: &#39;toast&#39;</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification">事件: &#39;notification&#39;</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#events_notification_1">Notification</a></span><ul>
<li><span class="stability_undefined"><a href="#events_notification_number">Notification.number</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_when">Notification.when</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_getpackagename">Notification.getPackageName()</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_gettitle">Notification.getTitle()</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_gettext">Notification.getText()</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_click">Notification.click()</a></span></li>
<li><span class="stability_undefined"><a href="#events_notification_delete">Notification.delete()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#events_keyevent">KeyEvent</a></span><ul>
<li><span class="stability_undefined"><a href="#events_keyevent_getaction">KeyEvent.getAction()</a></span></li>
<li><span class="stability_undefined"><a href="#events_keyevent_getkeycode">KeyEvent.getKeyCode()</a></span></li>
<li><span class="stability_undefined"><a href="#events_keyevent_geteventtime">KeyEvent.getEventTime()</a></span></li>
<li><span class="stability_undefined"><a href="#events_keyevent_getdowntime">KeyEvent.getDownTime()</a></span></li>
<li><span class="stability_undefined"><a href="#events_keyevent_keycodetostring_keycode">KeyEvent.keyCodeToString(keyCode)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#events_keys">keys</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter">EventEmitter</a></span><ul>
<li><span class="stability_undefined"><a href="#events_eventemitter_defaultmaxlisteners">EventEmitter.defaultMaxListeners</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_addlistener_eventname_listener">EventEmitter.addListener(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_emit_eventname_args">EventEmitter.emit(eventName[, ...args])</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_eventnames">EventEmitter.eventNames()</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_getmaxlisteners">EventEmitter.getMaxListeners()</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_listenercount_eventname">EventEmitter.listenerCount(eventName)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_listeners_eventname">EventEmitter.listeners(eventName)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_on_eventname_listener">EventEmitter.on(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_once_eventname_listener">EventEmitter.once(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_prependlistener_eventname_listener">EventEmitter.prependListener(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_prependoncelistener_eventname_listener">EventEmitter.prependOnceListener(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_removealllisteners_eventname">EventEmitter.removeAllListeners([eventName])</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_removelistener_eventname_listener">EventEmitter.removeListener(eventName, listener)</a></span></li>
<li><span class="stability_undefined"><a href="#events_eventemitter_setmaxlisteners_n">EventEmitter.setMaxListeners(n)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#events_events_broadcast">events.broadcast: 脚本间广播</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs">对话框 (Dialogs)</a></span><ul>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_alert_title_content_callback">dialogs.alert(title[, content, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_confirm_title_content_callback">dialogs.confirm(title[, content, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_rawinput_title_prefill_callback">dialogs.rawInput(title[, prefill, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_input_title_prefill_callback">dialogs.input(title[, prefill, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_prompt_title_prefill_callback">dialogs.prompt(title[, prefill, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_select_title_items_callback">dialogs.select(title, items, callback)</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_singlechoice_title_items_index_callback">dialogs.singleChoice(title, items[, index, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_multichoice_title_items_indices_callback">dialogs.multiChoice(title, items[, indices, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialogs_build_properties">dialogs.build(properties)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#dialogs_dialog">Dialog</a></span><ul>
<li><span class="stability_undefined"><a href="#dialogs_show">事件: <code>show</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_cancel">事件: <code>cancel</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dismiss">事件: <code>dismiss</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_positive">事件: <code>positive</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_negative">事件: <code>negative</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_neutral">事件: <code>neutral</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_any">事件: <code>any</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_item_select">事件: <code>item_select</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_single_choice">事件: <code>single_choice</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_multi_choice">事件: <code>multi_choice</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_input">事件: <code>input</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_input_change">事件: <code>input_change</code></a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialog_getprogress">dialog.getProgress()</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialog_getmaxprogress">dialog.getMaxProgress()</a></span></li>
<li><span class="stability_undefined"><a href="#dialogs_dialog_getactionbutton_action">dialog.getActionButton(action)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#floaty_floaty">悬浮窗 (Floaty)</a></span><ul>
<li><span class="stability_undefined"><a href="#floaty_floaty_window_layout">floaty.window(layout)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_floaty_rawwindow_layout">floaty.rawWindow(layout)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_floaty_closeall">floaty.closeAll()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#floaty_floatywindow">FloatyWindow</a></span><ul>
<li><span class="stability_undefined"><a href="#floaty_window_setadjustenabled_enabled">window.setAdjustEnabled(enabled)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_setposition_x_y">window.setPosition(x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getx">window.getX()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_gety">window.getY()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_setsize_width_height">window.setSize(width, height)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getwidth">window.getWidth()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getheight">window.getHeight()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_close">window.close()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_exitonclose">window.exitOnClose()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#floaty_floatyrawwindow">FloatyRawWindow</a></span><ul>
<li><span class="stability_undefined"><a href="#floaty_window_settouchable_touchable">window.setTouchable(touchable)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_setposition_x_y_1">window.setPosition(x, y)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getx_1">window.getX()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_gety_1">window.getY()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_setsize_width_height_1">window.setSize(width, height)</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getwidth_1">window.getWidth()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_getheight_1">window.getHeight()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_close_1">window.close()</a></span></li>
<li><span class="stability_undefined"><a href="#floaty_window_exitonclose_1">window.exitOnClose()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#canvas_canvas">画布 (Canvas)</a></span><ul>
<li><span class="stability_undefined"><a href="#canvas_canvas_getwidth">canvas.getWidth()</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_getheight">canvas.getHeight()</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawrgb_r_int_g_int_b">canvas.drawRGB(r, int g, int b)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawargb_a_r_g_b">canvas.drawARGB(a, r, g, b)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawcolor_color">canvas.drawColor(color)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawcolor_color_mode">canvas.drawColor(color, mode)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawpaint_paint">canvas.drawPaint(paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawpoint_x_y_paint">canvas.drawPoint(x, y, paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawpoints_pts_paint">canvas.drawPoints(pts, paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawline_startx_starty_stopx_stopy_paint">canvas.drawLine(startX, startY, stopX, stopY, paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawrect_r_paint">canvas.drawRect(r, paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawrect_left_top_right_bottom_android_graphics_paint_paint">canvas.drawRect(left, top, right, bottom, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawoval_android_graphics_rectf_oval_android_graphics_paint_paint">canvas.drawOval(android.graphics.RectF oval, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawoval_float_left_float_top_float_right_float_bottom_android_graphics_paint_paint">canvas.drawOval(float left, float top, float right, float bottom, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawcircle_float_cx_float_cy_float_radius_android_graphics_paint_paint">canvas.drawCircle(float cx, float cy, float radius, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawarc_android_graphics_rectf_oval_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint">canvas.drawArc(android.graphics.RectF oval, float startAngle, float sweepAngle, boolean useCenter, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawarc_float_left_float_top_float_right_float_bottom_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint">canvas.drawArc(float left, float top, float right, float bottom, float startAngle, float sweepAngle, boolean useCenter, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawroundrect_android_graphics_rectf_rect_float_rx_float_ry_android_graphics_paint_paint">canvas.drawRoundRect(android.graphics.RectF rect, float rx, float ry, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawroundrect_float_left_float_top_float_right_float_bottom_float_rx_float_ry_android_graphics_paint_paint">canvas.drawRoundRect(float left, float top, float right, float bottom, float rx, float ry, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawpath_android_graphics_path_path_android_graphics_paint_paint">canvas.drawPath(android.graphics.Path path, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawbitmap_android_graphics_bitmap_bitmap_float_left_float_top_android_graphics_paint_paint">canvas.drawBitmap(android.graphics.Bitmap bitmap, float left, float top, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawtext_java_lang_string_text_float_x_float_y_android_graphics_paint_paint">canvas.drawText(java.lang.String text, float x, float y, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_drawtextonpath_java_lang_string_text_android_graphics_path_path_float_hoffset_float_voffset_android_graphics_paint_paint">canvas.drawTextOnPath(java.lang.String text, android.graphics.Path path, float hOffset, float vOffset, android.graphics.Paint paint)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_translate_dx_dy">canvas.translate(dx, dy)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_scale_sx_sy">canvas.scale(sx, sy)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_scale_float_sx_float_sy_float_px_float_py">canvas.scale(float sx, float sy, float px, float py)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_rotate_float_degrees">canvas.rotate(float degrees)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_rotate_float_degrees_float_px_float_py">canvas.rotate(float degrees, float px, float py)</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_canvas_skew_float_sx_float_sy">canvas.skew(float sx, float sy)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#canvas">画笔</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_1">变换矩阵</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_2">路径</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_porter_duff">Porter-Duff操作</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_3">着色器</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_4">遮罩过滤器</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_5">颜色过滤器</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_6">路径特效</a></span></li>
<li><span class="stability_undefined"><a href="#canvas_7">区域</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui">用户界面 (UI)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_view">视图: View</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_attr_name_value">attr(name, value)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_attr_name">attr(name)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_w">w</a></span></li>
<li><span class="stability_undefined"><a href="#ui_h">h</a></span></li>
<li><span class="stability_undefined"><a href="#ui_id">id</a></span></li>
<li><span class="stability_undefined"><a href="#ui_gravity">gravity</a></span></li>
<li><span class="stability_undefined"><a href="#ui_layout_gravity">layout_gravity</a></span></li>
<li><span class="stability_undefined"><a href="#ui_margin">margin</a></span></li>
<li><span class="stability_undefined"><a href="#ui_marginleft">marginLeft</a></span></li>
<li><span class="stability_undefined"><a href="#ui_marginright">marginRight</a></span></li>
<li><span class="stability_undefined"><a href="#ui_margintop">marginTop</a></span></li>
<li><span class="stability_undefined"><a href="#ui_marginbottom">marginBottom</a></span></li>
<li><span class="stability_undefined"><a href="#ui_padding">padding</a></span></li>
<li><span class="stability_undefined"><a href="#ui_paddingleft">paddingLeft</a></span></li>
<li><span class="stability_undefined"><a href="#ui_paddingright">paddingRight</a></span></li>
<li><span class="stability_undefined"><a href="#ui_paddingtop">paddingTop</a></span></li>
<li><span class="stability_undefined"><a href="#ui_paddingbottom">paddingBottom</a></span></li>
<li><span class="stability_undefined"><a href="#ui_bg">bg</a></span></li>
<li><span class="stability_undefined"><a href="#ui_alpha">alpha</a></span></li>
<li><span class="stability_undefined"><a href="#ui_foreground">foreground</a></span></li>
<li><span class="stability_undefined"><a href="#ui_minheight">minHeight</a></span></li>
<li><span class="stability_undefined"><a href="#ui_minwidth">minWidth</a></span></li>
<li><span class="stability_undefined"><a href="#ui_visibility">visibility</a></span></li>
<li><span class="stability_undefined"><a href="#ui_rotation">rotation</a></span></li>
<li><span class="stability_undefined"><a href="#ui_transformpivotx">transformPivotX</a></span></li>
<li><span class="stability_undefined"><a href="#ui_transformpivoty">transformPivotY</a></span></li>
<li><span class="stability_undefined"><a href="#ui_style">style</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_text">文本控件: text</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_text_1">text</a></span></li>
<li><span class="stability_undefined"><a href="#ui_textcolor">textColor</a></span></li>
<li><span class="stability_undefined"><a href="#ui_textsize">textSize</a></span></li>
<li><span class="stability_undefined"><a href="#ui_textstyle">textStyle</a></span></li>
<li><span class="stability_undefined"><a href="#ui_lines">lines</a></span></li>
<li><span class="stability_undefined"><a href="#ui_maxlines">maxLines</a></span></li>
<li><span class="stability_undefined"><a href="#ui_typeface">typeface</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ellipsize">ellipsize</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ems">ems</a></span></li>
<li><span class="stability_undefined"><a href="#ui_autolink">autoLink</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_button">按钮控件: button</a></span></li>
<li><span class="stability_undefined"><a href="#ui_input">输入框控件: input</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_hint">hint</a></span></li>
<li><span class="stability_undefined"><a href="#ui_textcolorhint">textColorHint</a></span></li>
<li><span class="stability_undefined"><a href="#ui_textsizehint">textSizeHint</a></span></li>
<li><span class="stability_undefined"><a href="#ui_inputtype">inputType</a></span></li>
<li><span class="stability_undefined"><a href="#ui_password">password</a></span></li>
<li><span class="stability_undefined"><a href="#ui_numeric">numeric</a></span></li>
<li><span class="stability_undefined"><a href="#ui_phonenumber">phoneNumber</a></span></li>
<li><span class="stability_undefined"><a href="#ui_digits">digits</a></span></li>
<li><span class="stability_undefined"><a href="#ui_singleline">singleLine</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_img">图片控件: img</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_src">src</a></span></li>
<li><span class="stability_undefined"><a href="#ui_tint">tint</a></span></li>
<li><span class="stability_undefined"><a href="#ui_scaletype">scaleType</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radius">radius</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radiustopleft">radiusTopLeft</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radiustopright">radiusTopRight</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radiusbottomleft">radiusBottomLeft</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radiusbottomright">radiusBottomRight</a></span></li>
<li><span class="stability_undefined"><a href="#ui_borderwidth">borderWidth</a></span></li>
<li><span class="stability_undefined"><a href="#ui_bordercolor">borderColor</a></span></li>
<li><span class="stability_undefined"><a href="#ui_circle">circle</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_vertical">垂直布局: vertical</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_layout_weight">layout_weight</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_horizontal">水平布局: horizontal</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_layout_weight_1">layout_weight</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_linear">线性布局: linear</a></span></li>
<li><span class="stability_undefined"><a href="#ui_frame">帧布局: frame</a></span></li>
<li><span class="stability_undefined"><a href="#ui_relative">相对布局: relative</a></span></li>
<li><span class="stability_undefined"><a href="#ui_checkbox">勾选框控件: checkbox</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radio">选择框控件: radio</a></span></li>
<li><span class="stability_undefined"><a href="#ui_radiogroup">选择框布局: radiogroup</a></span></li>
<li><span class="stability_undefined"><a href="#ui_switch">开关控件: Switch</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_checked">checked</a></span></li>
<li><span class="stability_undefined"><a href="#ui_text_2">text</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_progressbar">进度条控件: progressbar</a></span></li>
<li><span class="stability_undefined"><a href="#ui_seekbar">拖动条控件: seekbar</a></span></li>
<li><span class="stability_undefined"><a href="#ui_spinner">下来菜单控件: spinner</a></span></li>
<li><span class="stability_undefined"><a href="#ui_timepicker">时间选择控件: timepicker</a></span></li>
<li><span class="stability_undefined"><a href="#ui_datepicker">日期选择控件: datepicker</a></span></li>
<li><span class="stability_undefined"><a href="#ui_fab">浮动按钮控件: fab</a></span></li>
<li><span class="stability_undefined"><a href="#ui_toolbar">标题栏控件: toolbar</a></span></li>
<li><span class="stability_undefined"><a href="#ui_card">卡片: card</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_cardbackgroundcolor">cardBackgroundColor</a></span></li>
<li><span class="stability_undefined"><a href="#ui_cardcornerradius">cardCornerRadius</a></span></li>
<li><span class="stability_undefined"><a href="#ui_cardelevation">cardElevation</a></span></li>
<li><span class="stability_undefined"><a href="#ui_contentpadding">contentPadding</a></span></li>
<li><span class="stability_undefined"><a href="#ui_foreground_1">foreground</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_drawer">抽屉布局: drawer</a></span></li>
<li><span class="stability_undefined"><a href="#ui_list">列表: list</a></span></li>
<li><span class="stability_undefined"><a href="#ui_tab_tab">Tab: tab</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_1">ui</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_ui_layout_xml">ui.layout(xml)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_layoutfile_xmlfile">ui.layoutFile(xmlFile)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_inflate_xml_parent_null_attachtoparent_false">ui.inflate(xml[, parent = null, attachToParent = false])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_ui_registerwidget_name_widget">ui.registerWidget(name, widget)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_isuithread">ui.isUiThread()</a></span><ul>
<li><span class="stability_undefined"><a href="#ui_ui_findview_id">ui.findView(id)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_finish">ui.finish()</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_setcontentview_view">ui.setContentView(view)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_post_callback_delay_0">ui.post(callback[, delay = 0])</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_run_callback">ui.run(callback)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_statusbarcolor_color">ui.statusBarColor(color)</a></span></li>
<li><span class="stability_undefined"><a href="#ui_ui_useandroidresources">ui.useAndroidResources()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#ui_dimension">尺寸的单位: Dimension</a></span></li>
<li><span class="stability_undefined"><a href="#ui_drawables">Drawables</a></span></li>
<li><span class="stability_undefined"><a href="#ui">颜色</a></span></li>
<li><span class="stability_undefined"><a href="#web_web">万维网 (Web)</a></span><ul>
<li><span class="stability_undefined"><a href="#web_m_newinjectablewebview">[m] newInjectableWebView</a></span><ul>
<li><span class="stability_undefined"><a href="#web_newinjectablewebview_url">newInjectableWebView(url?)</a></span></li>
<li><span class="stability_undefined"><a href="#web_newinjectablewebview_activity">newInjectableWebView(activity)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#web_m_newinjectablewebclient">[m] newInjectableWebClient</a></span><ul>
<li><span class="stability_undefined"><a href="#web_newinjectablewebclient">newInjectableWebClient()</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#web_m_newwebsocket">[m] newWebSocket</a></span><ul>
<li><span class="stability_undefined"><a href="#web_newwebsocket_url">newWebSocket(url)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_http">HTTP</a></span><ul>
<li><span class="stability_undefined"><a href="#http_m_get">[m] get</a></span><ul>
<li><span class="stability_undefined"><a href="#http_get_url">get(url)</a></span></li>
<li><span class="stability_undefined"><a href="#http_get_url_options">get(url, options)</a></span></li>
<li><span class="stability_undefined"><a href="#http_get_url_options_callback">get(url, options, callback)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_m_post">[m] post</a></span><ul>
<li><span class="stability_undefined"><a href="#http_post_url_data_options_callback">post(url, data, options?, callback?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_m_postjson">[m] postJson</a></span><ul>
<li><span class="stability_undefined"><a href="#http_postjson_url_data_options_callback">postJson(url, data?, options?, callback?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_m_postmultipart">[m] postMultipart</a></span><ul>
<li><span class="stability_undefined"><a href="#http_postmultipart_url_files_options_callback">postMultipart(url, files, options?, callback?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_m_request">[m] request</a></span><ul>
<li><span class="stability_undefined"><a href="#http_request_url_options_callback">request(url, options?, callback?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#http_m_buildrequest">[m] buildRequest</a></span><ul>
<li><span class="stability_undefined"><a href="#http_buildrequest_url_options">buildRequest(url, options)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#base64_base64">Base64</a></span><ul>
<li><span class="stability_undefined"><a href="#base64">可逆性</a></span></li>
<li><span class="stability_undefined"><a href="#base64_m_encode">[m] encode</a></span><ul>
<li><span class="stability_undefined"><a href="#base64_encode_o_encoding">encode(o, encoding?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#base64_m_decode">[m] decode</a></span><ul>
<li><span class="stability_undefined"><a href="#base64_decode_o_encoding">decode(o, encoding?)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_crypto">密文 (Crypto)</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_m_digest">[m] digest</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_digest_message_algorithm">digest(message, algorithm)</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_digest_message">digest(message)</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_digest_message_algorithm_options">digest(message, algorithm, options)</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_digest_message_options">digest(message, options)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_m_encrypt">[m] encrypt</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_encrypt_data_key_transformation_options">encrypt(data, key, transformation, options?)</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto">输入</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_1">输出</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_2">加密</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_3">示例</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_4">可逆性</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_m_decrypt">[m] decrypt</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_decrypt_data_key_transformation_options">decrypt(data, key, transformation, options?)</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_5">输入</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_6">输出</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_7">解密</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_8">示例</a></span></li>
<li><span class="stability_undefined"><a href="#crypto_9">可逆性</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_m_generatekeypair">[m] generateKeyPair</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_generatekeypair_algorithm_length">generateKeyPair(algorithm, length?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_c_key">[C] Key</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_c_data_options">[c] (data, options?)</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#crypto_c_keypair">[C] KeyPair</a></span><ul>
<li><span class="stability_undefined"><a href="#crypto_c_publickeydata_privatekeydata_options">[c] (publicKeyData, privateKeyData, options?)</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#i18n_internationalization">国际化 (Internationalization)</a></span></li>
<li><span class="stability_undefined"><a href="#e4x_e4x">E4X</a></span></li>
</ul>

        </div>

        <div id="apicontent">
            <!-- [start-include:overview.md] -->
<h1>综述 (Overview)<span><a class="mark" href="#overview_overview" id="overview_overview">#</a></span></h1>
<hr>
<p><a href="http://project.autojs6.com">AutoJs6</a>: 安卓平台 JavaScript 自动化工具.</p>
<ul>
<li>脚本语言: <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/">JavaScript</a>  </li>
<li>脚本引擎: <a href="https://github.com/mozilla/rhino/">Rhino</a>  </li>
<li>支持特性: <a href="https://262.ecma-international.org/5.1/">ES5</a> (全部), <a href="https://262.ecma-international.org/6.0/">ES6</a> (部分)</li>
</ul>
<hr>
<p>扩展阅读:</p>
<ul>
<li>了解 JavaScript<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/">MDN - JavaScript 基础</a></li>
<li><a href="https://zh.javascript.info/">JavaScript.info - JavaScript 教程</a></li>
</ul>
</li>
<li>查看 Rhino 引擎兼容性列表<ul>
<li><a href="https://mozilla.github.io/rhino/compat/engines.html">Rhino ES2015 Support</a></li>
</ul>
</li>
<li>使用 PC (个人计算机) 开发<ul>
<li><a href="http://vscext-project.autojs6.com">AutoJs6 VSCode Extension</a></li>
</ul>
</li>
<li>使用 Node.js 开发<ul>
<li><a href="https://pro.autojs.org/">Auto.js Pro</a></li>
</ul>
</li>
<li>使用 TypeScript 开发<ul>
<li><a href="https://github.com/pboymt/autojs-dev/">Auto.js DevTools</a></li>
</ul>
</li>
</ul>
<hr>
<p>阅读文档:</p>
<ul>
<li>宽屏设备网页阅读<ul>
<li>点击左侧边栏条目 - 阅读相关章节</li>
</ul>
</li>
<li>移动设备网页阅读<ul>
<li>点击左下方抽屉按钮 - 展开侧边栏并点击条目 - 阅读相关章节</li>
</ul>
</li>
<li>AutoJs6 应用内阅读<ul>
<li>点击首页 &quot;文档&quot; 标签 - 点击条目 - 阅读相关章节</li>
<li>点击首页右上方 &quot;搜索&quot; 图标 - 在当前页面检索内容</li>
<li>文档页面左上方的导航链接可实现页面跳转:<ul>
<li>点击 &quot;索引&quot; - 跳转至章节索引页面</li>
<li>点击 &quot;查看全部&quot; - 所有章节内容在同一页面列出</li>
</ul>
</li>
<li>阅读文档时, &quot;文档&quot; 标签可作为快捷按钮使用:<ul>
<li>点击 &quot;文档&quot; 标签 - 返回至当前页面顶部</li>
<li>长按 &quot;文档&quot; 标签 - 跳转至章节索引页面</li>
</ul>
</li>
</ul>
</li>
<li>启动器快速启动阅读<ul>
<li>AutoJs6 设置页面 - 启动器快捷方式 - 点击 &quot;文档&quot; 图标</li>
<li>将 &quot;文档&quot; 快捷方式添加到启动器 (俗称 &quot;桌面&quot;)</li>
<li>在启动器点击 &quot;文档&quot; 图标即可阅读文档</li>
<li>部分高版本安卓系统支持长按 AutoJs6 应用图标直接激活快捷方式或拖放添加到启动器</li>
</ul>
</li>
</ul>
<blockquote>
<p>注: 初次阅读文档或首次使用 AutoJs6 建议从 <a href="documentation.html">关于文档</a> 开始.
<!-- [end-include:overview.md] --></p>
</blockquote>
<!-- [start-include:documentation.md] -->
<h1>关于文档 (About)<span><a class="mark" href="#documentation_about" id="documentation_about">#</a></span></h1>
<!-- type=misc -->
<p>AutoJs6 文档, 包含模块 API 使用方法及用例.<br>项目复刻 (Fork) 自 <a href="https://github.com/hyb1996/AutoJs-Docs/">hyb1996/AutoJs-Docs</a> (GitHub).<br>项目地址: <a href="http://docs-project.autojs6.com">SuperMonster003/AutoJs6-Documentation</a> (GitHub).</p>
<hr>
<h2>文档阅读示例<span><a class="mark" href="#documentation" id="documentation">#</a></span></h2>
<h3>基础<span><a class="mark" href="#documentation_1" id="documentation_1">#</a></span></h3>
<h4>device.height<span><a class="mark" href="#documentation_device_height" id="documentation_device_height">#</a></span></h4>
<p>device 表示全局对象 (这里同时也是一个模块).<br>&quot;.height&quot; 表示访问 device 对象的 height 成员变量.<br>如 console.log(device.height) 表示在控制台打印当前设备的高度数值.</p>
<h4>colors.rgb(red, green, blue)<span><a class="mark" href="#documentation_colors_rgb_red_green_blue" id="documentation_colors_rgb_red_green_blue">#</a></span></h4>
<p>colors 与 device 类似, 表示全局对象.<br>&quot;rgb&quot; 表示方法名称, &quot;.rgb()&quot; 表示调用 colors 的 rgb 方法, 括号内的 red 等表示方法参数.<br>如 console.log(colors.rgb(255, 128, 64)) 表示在控制台打印一个 RGB 分别为 255, 128 和 64 的颜色数值.</p>
<blockquote>
<p>注: 绝大多数情况, 文档不对 &quot;<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Function/">函数</a>&quot; 与 &quot;<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Method/">方法</a>&quot; 做明确区分.</p>
</blockquote>
<h3>临时作用域对象<span><a class="mark" href="#documentation_2" id="documentation_2">#</a></span></h3>
<p>通常每个章节都以某个对象作为主题.</p>
<p>例如上述 <code>colors.rgb(red, green, blue)</code> 位于 <a href="color.html">Color - 颜色</a> 这个章节.<br>其中 colors 称为此章节的 &quot;临时作用域对象&quot;,<br>它可能是一个对象, 函数, 甚至 &quot;类&quot;, 在文档中使用 <strong><code>橙色粗体</code></strong> 表示.</p>
<p>列举其后续的相关方法及属性时, 将不再重复书写对象本身:</p>
<p style="font: bold 1em sans-serif; color: #FF7043">colors</p>

<p>[m] rgb</p>
<p>rgb(red, green, blue)</p>
<p>... ...</p>
<p>上述 <code>rgb</code> 表示 <code>colors.rgb</code>.</p>
<h3>参数类型<span><a class="mark" href="#documentation_3" id="documentation_3">#</a></span></h3>
<h4>colors.rgb(red, green, blue)<span><a class="mark" href="#documentation_colors_rgb_red_green_blue_1" id="documentation_colors_rgb_red_green_blue_1">#</a></span></h4>
<div class="signature"><ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
</div><p>参数后的 &quot;{}&quot; 内包含其类型.<br>上述示例表示需要传入三个 <a href="dataTypes.html#datatypes_number">number</a> 类型的参数.<br>如 colors.rgb(255, 128, 64) 合法, 而 colors.rgb(&quot;abc&quot;, 128, 64) 将可能导致非预期结果或出现异常.</p>
<blockquote>
<p>注: 点击类型对应的超链接 (如有) 可跳转至类型详情页面.</p>
</blockquote>
<h3>返回值类型<span><a class="mark" href="#documentation_4" id="documentation_4">#</a></span></h3>
<h4>colors.rgb(red, green, blue)<span><a class="mark" href="#documentation_colors_rgb_red_green_blue_2" id="documentation_colors_rgb_red_green_blue_2">#</a></span></h4>
<div class="signature"><ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
</div><p>returns 后的 &quot;{}&quot; 内包含返回值类型.<br>上述示例表示 colors.rgb 方法调用后将返回 <a href="dataTypes.html#datatypes_number">number</a> 类型数据.</p>
<h3>属性类型<span><a class="mark" href="#documentation_5" id="documentation_5">#</a></span></h3>
<h4>colors.RED<span><a class="mark" href="#documentation_colors_red" id="documentation_colors_red">#</a></span></h4>
<div class="signature"><ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
</div><p>属性类型包裹在一对花括号中.<br>上述示例表示 colors 的 RED 属性是 <a href="dataTypes.html#datatypes_number">number</a> 类型数据.</p>
<p>对象字面量形式的类型则用一对双花括号表示:</p>
<ul>
<li><strong>properties</strong> { <span class="type">{ name: <a href="dataTypes.html#datatypes_string">string</a>; age: <a href="dataTypes.html#datatypes_number">number</a></span> }}</li>
</ul>
<p>多行形式:</p>
<ul>
<li><strong>properties</strong> {{<ul>
<li>name: <a href="dataTypes.html#datatypes_string">string</a>;</li>
<li>age: <a href="dataTypes.html#datatypes_number">number</a>;</li>
<li>laugh(decibel?: <a href="dataTypes.html#datatypes_number">number</a>);</li>
</ul>
</li>
<li>}}</li>
</ul>
<p>一个符合上述示例期望的变量:</p>
<pre><code class="lang-js">let o = { name: &quot;David&quot;, age: 13 };
</code></pre>
<p>可存取的属性在读取时如果有非 undefined 默认值, 则以一对方括号表示:</p>
<ul>
<li>[ <code>1200</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>上述示例表示一个默认值为 1200 的可存取属性.</p>
<p>以一对双方括号表示常量:</p>
<ul>
<li>[[ 0.5 ]] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>上述示例表示一个值为 0.5 的常量属性.</p>
<h3>方法签名<span><a class="mark" href="#documentation_6" id="documentation_6">#</a></span></h3>
<p>形如上述 <a href="#all_返回值类型">返回值类型</a> 小节的示例,<br>包含 [ 方法名称 + 参数类型 + 返回值类型 ] 的标志符, 称为 &quot;方法签名&quot;.</p>
<blockquote>
<p>注: 上述 &quot;方法签名&quot; 定义只用于辅助读者对文档的理解, 并不保证名词解释的合理性.</p>
</blockquote>
<h3>方法描述<span><a class="mark" href="#documentation_7" id="documentation_7">#</a></span></h3>
<h4>colors.rgb(red, green, blue)<span><a class="mark" href="#documentation_colors_rgb_red_green_blue_3" id="documentation_colors_rgb_red_green_blue_3">#</a></span></h4>
<div class="signature"><ul>
<li><strong>red</strong> - R (红色) 通道数值  [ A ]</li>
<li><strong>green</strong> - G (绿色) 通道数值  [ A ]</li>
<li><strong>blue</strong> - B (蓝色) 通道数值  [ A ]</li>
<li><strong>@return</strong> - 颜色数值  [ B ]</li>
</ul>
</div><p>获取 R/G/B 通道组合后的颜色数值. [ C ]</p>
<pre><code class="lang-js">[ D ]
colors.rgb(255, 128, 64); // -32704
colors.rgb(255, 128, 64) === 0xFFFF8040 - Math.pow(2, 32); // true
colors.rgb(255, 128, 64) === colors.toInt(&quot;#FFFF8040&quot;); // true
colors.rgb(255, 128, 64) === colors.toInt(&quot;#FF8040&quot;); // true
</code></pre>
<p>上述示例包含的字母标注含义:</p>
<ul>
<li>[ A ] - 参数描述</li>
<li>[ B ] - 方法返回值描述</li>
<li>[ C ] - 方法描述</li>
<li>[ D ] - 方法使用示例</li>
</ul>
<h3>可变参数<span><a class="mark" href="#documentation_8" id="documentation_8">#</a></span></h3>
<h4>files.join(parent, ...child)<span><a class="mark" href="#documentation_files_join_parent_child" id="documentation_files_join_parent_child">#</a></span></h4>
<p>上述示例的 child 参数是 &quot;可变参数&quot;, 也称为 &quot;可变长参数&quot; 或 &quot;变长参数&quot;.<br>可变参数可传入任意个 (包括 0 个) 参数:</p>
<pre><code class="lang-js">let p = files.getSdcardPath();
files.join(p); /* 0 个可变参数 */
files.join(p, &#39;a&#39;); /* 1 个可变参数 */
files.join(p, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;); /* 4 个可变参数 */
</code></pre>
<p>文档采用 JSDoc 标准标注可变参数, 需额外注意 JSDoc 的尾数组标识代表容器, 用于容纳展开后的参数:</p>
<pre><code class="lang-js">/**
 * @param {number} x
 * @param {number} y
 * @param {...number[]} others
 */
function sum(x, y, others) {
    /* ... */
}
</code></pre>
<p>上述示例 others 参数为可变参数, 其中 &quot;...number[]&quot; 代表 others 期望的参数类型为 number, 而非 number[], 最后的 &quot;[]&quot; 代表 &quot;...&quot; 的容器, &quot;...&quot; 与 &quot;[]&quot; 是配对出现的.</p>
<pre><code class="lang-js">/**
 * @param {number} x
 * @param {number} y
 * @param {...number[][]} others
 */
function sum(x, y, others) {
    /* ... */
}
</code></pre>
<p>上述示例 others 期望的参数类型为 number[], 而非 number[][], 同样最后的 &quot;[]&quot; 代表 &quot;...&quot; 的容器.</p>
<pre><code class="lang-js">/**
 * @param {number} x
 * @param {number} y
 * @param {...number} others
 */
function sum(x, y, others) {
    /* ... */
}
</code></pre>
<p>上述示例 others 的参数类型标识方法 &quot;...number&quot; 也是合法的, 它其实是 &quot;...number[]&quot; 的省略形式.<br>文档为了避免歧义, 将全部采用完整写法.</p>
<p>作为强调, &quot;...(SomeType)[]&quot; 这样的可变参数表示方法, 需要把 &quot;...&quot; 和 &quot;[]&quot; 视为一个整体, 中间部分才是期望的参数类型.</p>
<h3>可选参数<span><a class="mark" href="#documentation_9" id="documentation_9">#</a></span></h3>
<h4>device.vibrate(text, delay?)<span><a class="mark" href="#documentation_device_vibrate_text_delay" id="documentation_device_vibrate_text_delay">#</a></span></h4>
<p>上述示例的 delay 参数是可选的 (以 &quot;?&quot; 标注).<br>因此以下调用方式均被支持:</p>
<pre><code class="lang-js">device.vibrate(&quot;hello&quot;, 2e3); /* 两秒钟延迟. */
device.vibrate(&quot;hello&quot;); /* 无延迟. */
</code></pre>
<p>可选参数描述时会以 &quot;[]&quot; 标注:</p>
<ul>
<li><strong>[ delay ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>如果可选参数包含默认值, 则会以 &quot;=&quot; 标注:</p>
<ul>
<li><strong>[ delay = 0 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>详见下述 <a href="#all_参数默认值">参数默认值</a></p>
<h3>参数默认值<span><a class="mark" href="#documentation_10" id="documentation_10">#</a></span></h3>
<h4>device.vibrate(text, delay?)<span><a class="mark" href="#documentation_device_vibrate_text_delay_1" id="documentation_device_vibrate_text_delay_1">#</a></span></h4>
<div class="signature"><ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 需转换为摩斯码的文本</li>
<li><strong>[ delay = 0 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 振动延迟</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>上述示例的 delay 参数是可选的 (以 &quot;?&quot; 标注) 且包含默认值 (以 &quot;=&quot; 标注).<br>因此以下两种调用方式等效:</p>
<pre><code class="lang-js">device.vibrate(&quot;hello&quot;);
device.vibrate(&quot;hello&quot;, 0);
</code></pre>
<blockquote>
<p>注: 上述示例的方法签名 (含默认值标注) 在 TypeScript 中并不合法, 此类签名仅限在文档中使用.</p>
<p>注: 以 &quot;=&quot; 标注的参数一定是可选的, 此时参数的 &quot;?&quot; 标注可能被省略, 尤其在重载签名拆写的情况下.<br>详情参阅下文的 &quot;方法重载&quot;.</p>
</blockquote>
<h3>方法重载<span><a class="mark" href="#documentation_11" id="documentation_11">#</a></span></h3>
<p><strong><code>Overload 1/17</code></strong></p>
<h4>pickup(selector, compass, resultType)<span><a class="mark" href="#documentation_pickup_selector_compass_resulttype" id="documentation_pickup_selector_compass_resulttype">#</a></span></h4>
<p><strong><code>Overload 2/17</code></strong></p>
<h4>pickup(selector, compass)<span><a class="mark" href="#documentation_pickup_selector_compass" id="documentation_pickup_selector_compass">#</a></span></h4>
<p><strong><code>Overload 3/17</code></strong></p>
<h4>pickup(selector, resultType)<span><a class="mark" href="#documentation_pickup_selector_resulttype" id="documentation_pickup_selector_resulttype">#</a></span></h4>
<p>... ...</p>
<p><strong><code>Overload 16/17</code></strong></p>
<h4>pickup(root, selector)<span><a class="mark" href="#documentation_pickup_root_selector" id="documentation_pickup_root_selector">#</a></span></h4>
<p><strong><code>Overload 17/17</code></strong></p>
<h4>pickup()<span><a class="mark" href="#documentation_pickup" id="documentation_pickup">#</a></span></h4>
<p>包含 &quot;Overload m/n&quot; 标签的方法, 表示重载方法的序数及总量.<br>如 &quot;Overload 2/3&quot; 表示当前方法签名描述第 2 个重载方法, 总计 3 个,<br>而 &quot;Overload 5-6/17&quot; 表示当前方法签名涵盖第 5 及 第 6 个重载方法, 总计 17 个.</p>
<p>重载方法可被简化:</p>
<pre><code class="lang-text">/* 拆写. */
device.vibrate(text)
device.vibrate(text, delay)

/* 合写 (简化). */
device.vibrate(text, delay?)

/* 可选参数通常会标注默认值. */
device.vibrate(text, delay?)
· [ delay = 0 ] { number }

/* 即使没有 &quot;?&quot; 标注 (针对拆写). */
device.vibrate(text, delay)
· [ delay = 0 ] { number }
</code></pre>
<p>多数情况下, 文档采用拆写的方式描述重载方法.</p>
<h3>方法全局化<span><a class="mark" href="#documentation_12" id="documentation_12">#</a></span></h3>
<p><strong><code>Global</code></strong></p>
<h4>images.requestScreenCapture(landscape)<span><a class="mark" href="#documentation_images_requestscreencapture_landscape" id="documentation_images_requestscreencapture_landscape">#</a></span></h4>
<p>包含 &quot;Global&quot; 标签的方法, 表示支持全局化使用, 可省略模块对象调用.<br>因此以下两种调用方式等效:</p>
<pre><code class="lang-js">images.requestScreenCapture(false);
requestScreenCapture(false);
</code></pre>
<h3>方法标签<span><a class="mark" href="#documentation_13" id="documentation_13">#</a></span></h3>
<p>用于简便表示方法的特性:</p>
<ul>
<li><code>Global</code>: <a href="#all_方法全局化">方法全局化</a> (可省略模块对象直接调用).</li>
<li><code>Overload 2/3</code>: <a href="#all_方法重载">方法重载</a> [ 第 2 个, 共 3 个 ].</li>
<li><code>Non-UI</code>: 方法不能在 UI 模式下调用.</li>
<li><code>6.2.0</code>: 方法对 AutoJs6 的版本要求 [ 不低于 6.2.0 ].</li>
<li><code>[6.2.0]</code>: 与原同名方法相比, 方法的功能, 结果, 签名或使用方式发生变更的起始版本.</li>
<li><code>API&gt;=29</code>: 方法对 <a href="apiLevel.html">API 级别</a> 的要求 [ 不低于 29 ], 当不满足时不抛出异常.</li>
<li><code>API&gt;=29!</code>: 方法对 <a href="apiLevel.html">API 级别</a> 的要求 [ 不低于 29 ], 当不满足时将抛出异常.</li>
<li><code>A11Y</code>: 方法依赖无障碍服务.</li>
<li><code>A11Y?</code>: 方法可能会依赖无障碍服务.</li>
<li><code>Async</code>: 异步执行的方法.</li>
<li><code>Async?</code>: 可能异步执行的方法 (通过参数控制).</li>
<li><code>Getter</code>: 仅取值属性, 即使用 Getter 定义的对象属性.</li>
<li><code>Setter</code>: 仅存值属性, 即使用 Setter 定义的对象属性.</li>
<li><code>Getter/Setter</code>: 可存值且可取值属性, 即同时使用 Setter 及 Getter 定义的对象属性.</li>
<li><code>Enum</code>: 枚举类.</li>
<li><code>CONSTANT</code>: 常量.</li>
<li><code>READONLY</code>: 只读属性或方法.</li>
<li><code>DEPRECATED</code>: 已弃用的属性或方法. 表示不推荐使用, 通常会有替代属性或替代方法.</li>
<li><code>ABANDONED</code>: 已废弃的属性或方法. 表示不再提供功能支持, 使用后功能将无效.</li>
<li><code>xProto</code>: 针对原型的内置对象扩展.</li>
<li><code>xObject</code>: 针对对象的内置对象扩展.</li>
<li><code>xAlias</code>: 内置对象扩展时使用不同的方法或属性名称 (别名).</li>
</ul>
<h3>对象标签<span><a class="mark" href="#documentation_14" id="documentation_14">#</a></span></h3>
<p>用于简便表示对象的属性:</p>
<ul>
<li>[m]: 普通对象方法或类静态成员方法.<ul>
<li>例如在 <code>images</code> 作为 <a href="#all_临时作用域对象">临时作用域对象</a> 时:</li>
<li><code>[m] captureScreen</code> 代表 <code>images.captureScreen</code> 方法.</li>
</ul>
</li>
<li>[m+]: 具有扩展属性的对象方法.<ul>
<li>如 auto 本身是一个方法 (或称函数), waitFor 是 auto 的一个扩展方法.</li>
<li>以下两种调用方式均可用: <code>auto()</code> 及 <code>auto.waitFor()</code>.</li>
</ul>
</li>
<li>[p]: 普通对象属性或类静态成员属性或接口变量属性.<ul>
<li>例如在 <code>device</code> 作为 <a href="#all_临时作用域对象">临时作用域对象</a> 时:</li>
<li><code>[p] height</code> 代表 <code>device.height</code> 属性, 而非方法.</li>
<li>此标签对 [ Getter / Setter / &quot;类&quot; 属性 / 对象属性 / 方法扩展属性 ] 等不作区分.</li>
</ul>
</li>
<li>[p+]: 具有扩展属性的对象属性.<ul>
<li>如 autojs 是一个对象, version 是 autojs 的扩展属性,</li>
<li>支持 <code>autojs.version.xxx</code> 这样的访问方式,</li>
<li>因此 version 属性将被标记为 <code>[p+]</code>.</li>
</ul>
</li>
<li>[I]: Java 接口.</li>
<li>[C]: Java 类或 JavaScript 构造函数.</li>
<li>[c]: Java 类的构造方法.</li>
<li>[m!]: 抽象方法 (针对接口及抽象类).</li>
<li>[m=]: 包含默认实现的抽象方法 (针对接口).</li>
<li>[m#]: 类的实例成员方法.<ul>
<li>类的静态成员方法用 [m] 标签标记.</li>
<li>例如对于类 <code>B</code>, 它有一个实例 <code>b</code> (可能通过 <code>new B()</code> 等方式获得),</li>
<li><code>[m#] foo</code> 和 <code>[m] bar</code> 的调用方式分别为</li>
<li><code>b.foo()</code> 和 <code>B.bar()</code>.</li>
</ul>
</li>
<li>[p#]: 类的实例成员属性.<ul>
<li>类的静态成员属性依然用 [p] 标签标记.</li>
<li>例如对于类 <code>F</code>, 它有一个实例 <code>f</code> (可能通过 <code>new F()</code> 等方式获得),</li>
<li><code>[p#] foo</code> 和 <code>[p] bar</code> 的调用方式分别为</li>
<li><code>f.foo</code> 和 <code>F.bar</code>.</li>
</ul>
</li>
<li>[@]: 代表 <a href="#all_临时作用域对象">临时作用域对象</a> 自身.<ul>
<li>例如在同一个章节中<ul>
<li><code>[@] apple</code> [1]</li>
<li><code>apple(c)</code> [2]</li>
<li><code>[m] getColor</code> [3]</li>
<li><code>getColor()</code> [4]</li>
<li><code>[@] banana</code> [5]</li>
<li><code>[m] banana</code> [6]</li>
<li><code>banana(x)</code> [7]</li>
<li><code>banana(x, y)</code> [8]</li>
</ul>
</li>
<li>这个章节有两个 <a href="#all_临时作用域对象">临时作用域对象</a>, apple 和 banana, 对应 <code>[1]</code> 和 <code>[5]</code>.</li>
<li><code>[2]</code> 代表 apple 自身可被调用, 且调用方式为 <code>apple(c)</code>, 其中 &quot;c&quot; 为参数.</li>
<li><code>[3]</code> 代表 apple 的一个方法, 名称为 &quot;getColor&quot;,</li>
<li>由 <code>[4]</code> 得知, 其调用方式为 <code>apple.getColor()</code>.</li>
<li>注意 <code>[6]</code> 与 <code>[2]</code> 不同:</li>
<li><code>[6]</code> 代表 banana 的一个方法, 名称为 &quot;banana&quot;,</li>
<li>由 <code>[7]</code> 和 <code>[8]</code> 得知, 其调用方式有两种,</li>
<li><code>banana.banana(x)</code> 和 <code>banana.banana(x, y)</code>.</li>
</ul>
</li>
</ul>
<h3>成员访问<span><a class="mark" href="#documentation_15" id="documentation_15">#</a></span></h3>
<p>成员访问用 &quot;.&quot; 表示调用关系, 包括 &quot;类&quot; 静态成员访问, 对象成员访问等.<br>而实例成员访问则需要 &quot;类&quot; 的实例才能访问, 用 &quot;#&quot; 表示调用关系.<br>例如 JavaScript 的 Number 本身是一个 &quot;类&quot;, 可用的成员访问方式如下:</p>
<pre><code class="lang-js">Number(2); /* 作为普通函数使用, 无成员访问. */
Number.EPSILON; /* &quot;类&quot; 静态成员访问, 用 &quot;Number.EPSILON&quot; 标识, 标签为 &quot;[p]&quot;. */
new Number(2); /* 创建 &quot;类&quot; 实例, 无成员访问. */
new Number(2).toFixed(0); /* 实例成员访问, 用 &quot;Number#toFixed(number)&quot; 标识, 标签为 &quot;[m#]&quot;. */
</code></pre>
<p>实例成员访问示例:</p>
<p style="font: bold 1em sans-serif; color: #FF7043">UiObject</p>

<p>[m#] bounds()</p>
<pre><code class="lang-js">/* 正确访问示例 */

let w = pickup(/.+/); /* w 是 UiObject 的实例. */
if (w !== null) {
    console.log(w.bounds()); /* 访问 UiObject 实例的 bounds 方法. */
}

/* 错误访问示例 */

importClass(org.autojs.autojs.core.automator.UiObject);
console.log(UiObject.bounds()); /* 访问的是类 UiObject 的静态方法 bounds. */
</code></pre>
<h3>模板参数<span><a class="mark" href="#documentation_16" id="documentation_16">#</a></span></h3>
<h4>foo.bar(a, b)<span><a class="mark" href="#documentation_foo_bar_a_b" id="documentation_foo_bar_a_b">#</a></span></h4>
<div class="signature"><ul>
<li><strong>a</strong> { <span class="type"><a href="dataTypes.html#datatypes_generic">T</a></span> }</li>
<li><strong>b</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">T</a></span> }</li>
<li><ins><strong>template</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">T</a></span> }</li>
</ul>
</div><p>template 标签指示了一个模板参数 <code>T</code>, 这个参数可以代表任意一个类型, 如 <code>string</code>.</p>
<p>示例 <code>foo.bar(a, b)</code> 中, 返回值与参数 <code>a</code> 的类型均为 <code>T</code>, 因此两者的类型相同.</p>
<p>例如当参数 <code>a</code> 传入 <code>string</code> 类型时, 返回值也为 <code>string</code> 类型:</p>
<pre><code class="lang-js">typeof foo.bar(&#39;hello&#39;, 3); // string
</code></pre>
<blockquote>
<p>参阅: <a href="dataTypes.html#datatypes_generic">泛型</a></p>
</blockquote>
<h2>声明<span><a class="mark" href="#documentation_17" id="documentation_17">#</a></span></h2>
<p>当前项目 (文档) 及 <a href="http://project.autojs6.com">AutoJs6</a> (App) 均为二次开发.<br>相对于 <a href="https://github.com/hyb1996/Auto.js/">原始 App</a>, 二次开发的 App 中会增加或修改部分模块功能.<br>相对于 <a href="https://github.com/hyb1996/AutoJs-Docs/">原始文档</a>, 二次开发的文档将进行部分增删或重新编写.<br>开发者无法保证对 API 的完全理解及文档的无纰漏撰写.<br>如有任何不当之处, 欢迎提交 <a href="http://docs-issues.autojs6.com">Issue</a> 或 <a href="http://docs-pr.autojs6.com">PR</a>.<br><!-- [end-include:documentation.md] --></p>
<!-- [start-include:qa.md] -->
<h1>疑难解答 (Q &amp; A)<span><a class="mark" href="#qa_q_a" id="qa_q_a">#</a></span></h1>
<hr>
<h2>AutoJs6<span><a class="mark" href="#qa_autojs6" id="qa_autojs6">#</a></span></h2>
<h3>AutoJs6 功能简介<span><a class="mark" href="#qa_autojs6_1" id="qa_autojs6_1">#</a></span></h3>
<p>AutoJs6 是 Android 平台支持无障碍服务的 JavaScript 自动化工具.</p>
<p>可用作 JavaScript IDE, 支持 [ 代码补全 / 变量重命名 / 代码格式化 ] 等.</p>
<p>AutoJs6 封装了丰富的 JavaScript 模块, 提供丰富功能, 内置实用工具:</p>
<p>功能</p>
<ul>
<li>图像处理 / 文字识别</li>
<li>自动化操作 / 控件操作 / 应用操作</li>
<li>UI 交互 / 对话框交互 / 悬浮窗控件 / 画布控件</li>
<li>多线程编程 / 协程 / 异步编程 / 事件监听</li>
<li>文件处理 / 多媒体处理</li>
<li>定时任务 / 消息通知</li>
<li>HTTP 请求</li>
<li>Shell 语句</li>
<li>国际化</li>
<li>... ...</li>
</ul>
<p>工具</p>
<ul>
<li>设备信息 / 传感器信息 / 控件信息</li>
<li>Base64 编解码 / 密文生成</li>
<li>数学运算 / 颜色转换</li>
<li>... ...</li>
</ul>
<h3>AutoJs6 如何使用<span><a class="mark" href="#qa_autojs6_2" id="qa_autojs6_2">#</a></span></h3>
<p>详见 <a href="manual.html">AutoJs6 使用手册</a> 章节.</p>
<h3>AutoJs6 是否免费<span><a class="mark" href="#qa_autojs6_3" id="qa_autojs6_3">#</a></span></h3>
<p>AutoJs6 永久免费, 它是基于开源版本 (Auto.js 4.1.1 alpha2) 二次开发的, 将保持开源免费.</p>
<h3>AutoJs6 目标<span><a class="mark" href="#qa_autojs6_4" id="qa_autojs6_4">#</a></span></h3>
<p>开源版本 (Auto.js 4.1.1 alpha2) 是非常好的学习资料, AutoJs6 之所以存在, 恰恰是因为站在巨人的肩膀上.</p>
<p>AutoJs6 的目标是对开源版本 (Auto.js 4.1.1 alpha2) 进行完善及扩展.</p>
<h3>AutoJs6 特色<span><a class="mark" href="#qa_autojs6_5" id="qa_autojs6_5">#</a></span></h3>
<p>AutoJs6 对以下功能进行了十足的打磨:</p>
<ul>
<li>夜间模式</li>
<li>多语言</li>
</ul>
<p>同时对已有模块进行了精心优化及扩展:</p>
<ul>
<li><a href="color.html">颜色 (colors)</a></li>
<li><a href="uiSelectorType.html">选择器 (UiSelector)</a></li>
<li><a href="uiObjectType.html">控件节点 (UiObject)</a></li>
<li>... ...</li>
</ul>
<p>其中尤其具备 AutoJs6 特色的, 当属 <a href="uiSelectorType.html#uiselectortype_m_pickup">pickup 选择器</a> 及 <a href="uiObjectType.html#uiobjecttype_m_compass">compass 控件罗盘</a>.</p>
<p>关于 AutoJs6 的更多内容, 可参阅 <a href="http://changelog.autojs6.com">项目更新日志</a>.</p>
<h2>文档<span><a class="mark" href="#qa" id="qa">#</a></span></h2>
<h3>文档格式不统一<span><a class="mark" href="#qa_1" id="qa_1">#</a></span></h3>
<p>AutoJs6 文档是在开源版本文档的基础上进行更新和修改的, 目前仅完成部分章节的更新, 未更新的章节依然保留原始文档内容, 因此会存在新旧不同的文档编写格式.<br>因文档编写需要耗费巨量的时间及精力, 文档更新速度会相对缓慢.<br>当全部章节完成编写及更新后, 文档将实现格式统一.</p>
<h3>不支持夜间模式<span><a class="mark" href="#qa_2" id="qa_2">#</a></span></h3>
<p>使用 AutoJs6 查看文档时, 若开启夜间模式后文档依然是亮色主题, 需检查 WebView (或 Google Chrome 等浏览器) 的版本条件:</p>
<ul>
<li>API 级别 29 (安卓 10) [Q] 及以上: 版本不低于 76</li>
<li>API 级别 28 (安卓 9) [P] 及以下: 版本不低于 105</li>
</ul>
<h3>内容难以理解<span><a class="mark" href="#qa_3" id="qa_3">#</a></span></h3>
<p>对于存在阅读障碍的文档内容, 可尝试暂时略过, 继续阅读后续内容.<br>当完整阅读一个章节或小节后, 可能对之前略过内容的进一步理解有所帮助.<br>也可提交反馈至 GitHub 项目页面, 开发者可能会根据提交的反馈适当调整文档内容.</p>
<h2>图像<span><a class="mark" href="#qa_4" id="qa_4">#</a></span></h2>
<h3>OCR 特性<span><a class="mark" href="#qa_ocr" id="qa_ocr">#</a></span></h3>
<p>AutoJs6 的 OCR 特性是基于 <a href="https://developers.google.com/ml-kit?hl=zh-cn">Google ML Kit</a> 的 <a href="https://developers.google.com/ml-kit/vision/text-recognition/android?hl=zh-cn">文字识别 API</a> 及 <a href="https://www.paddlepaddle.org.cn/">Baidu PaddlePaddle</a> 的 <a href="https://github.com/PaddlePaddle/Paddle-Lite">Paddle Lite</a> 实现的.</p>
<blockquote>
<p>注:<br>AutoJs6 基于 MLKit 引擎的 <a href="http://project.autojs6.com/blob/master/app/src/main/java/org/autojs/autojs/runtime/api/OcrMLKit.kt">OCR 实现源码</a> 参考自 <a href="https://github.com/TonyJiangWJ">TonyJiangWJ</a> 的 <a href="https://github.com/TonyJiangWJ/Auto.js">Auto.js</a> 项目.<br>AutoJs6 基于 Paddle Lite 引擎的 <a href="http://project.autojs6.com/blob/master/app/src/main/java/org/autojs/autojs/runtime/api/OcrPaddle.kt">OCR 实现源码</a> 源自 <a href="https://github.com/TonyJiangWJ">TonyJiangWJ</a> 的 <a href="http://pr.autojs6.com/120">GitHub PR</a>.</p>
</blockquote>
<blockquote>
<p>参阅: <a href="ocr.html">光学字符识别 (OCR)</a> 模块</p>
</blockquote>
<h3>区域截图<span><a class="mark" href="#qa_5" id="qa_5">#</a></span></h3>
<p>AutoJs6 不支持区域截图.</p>
<p>可通过 <a href="image.html#image_m_capturescreen">images.captureScreen</a> 截取屏幕后使用 <a href="image.html#image_m_clip">images.clip</a> 等方法做进一步处理.</p>
<h2>定时任务<span><a class="mark" href="#qa_6" id="qa_6">#</a></span></h2>
<h3>定时运行脚本<span><a class="mark" href="#qa_7" id="qa_7">#</a></span></h3>
<p>脚本右侧菜单 -&gt; 定时任务, 即可定时运行脚本.<br>需保持 AutoJs6 后台运行, 包括 [ 自启动白名单 / 忽略电池优化 / 忽略后台活动限制 / 系统多任务保留 ] 等.<br>在设备关屏情况下, 可使用 <code>device.wakeUp()</code> 唤醒屏幕.<br>但 AutoJs6 暂未提供解锁功能, 因此可能需要根据设备自行设计解锁代码.</p>
<h3>定时任务获取外部参数<span><a class="mark" href="#qa_8" id="qa_8">#</a></span></h3>
<p>若脚本由 intent (如网络状态变化等特定事件) 触发启动, 可通过 <code>engines.myEngine().execArgv.intent</code> 获取 intent, 进而获取外部参数.</p>
<h2>脚本执行差异<span><a class="mark" href="#qa_9" id="qa_9">#</a></span></h2>
<p>同样的脚本, 在不同环境 (如设备或系统等) 可能出现执行结果差异, 甚至出现异常而无法正常运行.</p>
<h3>不同的系统版本<span><a class="mark" href="#qa_10" id="qa_10">#</a></span></h3>
<p>AutoJs6 可以安装在 <code>Andoird API 24 (7.0) [N]</code> 及以上的操作系统.</p>
<p>然而不同操作系统 <code>API</code> 是有区别的, 有些 <code>API</code> 在某个系统版本之后 (甚至之前) 才能使用.</p>
<p>下面列出几个 AutoJs6 中受系统版本影响的方法或属性:</p>
<ul>
<li><a href="notice.html">notice</a> 模块的渠道相关功能只能在 <code>Android API 26 (8.0) [O]</code> 及以上起作用</li>
<li><a href="device.html#device_p_imei">device.imei</a> 只能在 <code>Android API 29 (10) [Q]</code> 及以下获取到设备 IMEI 值</li>
<li><a href="uiSelectorType.html#uiselectortype_m_imeenter">UiSelector#imeEnter</a> 只能在 <code>Android API 30 (11) [R]</code> 及以上才能起作用</li>
<li><a href="uiSelectorType.html#uiselectortype_m_dragstart">UiSelector#dragStart</a> 只能在 <code>Android API 32 (12.1) [S_V2]</code> 及以上才能起作用</li>
<li><a href="uiSelectorType.html#uiselectortype_m_showtextsuggestions">UiSelector#showTextSuggestions</a> 只能在 <code>Android API 33 (13) [TIRAMISU]</code> 及以上才能起作用</li>
<li>... ...</li>
</ul>
<h3>不同的设备厂商<span><a class="mark" href="#qa_11" id="qa_11">#</a></span></h3>
<p>因不同设备厂商对操作系统进行了不同程度的定制和修改, 一些 <code>API</code> 可能发生变更.</p>
<p>下表列出了部分厂商及操作系统的信息 (排序无先后):</p>
<table>
<thead>
<tr>
<th>厂商或品牌</th>
<th>操作系统</th>
</tr>
</thead>
<tbody>
<tr>
<td>魅族 (MEIZU)</td>
<td>Flyme OS</td>
</tr>
<tr>
<td>欧珀 (OPPO / Realme)</td>
<td>ColorOS</td>
</tr>
<tr>
<td>小米 (XiaoMi / Redmi / BlackShark)</td>
<td>MIUI</td>
</tr>
<tr>
<td>一加 (OnePlus)</td>
<td>氢OS / Oxygen OS</td>
</tr>
<tr>
<td>维沃 (VIVO / IQOO)</td>
<td>Funtouch OS / OriginOS</td>
</tr>
<tr>
<td>华为 (Huawei / Honor)</td>
<td>EMUI / HarmonyOS</td>
</tr>
<tr>
<td>联想 (Lenovo)</td>
<td>ZUI</td>
</tr>
<tr>
<td>酷派 (Coolpad)</td>
<td>CoolOS</td>
</tr>
<tr>
<td>卓易 (Droi)</td>
<td>Freeme OS</td>
</tr>
<tr>
<td>锤子科技 (Smartisan)</td>
<td>Smartisan OS</td>
</tr>
<tr>
<td>中兴 (ZTE / 天机 / 远航 / Axon)</td>
<td>MyOS</td>
</tr>
<tr>
<td>努比亚 (Nubia / 红魔)</td>
<td>REDMAGIC OS</td>
</tr>
<tr>
<td>Google Pixel</td>
<td>原生</td>
</tr>
<tr>
<td>AVD (安卓虚拟机)</td>
<td>原生</td>
</tr>
<tr>
<td>索尼 (Sony / XPERIA)</td>
<td>类原生</td>
</tr>
<tr>
<td>三星 (Samsung)</td>
<td>类原生</td>
</tr>
<tr>
<td>黑莓 (BlackBerry)</td>
<td>类原生</td>
</tr>
<tr>
<td>LG</td>
<td>类原生</td>
</tr>
<tr>
<td>摩托罗拉 (Motorola)</td>
<td>类原生</td>
</tr>
<tr>
<td>诺基亚 (Nokia)</td>
<td>类原生 (仅限部分机型)</td>
</tr>
<tr>
<td>华硕 (ASUS / ZenFone / ROG Phone)</td>
<td>类原生</td>
</tr>
<tr>
<td>宏达电 (HTC)</td>
<td>类原生</td>
</tr>
</tbody>
</table>
<p>由此可见, 想要在众多不同的操作系统中实现完全无差别且无异常的脚本执行效果, 难度是巨大的.</p>
<p>往往需要在实际操作系统中进行功能测试并编写额外的兼容代码, 甚至可能需要查询定制操作系统的开放 <code>API</code> 文档 (如果有的话).</p>
<blockquote>
<p>注: 表格中的信息可能与实际存在出入, 仅供参考.</p>
</blockquote>
<h3>不同的 Auto.js 应用<span><a class="mark" href="#qa_auto_js" id="qa_auto_js">#</a></span></h3>
<p>不同的 Auto.js 应用对 [ JavaScript 封装模块 / Java 包名及类名 ] 等进行了不同程度的 [ 增添 / 修改 / 删减 ], 因此同样的脚本很难在不同 Auto.js 应用上达到同样的运行效果, 甚至出现无法运行的情况.</p>
<p>有以下几种可能的解决方案:</p>
<ul>
<li>继续使用之前编写脚本代码的 Auto.js 应用</li>
<li>修改脚本代码以适应新 Auto.js 应用</li>
<li>在脚本代码中加入不同 Auto.js 应用的检测, 在对应分支编写兼容代码</li>
</ul>
<h3>不同的 AutoJs6 版本<span><a class="mark" href="#qa_autojs6_6" id="qa_autojs6_6">#</a></span></h3>
<p>随着 AutoJs6 版本的更新, 一些 <code>API</code> 可能出现 [ 新增 / 修改 / 废弃 / 移除 ] 等操作.</p>
<p>当升级 AutoJs6 后, 某个或某些 <code>API</code> 出现异常时, 可查询应用文档并定位到相关章节, 根据文档的提示排查并解决上述问题.</p>
<p>如问题仍未解决, 可在项目的 GitHub 议题页面提交 <a href="#all_反馈">反馈</a>.</p>
<h2>打包应用<span><a class="mark" href="#qa_12" id="qa_12">#</a></span></h2>
<p>AutoJs6 打包功能尚不完善, 打包应用与 AutoJs6 主应用可能有较大的功能和界面差异.</p>
<p>AutoJs6 开发者暂不考虑参与打包功能相关的开发工作, 目前以 <a href="https://github.com/LZX284">LZX284</a> 为主要贡献者进行打包功能的开发及维护, 后续将继续由其他开发者贡献相关代码. </p>
<h3>图片等资源共同打包及多脚本打包<span><a class="mark" href="#qa_13" id="qa_13">#</a></span></h3>
<p>上述需求需使用 &quot;项目&quot; 功能.</p>
<p>点击 AutoJs6 主页面 &quot;+&quot; 图标, 选择项目, 填写信息后可新建一个项目.<br>项目支持存放多个 [ 脚本 / 模块 / 资源文件 ].<br>项目工具栏的 APK 打包图标, 点击可打包一个项目.</p>
<p>例如:<br>脚本读取同目录 <code>1.png</code>: <code>images.read(&quot;./1.png&quot;)</code>.<br>UI 脚本图片控件引用同目录 <code>2.png</code>: <code>&lt;img src=&quot;file://2.png&quot;/&gt;</code>.<br>AutoJs6 内置模块支持相对路径引用, 其他情况可能需借助 <code>files.path()</code> 转换为绝对路径.</p>
<h3>打包应用不显示主界面<span><a class="mark" href="#qa_14" id="qa_14">#</a></span></h3>
<p>需使用 &quot;项目&quot; 功能.<br>新建项目后, 在项目目录 <code>project.json</code> 文件中增加以下条目:</p>
<pre><code class="lang-json">{
  &quot;launchConfig&quot;: {
    &quot;hideLogs&quot;: true
  }
}
</code></pre>
<p>例如:</p>
<pre><code class="lang-json">{
  &quot;name&quot;: &quot;First-Project&quot;,
  &quot;versionName&quot;: &quot;1.0.0&quot;,
  &quot;versionCode&quot;: 1,
  &quot;packageName&quot;: &quot;org.autojs.example.first&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;launchConfig&quot;: {
    &quot;hideLogs&quot;: true
  }
}
</code></pre>
<h2>代码转换<span><a class="mark" href="#qa_15" id="qa_15">#</a></span></h2>
<p>AutoJs6 支持直接调用 [ Java / Android / 扩展库 ] 等 API.<br>对于 AutoJs6 没有内置的功能, 可进行 Java 脚本化, 即直接参照 Java (或 Kotlin 等) 源码, 转换为 JavaScript 代码.<br>例如:</p>
<pre><code class="lang-java">import android.graphics.Bitmap;
import android.graphics.Matrix;

public static Bitmap rotate(Bitmap src, int degrees, float px, float py) {
    if (degrees == 0) return src;
    Matrix matrix = new Matrix();
    matrix.setRotate(degrees, px, py);
    Bitmap ret = Bitmap.createBitmap(src, 0, 0, src.getWidth(), src.getHeight(), matrix, true);
    return ret;
}
</code></pre>
<p>转换为 JavaScript 代码:</p>
<pre><code class="lang-js">importClass(android.graphics.Bitmap);
importClass(android.graphics.Matrix);

function rotate(src, degrees, px, py) {
    if (degrees == 0) return src;
    let matrix = new Matrix();
    matrix.setRotate(degrees, px, py);
    let ret = Bitmap.createBitmap(src, 0, 0, src.getWidth(), src.getHeight(), matrix, true);
    return ret;
}
</code></pre>
<p>关于脚本化 Java 的更多信息, 参阅 <a href="scriptingJava.html">Scripting Java - 脚本化 Java</a> 章节.</p>
<h2>反馈<span><a class="mark" href="#qa_16" id="qa_16">#</a></span></h2>
<p>如有任何问题或建议, 可在 GitHub 项目议题页面发起新的反馈.</p>
<p>关于 <strong>应用文档</strong> 的反馈:<br><a href="http://docs-issues.autojs6.com">http://docs-issues.autojs6.com</a></p>
<p>关于 <strong>AutoJs6</strong> 的反馈:<br><a href="http://issues.autojs6.com">http://issues.autojs6.com</a></p>
<!-- [end-include:qa.md] -->
<!-- [start-include:global.md] -->
<h1>全局对象 (Global)<span><a class="mark" href="#global_global" id="global_global">#</a></span></h1>
<p>在 JavaScript 中, <a href="https://stackoverflow.com/questions/9108925/how-is-almost-everything-in-javascript-an-object/">几乎一切都是对象</a>.<br>此处的全局 &quot;对象&quot; 包括 [ 变量 / 方法 / 构造器 ] 等.<br>全局对象随处可用, 包括 ECMA 标准内置对象 (如 [ Number / RegExp / String ] 等).</p>
<p>AutoJs6 的内置模块均支持全局使用, 如 <code>app</code>, <code>images</code>, <code>device</code> 等.</p>
<p>为便于使用, 一些 AutoJs6 模块中的方法也被全局化,<br>如 <code>images.captureScreen()</code>, <code>dialogs.alert()</code>, <code>app.launch()</code> 等.<br>全局化方法均以 <code>Global</code> 标签标注.</p>
<p>脚本文件可直接运行使用, 也可作为模块被导入使用 (<code>require</code> 方法).<br>当作为模块使用时, <code>exports</code> 和 <code>module</code> 可作为全局对象使用.<br>另在 UI 模式下也有一些专属全局对象, 如 <code>activity</code>.</p>
<h2>覆写保护<span><a class="mark" href="#global" id="global">#</a></span></h2>
<p>AutoJs6 对部分全局对象及内置模块增加了覆写保护.<br>以下全局声明或赋值将导致异常或非预期结果:</p>
<pre><code class="lang-js">/* 以全局对象 selector 为例. */

/* 声明无效. */
let selector = 1; /* 异常: 变量 selector 重复声明. */
const selector = 1; /* 同上. */
var selector = 1; /* 同上. */

/* 覆写无效 (非严格模式). */
selector = 1;
typeof selector; // &quot;function&quot; - 静默失败, 覆写未生效.

/* 覆写无效 (严格模式). */
&quot;use strict&quot;;
selector = 1; /* 异常: 无法修改只读属性: selector. */
</code></pre>
<p>局部作用域不受上述情况影响:</p>
<pre><code class="lang-js">(function () {
    let selector = 1;
    return typeof selector;
})(); // &quot;number&quot;
</code></pre>
<p>截至目前 (2022/10) 受覆写保护的对象有:</p>
<pre><code class="lang-text">selector
continuation
</code></pre>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">global</p>

<hr>
<h2>[@] global<span><a class="mark" href="#global_global_1" id="global_global_1">#</a></span></h2>
<p>global 为 AutoJs6 的默认顶级作用域对象, 可作为全局对象使用:</p>
<pre><code class="lang-js">typeof global; // &quot;object&quot;
typeof global.sleep; // &quot;function&quot;
</code></pre>
<p>另, 访问顶级作用域对象也可通过以下代码:</p>
<pre><code class="lang-js">runtime.topLevelScope;
</code></pre>
<p><code>runtime.topLevelScope</code> 本身有 <code>global</code> 属性, 因此全局对象 <code>global</code> 也一样拥有:</p>
<pre><code class="lang-js">typeof runtime.topLevelScope.global; // &quot;object&quot;

global.global === global; // true
global.global.global.global === global; // true
</code></pre>
<p>global 对象可以增加属性, 也可以覆写甚至删除属性 (部分被保护):</p>
<pre><code class="lang-js">global.hello = &quot;hello&quot;;
delete global.hello;
</code></pre>
<p>global 对象本身是可被覆写的:</p>
<pre><code class="lang-js">typeof global; // &quot;object&quot;
global = 3;
typeof global; // &quot;number&quot;
</code></pre>
<p>如果 global 对象被意外重写 (虽然概率很低),<br>可通过 <code>runtime.topLevelScope</code> 访问或还原:</p>
<pre><code class="lang-js">global = 3; /* 覆写 global 对象. */
typeof global; // &quot;number&quot;
typeof global.sleep; // &quot;undefined&quot;
typeof runtime.topLevelScope.sleep; // &quot;function&quot;

global = runtime.topLevelScope; /* 还原 global 对象. */
typeof global; // &quot;object&quot;
typeof global.sleep; // &quot;function&quot;
</code></pre>
<h2>[m] sleep<span><a class="mark" href="#global_m_sleep" id="global_m_sleep">#</a></span></h2>
<h3>sleep(millis)<span><a class="mark" href="#global_sleep_millis" id="global_sleep_millis">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/3</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>millis</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 休眠时间 (毫秒)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>使当前线程休眠一段时间.</p>
<pre><code class="lang-js">/* 休眠 9 秒钟. */
sleep(9000);
/* 休眠 9 秒钟 (使用科学计数法). */
sleep(9e3);
</code></pre>
<h3>sleep(millisMin, millisMax)<span><a class="mark" href="#global_sleep_millismin_millismax" id="global_sleep_millismin_millismax">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/3</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>millisMin</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 休眠时间下限 (毫秒)</li>
<li><strong>millisMax</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 休眠时间上限 (毫秒)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>使当前线程休眠一段时间, 该时间随机落在 millisMin 和 millisMax 之间.</p>
<pre><code class="lang-js">/* 随机休眠 3 - 5 秒钟. */
sleep(3e3, 5e3);
</code></pre>
<h3>sleep(millis, bounds)<span><a class="mark" href="#global_sleep_millis_bounds" id="global_sleep_millis_bounds">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/3</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>millis</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 休眠时间 (毫秒)</li>
<li><strong>bounds</strong> { <span class="type"><a href="dataTypes.html#datatypes_NumberString">NumberString</a></span> | <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 浮动值</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>使当前线程休眠一段时间, 该时间随机落在 millis ± bounds 之间.<br>bounds 参数为 <a href="dataTypes.html#datatypes_NumberString">数字字符串</a> 类型 (如 &quot;12&quot;), 或在字符串开头附加 &quot;±&quot; 明确参数含义 (如 &quot;±12&quot;).</p>
<pre><code class="lang-js">/* 随机休眠 3 - 5 秒钟 (即 4 ± 1 秒钟). */
sleep(4e3, &quot;1e3&quot;);
sleep(4e3, &quot;±1e3&quot;); /* 同上. */
</code></pre>
<h2>[m+] toast<span><a class="mark" href="#global_m_toast" id="global_m_toast">#</a></span></h2>
<p>toast 模块的全局化对象, 参阅 <a href="toast.html">消息浮动框 (Toast)</a> 模块章节.</p>
<h2>[m] toastLog<span><a class="mark" href="#global_m_toastlog" id="global_m_toastlog">#</a></span></h2>
<p>显示消息浮动框并在控制台打印消息.<br>相当于以下代码组合:</p>
<pre><code class="lang-js">toast(text, ...args);
console.log(text);
</code></pre>
<p>因此, 方法重载与 <a href="#all_m_toast">toast</a> 完全一致.</p>
<blockquote>
<p>注: 虽然 toast 方法异步, 但 console.log 方法同步, 因此 toastLog 方法也为同步.</p>
</blockquote>
<h3>toastLog(text)<span><a class="mark" href="#global_toastlog_text" id="global_toastlog_text">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/4</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<blockquote>
<p>参阅: <a href="toast.html#toast_toasttext">toast(text)</a></p>
</blockquote>
<h3>toastLog(text, isLong)<span><a class="mark" href="#global_toastlog_text_islong" id="global_toastlog_text_islong">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 2/4</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容
<strong>isLong = false</strong> { <code>&#39;long&#39;</code> | <code>&#39;l&#39;</code> | <code>&#39;short&#39;</code> | <code>&#39;s&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否以较长时间显示</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<blockquote>
<p>参阅: <a href="toast.html#toast_toasttext_islong">toast(text, isLong)</a></p>
</blockquote>
<h3>toastLog(text, isLong, isForcible)<span><a class="mark" href="#global_toastlog_text_islong_isforcible" id="global_toastlog_text_islong_isforcible">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 3/4</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容
<strong>isLong = false</strong> { <code>&#39;long&#39;</code> | <code>&#39;l&#39;</code> | <code>&#39;short&#39;</code> | <code>&#39;s&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否以较长时间显示
<strong>isForcible = false</strong> { <code>&#39;forcible&#39;</code> | <code>&#39;f&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否强制覆盖显示</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<blockquote>
<p>参阅: <a href="toast.html#toast_toasttext_islong_isforcible">toast(text, isLong, isForcible)</a></p>
</blockquote>
<h3>toastLog(text, isForcible)<span><a class="mark" href="#global_toastlog_text_isforcible" id="global_toastlog_text_isforcible">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 4/4</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><strong>isForcible</strong> { <code>&#39;forcible&#39;</code> | <code>&#39;f&#39;</code> } - 强制覆盖显示 (字符标识)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<blockquote>
<p>参阅: <a href="toast.html#toast_toasttext_isforcible">toast(text, isForcible)</a></p>
</blockquote>
<h2>[m+] notice<span><a class="mark" href="#global_m_notice" id="global_m_notice">#</a></span></h2>
<p>notice 模块的全局化对象, 参阅 <a href="notice.html">消息通知 (Notice)</a> 模块章节.</p>
<h2>[m] random<span><a class="mark" href="#global_m_random" id="global_m_random">#</a></span></h2>
<h3>random()<span><a class="mark" href="#global_random" id="global_random">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>与 Math.random() 相同, 返回落在 [0, 1) 区间的随机数字.</p>
<h3>random(min, max)<span><a class="mark" href="#global_random_min_max" id="global_random_min_max">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>min</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 随机数下限</li>
<li><strong>max</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 随机数上限</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>返回落在 [min, max] 区间的随机数字.</p>
<blockquote>
<p>注: random(min, max) 右边界闭合, 而 random() 右边界开放.</p>
</blockquote>
<h2>[m] wait<span><a class="mark" href="#global_m_wait" id="global_m_wait">#</a></span></h2>
<h3>wait(condition)<span><a class="mark" href="#global_wait_condition" id="global_wait_condition">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; any)</a></span> | <span class="type"><a href="dataTypes.html#datatypes_pickupselector">PickupSelector</a></span> } - 结束等待条件</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>阻塞等待, 直到条件满足.<br>默认等待时间为 10 秒, 条件检查间隔为 200 毫秒.<br>若超时, 放弃等待, 并返回特定的条件超时结果 (如 false).<br>若超时之前条件得以满足, 结束等待, 并返回特定的条件满足结果 (如 true).</p>
<blockquote>
<p>注: 不同于 while 和 for 等循环语句的 &quot;条件&quot;,<br>该方法的条件是结束等待条件, 只要不满足条件, 就一直等待.<br>而循环语句的条件, 是只要满足条件, 就一直循环.</p>
</blockquote>
<p>等待条件支持函数及选择器.</p>
<p>函数示例, 等待设备屏幕关闭:</p>
<pre><code class="lang-js">wait(function () {
    return device.isScreenOff();
});

/* 使用箭头函数. */
wait(() =&gt; device.isScreenOff());

/* 使用 bind. */
wait(device.isScreenOff.bind(device));

/* 对结果分支处理. */
if (wait(() =&gt; device.isScreenOff())) {
    console.log(&quot;等待屏幕关闭成功&quot;);
} else {
    console.log(&quot;等待屏幕关闭超时&quot;);
}
</code></pre>
<p>选择器示例, 等待文本为 &quot;立即开始&quot; 的控件出现:</p>
<pre><code class="lang-js">/* 以下三种方式为 Pickup 选择器的不同格式, 效果相同. */
wait(&#39;立即开始&#39;);
wait(content(&#39;立即开始&#39;)); /* 同上. */
wait({ content: &#39;立即开始&#39; }); /* 同上. */

/* 函数方式. */
wait(() =&gt; content(&#39;立即开始&#39;).exists());
wait(() =&gt; pickup(&#39;立即开始&#39;, &#39;?&#39;)); /* 同上. */

/* wait 返回结果的简单应用. */
wait(&#39;立即开始&#39;) &amp;&amp; toast(&#39;OK&#39;);
wait(&#39;立即开始&#39;) ? toast(&#39;√&#39;) : toast(&#39;×&#39;);
</code></pre>
<p>等待条件的满足与否, 与函数返回值有关.<br>例如当函数返回 true 时, 等待条件即满足.</p>
<p>下面列出不满足条件的几种返回值:<br>[ <a href="dataTypes.html#datatypes_boolean">false</a> / <a href="dataTypes.html#datatypes_null">null</a> / <a href="dataTypes.html#datatypes_undefined">undefined</a> / <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/NaN/">NaN</a> ]<br>除此之外的返回值均视为满足条件 (包括空字符串和数字 0 等).</p>
<p>一种常见的错误用例, 即函数条件缺少返回值:</p>
<pre><code class="lang-js">wait(() =&gt; {
    if (device.isScreenOff()) {
        console.log(&quot;屏幕已成功关闭&quot;);
    }
});
</code></pre>
<p>上述示例中, 等待条件永远无法满足, 因函数一直返回 undefined.</p>
<p>添加合适的返回值即可修正:</p>
<pre><code class="lang-js">wait(() =&gt; {
    if (device.isScreenOff()) {
        console.log(&quot;屏幕已成功关闭&quot;);
        return true;
    }
});
</code></pre>
<blockquote>
<p>参阅: <a href="uiSelectorType.html#uiselectortype_m_pickup">pickup</a></p>
</blockquote>
<h3>wait(condition, limit)<span><a class="mark" href="#global_wait_condition_limit" id="global_wait_condition_limit">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; any)</a></span> | <span class="type"><a href="uiSelectorType.html#uiselectortype_m_pickup">PickupSelector</a></span> } - 结束等待条件</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p><a href="#all_waitcondition">wait(condition)</a> 增加条件检测限制.<br>达到限制后, 表示等待超时, 并放弃等待.<br>限制分为 &quot;次数限制&quot; (limit &lt; 100) 和 &quot;时间限制&quot; (limit &gt;= 100).</p>
<pre><code class="lang-js">/* 等待屏幕关闭, 最多检测屏幕状态 20 次. */
wait(() =&gt; device.isScreenOff(), 20); /* limit &lt; 100, 视为次数限制. */
/* 等待屏幕关闭, 最多检测屏幕状态 5 秒钟. */
wait(() =&gt; device.isScreenOff(), 5e3); /* limit &gt;= 100, 视为时间限制. */
</code></pre>
<h3>wait(condition, limit, interval)<span><a class="mark" href="#global_wait_condition_limit_interval" id="global_wait_condition_limit_interval">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; any)</a></span> | <span class="type"><a href="uiSelectorType.html#uiselectortype_m_pickup">PickupSelector</a></span> } - 结束等待条件</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p><a href="#all_waitcondition_limit">wait(condition, limit)</a> 增加条件检测间隔.<br>只要条件不满足, wait() 方法会持续检测, 直到条件满足或达到检测限制.<br>interval 参数用于设置条件检测之间的间歇时长, 默认为 200 毫秒.</p>
<pre><code class="lang-text">检查条件 (不满足) - 间歇 - 检查条件 (不满足) - 间歇 - 检查条件...
</code></pre>
<pre><code class="lang-js">/* 等待屏幕关闭, 最多检测屏幕状态 20 次, 每次检查间歇 3 秒钟. */
wait(() =&gt; device.isScreenOff(), 20, 3e3);
/* 等待屏幕关闭, 最多检测屏幕状态 20 次, 并采用不间断检测 (无间歇). */
wait(() =&gt; device.isScreenOff(), 20, 0);
</code></pre>
<blockquote>
<p>注: 在最后一次条件检查之后, 将不再发生间歇.<br>包括条件满足或达到检测限制.</p>
<p>例如在第三次检查时, 条件满足:<br>检查 (×) - 间歇 - 检查 (×) - 间歇 - 检查 (√) - 立即结束 wait()</p>
</blockquote>
<h3>wait(condition, callback)<span><a class="mark" href="#global_wait_condition_callback" id="global_wait_condition_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; T)</a></span> | <span class="type"><a href="uiSelectorType.html#uiselectortype_m_pickup">PickupSelector</a></span> } - 结束等待条件</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<p><a href="#all_waitcondition">wait(condition)</a> 增加回调对象.</p>
<p>回调对象集合了两个方法, then 与 else 分别对应等待成功与等待失败的情况:</p>
<pre><code class="lang-js">wait(() =&gt; device.isScreenOff(), {
    then: () =&gt; console.log(&quot;等待屏幕关闭成功&quot;),
    else: () =&gt; console.log(&quot;等待屏幕关闭超时&quot;),
});
</code></pre>
<p>两种方法都将最后一次检查结果作为实参, 可在方法体内直接使用:</p>
<pre><code class="lang-js">/* 等待一个落在 99.99 到 100 区间的随机数. */
wait(() =&gt; {
    let num = Math.random() * 100;
    return num &gt; 99.99 &amp;&amp; num;
}, {
    then(o) {
        console.log(`获取随机数成功, 数字是: ${o}`);
    },
    else() {
        console.log(&quot;获取 99.99 到 100 的随机数超时&quot;);
    },
});
</code></pre>
<blockquote>
<p>注: else 回调方法的参数只能是 [ <a href="dataTypes.html#datatypes_boolean">false</a> / <a href="dataTypes.html#datatypes_null">null</a> / <a href="dataTypes.html#datatypes_undefined">undefined</a> / <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/NaN/">NaN</a> ],<br>因此 else 的参数几乎不会用到.</p>
</blockquote>
<p>需特别注意, 回调方法的返回值具有穿透性.<br>在回调方法内使用 return 语句, 将直接影响 wait() 的返回值 (undefined 除外).</p>
<p>上述示例中, then 和 else 回调都没有返回值, 因此 wait() 返回值是 boolean 类型, 表示等待条件是否满足.<br>下述示例在回调函数中增加了返回值 (非 undefined), 则 wait() 也将返回这个值.</p>
<pre><code class="lang-js">let result = wait(() =&gt; {
    let num = Math.random() * 100;
    return num &gt; 99.99 &amp;&amp; num;
}, {
    then(o) {
        console.log(`获取随机数成功`);
        return o;
    },
    else() {
        console.log(&quot;获取 99.99 到 100 的随机数超时&quot;);
        return NaN;
    },
});
result; /* 一个数字 (如 99.99732126036437) 或 NaN. */
</code></pre>
<p>上述示例如果等待条件满足, 则返回 then 的返回值 (number 类型),<br>等待条件超时, 则返回 else 的返回值 (NaN, 也为 number 类型).</p>
<p>如果去掉 else 的返回语句, 则等待条件超时后, wait() 将返回 false (boolean 类型).</p>
<p>如需对 wait() 的返回值做进一步处理, 则建议两个回调方法的返回值类型一致:</p>
<pre><code class="lang-js">wait(() =&gt; {
    let num = Math.random() * 100;
    return num &gt; 99.99 &amp;&amp; num;
}, {
    then(o) {
        return [ o - 1, o, o + 1 ];
    },
    else() {
        /* 即使等待条件超时, 也可调用 forEach 方法. */
        return [];
    },
}).forEach(x =&gt; console.log(x));
</code></pre>
<h3>wait(condition, limit, callback)<span><a class="mark" href="#global_wait_condition_limit_callback" id="global_wait_condition_limit_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 5/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; T)</a></span> | <span class="type"><a href="uiSelectorType.html#uiselectortype_m_pickup">PickupSelector</a></span> } - 结束等待条件</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<p><a href="#all_waitcondition_callback">wait(condition, callback)</a> 增加条件检测限制.</p>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit">wait(condition, limit)</a></p>
</blockquote>
<h3>wait(condition, limit, interval, callback)<span><a class="mark" href="#global_wait_condition_limit_interval_callback" id="global_wait_condition_limit_interval_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 6/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>condition</strong> { <span class="type"><a href="dataTypes.html#datatypes_function">(() =&gt; T)</a></span> | <span class="type"><a href="uiSelectorType.html#uiselectortype_m_pickup">PickupSelector</a></span> } - 结束等待条件</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<p><a href="#all_waitcondition_callback">wait(condition, limit, callback)</a> 增加条件检测间隔.</p>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit_interval">wait(condition, limit, interval)</a></p>
</blockquote>
<h2>[m] waitForActivity<span><a class="mark" href="#global_m_waitforactivity" id="global_m_waitforactivity">#</a></span></h2>
<p>等待指定名称的 Activity 出现 (前置).<br>此方法相当于 <code>wait(() =&gt; currentActivity() === activityName, ...args)</code>,<br>因此其所有重载方法的结构与 wait 一致.<br>为节约篇幅, 将仅列出方法签名等重要信息.</p>
<h3>waitForActivity(activityName)<span><a class="mark" href="#global_waitforactivity_activityname" id="global_waitforactivity_activityname">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition">wait(condition)</a></p>
</blockquote>
<h3>waitForActivity(activityName, limit)<span><a class="mark" href="#global_waitforactivity_activityname_limit" id="global_waitforactivity_activityname_limit">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition_limit">wait(condition, limit)</a></p>
</blockquote>
<h3>waitForActivity(activityName, limit, interval)<span><a class="mark" href="#global_waitforactivity_activityname_limit_interval" id="global_waitforactivity_activityname_limit_interval">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition_limit_interval">wait(condition, limit, interval)</a></p>
</blockquote>
<h3>waitForActivity(activityName, callback)<span><a class="mark" href="#global_waitforactivity_activityname_callback" id="global_waitforactivity_activityname_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_callback">wait(condition, callback)</a></p>
</blockquote>
<h3>waitForActivity(activityName, limit, callback)<span><a class="mark" href="#global_waitforactivity_activityname_limit_callback" id="global_waitforactivity_activityname_limit_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 5/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit_callback">wait(condition, limit, callback)</a></p>
</blockquote>
<h3>waitForActivity(activityName, limit, interval, callback)<span><a class="mark" href="#global_waitforactivity_activityname_limit_interval_callback" id="global_waitforactivity_activityname_limit_interval_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 6/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>activityName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标活动名称</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit_interval_callback">wait(condition, limit, interval, callback)</a></p>
</blockquote>
<h2>[m] waitForPackage<span><a class="mark" href="#global_m_waitforpackage" id="global_m_waitforpackage">#</a></span></h2>
<p>等待指定包名的应用出现 (前置).<br>此方法相当于 <code>wait(() =&gt; currentPackage() === packageName, ...args)</code>,<br>因此其所有重载方法的结构与 wait 一致.<br>为节约篇幅, 将仅列出方法签名等重要信息.</p>
<h3>waitForPackage(packageName)<span><a class="mark" href="#global_waitforpackage_packagename" id="global_waitforpackage_packagename">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition">wait(condition)</a></p>
</blockquote>
<h3>waitForPackage(packageName, limit)<span><a class="mark" href="#global_waitforpackage_packagename_limit" id="global_waitforpackage_packagename_limit">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition_limit">wait(condition, limit)</a></p>
</blockquote>
<h3>waitForPackage(packageName, limit, interval)<span><a class="mark" href="#global_waitforpackage_packagename_limit_interval" id="global_waitforpackage_packagename_limit_interval">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<blockquote>
<p>参阅:<a href="#all_waitcondition_limit_interval">wait(condition, limit, interval)</a></p>
</blockquote>
<h3>waitForPackage(packageName, callback)<span><a class="mark" href="#global_waitforpackage_packagename_callback" id="global_waitforpackage_packagename_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_callback">wait(condition, callback)</a></p>
</blockquote>
<h3>waitForPackage(packageName, limit, callback)<span><a class="mark" href="#global_waitforpackage_packagename_limit_callback" id="global_waitforpackage_packagename_limit_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 5/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit_callback">wait(condition, limit, callback)</a></p>
</blockquote>
<h3>waitForPackage(packageName, limit, interval, callback)<span><a class="mark" href="#global_waitforpackage_packagename_limit_interval_callback" id="global_waitforpackage_packagename_limit_interval_callback">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 6/6</code></strong> <strong><code>A11Y?</code></strong> <strong><code>Non-UI</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 目标应用包名</li>
<li><strong>limit</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测限制</li>
<li><strong>interval</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 等待条件检测间隔</li>
<li><strong>callback</strong> {{<ul>
<li>then(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
<li>else(result?: <a href="dataTypes.html#datatypes_generic">T</a>)?: <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
</li>
<li>}} - 等待结束回调对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_generic">R</a> extends <a href="dataTypes.html#datatypes_void">void</a> ? <a href="dataTypes.html#datatypes_boolean">boolean</a> : <a href="dataTypes.html#datatypes_generic">R</a></span> }</li>
<li><ins><strong>template</strong></ins> <a href="dataTypes.html#datatypes_generic">T</a>, <a href="dataTypes.html#datatypes_generic">R</a></li>
</ul>
<blockquote>
<p>参阅: <a href="#all_waitcondition_limit_interval_callback">wait(condition, limit, interval, callback)</a></p>
</blockquote>
<h2>[m] exit<span><a class="mark" href="#global_m_exit" id="global_m_exit">#</a></span></h2>
<p>停止脚本运行.</p>
<h3>exit()<span><a class="mark" href="#global_exit" id="global_exit">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>通过抛出 <code>ScriptInterruptedException</code> 异常实现脚本停止.<br>因此用 <code>try</code> 包裹 <code>exit()</code> 语句将会使脚本继续运行片刻:</p>
<pre><code class="lang-js">try {
    log(&#39;exit now&#39;);
    exit();
    log(&quot;after&quot;); /* 控制台不会打印 &quot;after&quot;. */
} catch (e) {
    e.javaException instanceof ScriptInterruptedException; // true
}
while (true) log(&quot;hello&quot;); /* 控制台将打印一定数量的 &quot;hello&quot;. */
</code></pre>
<p>如果编写的脚本对 &quot;是否停止&quot; 的状态十分敏感,<br>即要求 exit() 之后的代码一定不被执行,<br>则可通过附加状态判断实现上述需求:</p>
<pre><code class="lang-js">if (!isStopped()) {
    // 其他代码...
}
</code></pre>
<p>因此上述示例如果加上状态判断, &quot;hello&quot; 将不会被打印:</p>
<pre><code class="lang-js">try {
    log(&#39;exit now&#39;);
    exit();
} catch (_) {
    // Ignored.
}
if (!isStopped()) {
    while (true) {
        /* 控制台不会打印 &quot;hello&quot;. */
        log(&quot;hello&quot;);
    }
}
</code></pre>
<p>除了 <a href="#all_isstopped">isStopped</a>, 还可通过 <code>threads</code> 或 <code>engines</code> 模块获取停止状态:</p>
<pre><code class="lang-js">/* threads. */
if (!threads.currentThread().isInterrupted()) {
    // 其他代码...
}

/* engines. */
if (!engines.myEngine().isStopped()) {
    // 其他代码...
}
</code></pre>
<h3>exit(e)<span><a class="mark" href="#global_exit_e" id="global_exit_e">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>e</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnithrowable">OmniThrowable</a></span> } - 异常参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>停止脚本运行并抛出异常参数指定的异常.</p>
<pre><code class="lang-js">let arg = &#39;hello&#39;;
try {
    if (typeof arg !== &quot;number&quot;) {
        throw Error(&#39;arg 参数非 number 类型&#39;);
    }
} catch (e) {
    exit(e);
}
</code></pre>
<p><a href="omniTypes.html#omnitypes_omnithrowable">OmniThrowable</a> 支持字符串参数, 可将字符串参数作为异常消息传入 <code>exit</code> 方法中:</p>
<pre><code class="lang-js">let buttonText = &#39;点此开始&#39;;
if (!pickup(buttonText)) {
    exit(`&quot;${buttonText}&quot; 按钮不存在.`);
}
</code></pre>
<h2>[m] stop<span><a class="mark" href="#global_m_stop" id="global_m_stop">#</a></span></h2>
<h3>stop()<span><a class="mark" href="#global_stop" id="global_stop">#</a></span></h3>
<p><strong><code>Global</code></strong> - <ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</p>
<p>停止脚本运行.</p>
<p><a href="#all_exit">exit()</a> 的别名方法.</p>
<blockquote>
<p>注: stop 方法不存在 <a href="#all_exite">exit(e)</a> 对应的重载方法.</p>
</blockquote>
<h2>[m] isStopped<span><a class="mark" href="#global_m_isstopped" id="global_m_isstopped">#</a></span></h2>
<h3>isStopped()<span><a class="mark" href="#global_isstopped" id="global_isstopped">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>DEPRECATED</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>检测脚本主线程是否已中断.</p>
<p>即 <code>runtime.isInterrupted()</code>.</p>
<h2>[m] isShuttingDown<span><a class="mark" href="#global_m_isshuttingdown" id="global_m_isshuttingdown">#</a></span></h2>
<h3>isShuttingDown()<span><a class="mark" href="#global_isshuttingdown" id="global_isshuttingdown">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>DEPRECATED</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>检测脚本主线程是否已中断.</p>
<p>因方法名称易造成歧义及混淆, 因此被弃用, 建议使用 <a href="#all_m_isstopped">isStopped()</a> 或 <code>runtime.isInterrupted()</code> 替代.</p>
<h2>[m] isRunning<span><a class="mark" href="#global_m_isrunning" id="global_m_isrunning">#</a></span></h2>
<h3>isRunning()<span><a class="mark" href="#global_isrunning" id="global_isrunning">#</a></span></h3>
<p><strong><code>Global</code></strong> - <ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</p>
<p>检测脚本主线程是否未被中断.</p>
<p>即 <code>!runtime.isInterrupted()</code>.</p>
<h2>[m] notStopped<span><a class="mark" href="#global_m_notstopped" id="global_m_notstopped">#</a></span></h2>
<h3>notStopped()<span><a class="mark" href="#global_notstopped" id="global_notstopped">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>DEPRECATED</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>检测脚本主线程是否未被中断.</p>
<p>因方法名称易造成歧义及混淆, 因此被弃用, 建议使用 <a href="#all_m_isrunning">isRunning()</a> 或 <code>!runtime.isInterrupted()</code> 替代.</p>
<h2>[m] requiresApi<span><a class="mark" href="#global_m_requiresapi" id="global_m_requiresapi">#</a></span></h2>
<h3>requiresApi(api)<span><a class="mark" href="#global_requiresapi_api" id="global_requiresapi_api">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>api</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 安卓 API 级别</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>脚本运行的最低 API 级别要求.</p>
<p>例如要求脚本运行不低于 <a href="apiLevel.html">Android API 30 (11) [R]</a>:</p>
<pre><code class="lang-js">requiresApi(30);
requiresApi(util.versionCodes.R.apiLevel); /* 同上. */
requiresApi(android.os.Build.VERSION_CODES.R); /* 同上. */
</code></pre>
<p>若 API 级别不符合要求, 脚本抛出异常并停止继续执行.</p>
<blockquote>
<p>参阅:</p>
<ul>
<li><a href="apiLevel.html">Android API Level - 安卓 API 级别</a></li>
<li><a href="util.html#util_versioncodes">util.versionCodes</a></li>
</ul>
</blockquote>
<h2>[m] requiresAutojsVersion<span><a class="mark" href="#global_m_requiresautojsversion" id="global_m_requiresautojsversion">#</a></span></h2>
<h3>requiresAutojsVersion(versionName)<span><a class="mark" href="#global_requiresautojsversion_versionname" id="global_requiresautojsversion_versionname">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>versionName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - AutoJs6 版本名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>脚本运行的最低 AutoJs6 版本要求 (版本名称).</p>
<pre><code class="lang-js">requiresAutojsVersion(&quot;6.2.0&quot;);
</code></pre>
<p>可通过 <code>autojs.versionName</code> 查看 AutoJs6 版本名称.</p>
<blockquote>
<p>参阅: <a href="autojs.html#autojs_versionname">autojs.versionName</a></p>
</blockquote>
<h3>requiresAutojsVersion(versionCode)<span><a class="mark" href="#global_requiresautojsversion_versioncode" id="global_requiresautojsversion_versioncode">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>versionCode</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - AutoJs6 版本号</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>脚本运行的最低 AutoJs6 版本要求 (版本号).</p>
<pre><code class="lang-js">requiresAutojsVersion(1024);
</code></pre>
<p>可通过 <code>autojs.versionCode</code> 查看 AutoJs6 版本号.</p>
<blockquote>
<p>参阅: <a href="autojs.html#autojs_versioncode">autojs.versionCode</a></p>
</blockquote>
<h2>[m] importPackage<span><a class="mark" href="#global_m_importpackage" id="global_m_importpackage">#</a></span></h2>
<h3>importPackage(...pkg)<span><a class="mark" href="#global_importpackage_pkg" id="global_importpackage_pkg">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>pkg</strong> { <span class="type">...( <a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_object">object</a> )</span> } - 需导入的 Java 包</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<pre><code class="lang-js">/* 导入一个 Java 包. */

importPackage(java.lang);
importPackage(&#39;java.lang&#39;); /* 同上. */

/* 导入多个 Java 包. */

importPackage(java.io);
importPackage(java.lang);
importPackage(java.util);

importPackage(java.io, java.lang, java.util); /* 同上. */
</code></pre>
<blockquote>
<p>参阅: <a href="scriptingJava.html#scriptingjava_访问_Java_包和类">访问 Java 包和类</a></p>
</blockquote>
<h2>[m] importClass<span><a class="mark" href="#global_m_importclass" id="global_m_importclass">#</a></span></h2>
<h3>importClass(...cls)<span><a class="mark" href="#global_importclass_cls" id="global_importclass_cls">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>cls</strong> { <span class="type">...( <a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_object">object</a> )</span> } - 需导入的 Java 类</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<pre><code class="lang-js">/* 导入一个 Java 类. */

importClass(java.lang.Integer);
importClass(&#39;java.lang.Integer&#39;); /* 同上. */

/* 导入多个 Java 类. */

importClass(java.io.File);
importClass(java.lang.Integer);
importClass(java.util.HashMap);

importClass(
    java.io.File,
    java.lang.Integer,
    java.util.HashMap,
); /* 同上. */
</code></pre>
<blockquote>
<p>参阅: <a href="scriptingJava.html#scriptingjava_访问_Java_包和类">访问 Java 包和类</a></p>
</blockquote>
<h2>[m] currentPackage<span><a class="mark" href="#global_m_currentpackage" id="global_m_currentpackage">#</a></span></h2>
<h3>currentPackage()<span><a class="mark" href="#global_currentpackage" id="global_currentpackage">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>A11Y</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取最近一次监测到的应用包名, 并视为当前正在运行的应用包名.</p>
<h2>[m] currentActivity<span><a class="mark" href="#global_m_currentactivity" id="global_m_currentactivity">#</a></span></h2>
<h3>currentActivity()<span><a class="mark" href="#global_currentactivity" id="global_currentactivity">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>A11Y</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取最近一次监测到的活动名称, 并视为当前正在运行的活动名称.</p>
<h2>[m] setClip<span><a class="mark" href="#global_m_setclip" id="global_m_setclip">#</a></span></h2>
<h3>setClip(text)<span><a class="mark" href="#global_setclip_text" id="global_setclip_text">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 剪贴板内容</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>设置系统剪贴板内容.</p>
<blockquote>
<p>参阅: <a href="#all_m_getclip">getClip</a></p>
</blockquote>
<h2>[m] getClip<span><a class="mark" href="#global_m_getclip" id="global_m_getclip">#</a></span></h2>
<h3>getClip()<span><a class="mark" href="#global_getclip" id="global_getclip">#</a></span></h3>
<p><strong><code>Global</code></strong> - <ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 系统剪贴板内容</p>
<p>需额外留意, 自 <a href="apiLevel.html">Android API 29 (10) [Q]</a> 起, 剪贴板数据的访问将受到限制:</p>
<p>为更好地保护用户隐私权, 除默认输入法及当前获取焦点的前置应用外, 均无法访问剪贴板数据.</p>
<pre><code class="lang-js">setClip(&quot;test&quot;);

/* 安卓 10 以下: 打印 &quot;test&quot;. */
/* 安卓 10 及以上: 若 AutoJs6 前置, 打印 &quot;test&quot;, 否则打印空字符串. */
console.log(getClip());
</code></pre>
<blockquote>
<p>参阅: <a href="#all_m_setclip">setClip</a></p>
</blockquote>
<blockquote>
<p>参阅: <a href="https://developer.android.com/about/versions/10/privacy/changes#clipboard-data">Android Docs</a></p>
</blockquote>
<h2>[m] selector<span><a class="mark" href="#global_m_selector" id="global_m_selector">#</a></span></h2>
<h3>selector()<span><a class="mark" href="#global_selector" id="global_selector">#</a></span></h3>
<p><strong><code>Global</code></strong> - <ins><strong>returns</strong></ins> { <span class="type"><a href="uiSelectorType.html">UiSelector</a></span> }</p>
<p>构建一个 &quot;空&quot; <a href="uiSelectorType.html">选择器</a>.</p>
<h2>[m] pickup<span><a class="mark" href="#global_m_pickup" id="global_m_pickup">#</a></span></h2>
<p>拾取选择器, 简称拾取器, 是高度封装的混合形式选择器, 用于在筛选控件及处理结果过程中实现快捷操作.<br>支持 [ 选择器多形式混合 / 控件罗盘 / 结果筛选 / 参化调用 ] 等.</p>
<p>参阅 <a href="uiSelectorType.html#uiselectortype_m_pickup">UiSelector.pickup</a>.</p>
<h2>[m] detect<span><a class="mark" href="#global_m_detect" id="global_m_detect">#</a></span></h2>
<p>控件探测.</p>
<p>探测相当于对控件进行一系列组合操作 (罗盘定位, 结果筛选, 参化调用, 回调处理).</p>
<p>参阅 <a href="uiObjectType.html#uiobjecttype_m_detect">UiObject#detect</a>.</p>
<h2>[m] existsAll<span><a class="mark" href="#global_m_existsall" id="global_m_existsall">#</a></span></h2>
<h3>existsAll(...selectors)<span><a class="mark" href="#global_existsall_selectors" id="global_existsall_selectors">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>selectors</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_pickupselector">PickupSelector</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - 混合选择器参数</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 选择器全部满足 &quot;存在&quot; 条件</li>
</ul>
<p>提供的选择器参数全部满足 &quot;存在&quot; 条件, 即 <code>selector.exists() === true</code>.</p>
<p>例如要求当前活动窗口中同时存在以下三个选择器对应的控件:</p>
<ol>
<li>contentMatch(/^开始.*/)</li>
<li>descMatch(/descriptions?/)</li>
<li>content(&#39;点击继续&#39;)</li>
</ol>
<pre><code class="lang-js">console.log(existsAll(contentMatch(/^开始.*/), descMatch(/descriptions?/), content(&#39;点击继续&#39;))); /* e.g. true */
</code></pre>
<p>因混合选择器参数支持对 content 系列选择器的简化, 因此上述示例也可改写为以下形式:</p>
<pre><code class="lang-js">console.log(existsAll(/^开始.*/, descMatch(/descriptions?/), &#39;点击继续&#39;)); /* e.g. true */
</code></pre>
<p>此方法对应的传统的逻辑判断形式:</p>
<pre><code class="lang-js">console.log(contentMatch(/^开始.*/).exists()
    &amp;&amp; descMatch(/descriptions?/).exists()
    &amp;&amp; content(&#39;点击继续&#39;).exists()); /* e.g. true */
</code></pre>
<h2>[m] existsOne<span><a class="mark" href="#global_m_existsone" id="global_m_existsone">#</a></span></h2>
<h3>existsOne(...selectors)<span><a class="mark" href="#global_existsone_selectors" id="global_existsone_selectors">#</a></span></h3>
<p><strong><code>Global</code></strong> - <strong>selectors</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_pickupselector">PickupSelector</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - 混合选择器参数</p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 选择器任一满足 &quot;存在&quot; 条件</li>
</ul>
<p>提供的选择器参数任一满足 &quot;存在&quot; 条件, 即 <code>selector.exists() === true</code>.</p>
<p>例如要求当前活动窗口中存在任意一个以下选择器对应的控件:</p>
<ol>
<li>contentMatch(/^开始.*/)</li>
<li>descMatch(/descriptions?/)</li>
<li>content(&#39;点击继续&#39;)</li>
</ol>
<pre><code class="lang-js">console.log(existsOne(contentMatch(/^开始.*/), descMatch(/descriptions?/), content(&#39;点击继续&#39;))); /* e.g. true */
</code></pre>
<p>因混合选择器参数支持对 content 系列选择器的简化, 因此上述示例也可改写为以下形式:</p>
<pre><code class="lang-js">console.log(existsOne(/^开始.*/, descMatch(/descriptions?/), &#39;点击继续&#39;)); /* e.g. true */
</code></pre>
<p>此方法对应的传统的逻辑判断形式:</p>
<pre><code class="lang-js">console.log(contentMatch(/^开始.*/).exists()
    || descMatch(/descriptions?/).exists()
    || content(&#39;点击继续&#39;).exists()); /* e.g. true */
</code></pre>
<h2>[m] cX<span><a class="mark" href="#global_m_cx" id="global_m_cx">#</a></span></h2>
<p>横坐标标度.</p>
<h3>cX()<span><a class="mark" href="#global_cx" id="global_cx">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/5</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>无参时, 返回当前设备宽度.</p>
<pre><code class="lang-js">console.log(cX() === device.width); // true
</code></pre>
<h3>cX(x, base)<span><a class="mark" href="#global_cx_x_base" id="global_cx_x_base">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/4</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值</li>
<li><strong>[ base = 720 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 坐标值基数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由基数换算后得到的横坐标值.</p>
<p>例如在一个设备宽度为 <code>1096</code> 的设备上的 <code>100</code> 像素, 在其他不同宽度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在宽度为 1096 像素的设备上. */
cX(100, 1096); // 100

/* 在宽度为 1080 像素的设备上. */
cX(100, 1096); // 99

/* 在宽度为 720 像素的设备上. */
cX(100, 1096); // 66

/* 在宽度为 540 像素的设备上. */
cX(100, 1096); // 49
</code></pre>
<p>上述示例的 <code>1096</code> 为基数, 默认基数为 <code>720</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cX(100); /* 相当于 cX(100, 720) . */
setScaleBaseX(1096);
cX(100); /* 相当于 cX(100, 1096) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cX(x, isRatio)<span><a class="mark" href="#global_cx_x_isratio" id="global_cx_x_isratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/4</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕宽度百分比</li>
<li><strong>[ isRatio = &#39;auto&#39; ]</strong> { <code>&#39;auto&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否将 <code>x</code> 参数强制作为百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><code>isRatio</code> 参数默认为 <code>auto</code>, 即由 <code>x</code> 参数的范围自动决定 <code>x</code> 是否视为百分比,<br>即当参数 <code>x</code> 满足 <code>-1 &lt; x &lt; 1</code> 时, <code>x</code> 将视为屏幕宽度百分比, 否则将视为绝对坐标值.</p>
<p><code>isRatio</code> 参数为 <code>true</code> 时, <code>x</code> 参数将强制视为百分比, 如 <code>cX(2, true)</code> 意味着两倍屏幕宽度, <code>2</code> 的意义不再是像素值.</p>
<p><code>isRatio</code> 参数为 <code>false</code> 时, <code>x</code> 参数将强制视为绝对坐标值, 如 <code>cX(0.5, false)</code> 意味着 <code>0.5</code> 像素值, 其意义不再是百分比.</p>
<h3>cX(x)<span><a class="mark" href="#global_cx_x" id="global_cx_x">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/4</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕宽度百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>当参数 <code>x</code> 满足 <code>-1 &lt; x &lt; 1</code> 时, 相当于 <code>cX(x, /* isRatio = */ true)</code>, 即 <code>x</code> 将视为屏幕宽度百分比.</p>
<p>当参数 <code>x</code> 满足 <code>x &lt;= -1 | x &gt;= 1</code> 时, 相当于 <code>cX(x, /* base = */ 720)</code>, 即 <code>x</code> 将视为绝对坐标值, 另 <code>base</code> 参数可能由 <code>setScaleBaseX</code> 等方法修改, <code>720</code> 为其默认值.</p>
<h2>[m] cY<span><a class="mark" href="#global_m_cy" id="global_m_cy">#</a></span></h2>
<p>横坐标标度.</p>
<h3>cY()<span><a class="mark" href="#global_cy" id="global_cy">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/5</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>无参时, 返回当前设备高度.</p>
<pre><code class="lang-js">console.log(cY() === device.width); // true
</code></pre>
<h3>cY(y, base)<span><a class="mark" href="#global_cy_y_base" id="global_cy_y_base">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/4</code></strong></p>
<ul>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值</li>
<li><strong>[ base = 1280 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 坐标值基数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由基数换算后得到的纵坐标值.</p>
<p>例如在一个设备高度为 <code>2560</code> 的设备上的 <code>100</code> 像素, 在其他不同高度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在高度为 2560 像素的设备上. */
cY(100, 2560); // 100

/* 在高度为 1920 像素的设备上. */
cY(100, 2560); // 75

/* 在高度为 1280 像素的设备上. */
cY(100, 2560); // 50

/* 在高度为 960 像素的设备上. */
cY(100, 2560); // 38
</code></pre>
<p>上述示例的 <code>2560</code> 为基数, 默认基数为 <code>1280</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cY(100); /* 相当于 cY(100, 1280) . */
setScaleBaseY(2560);
cY(100); /* 相当于 cY(100, 2560) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cY(y, isRatio)<span><a class="mark" href="#global_cy_y_isratio" id="global_cy_y_isratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/4</code></strong></p>
<ul>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕高度百分比</li>
<li><strong>[ isRatio = &#39;auto&#39; ]</strong> { <code>&#39;auto&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否将 <code>y</code> 参数强制作为百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><code>isRatio</code> 参数默认为 <code>auto</code>, 即由 <code>y</code> 参数的范围自动决定 <code>y</code> 是否视为百分比,<br>即当参数 <code>y</code> 满足 <code>-1 &lt; y &lt; 1</code> 时, <code>y</code> 将视为屏幕高度百分比, 否则将视为绝对坐标值.</p>
<p><code>isRatio</code> 参数为 <code>true</code> 时, <code>y</code> 参数将强制视为百分比, 如 <code>cY(2, true)</code> 意味着两倍屏幕高度, <code>2</code> 的意义不再是像素值.</p>
<p><code>isRatio</code> 参数为 <code>false</code> 时, <code>y</code> 参数将强制视为绝对坐标值, 如 <code>cY(0.5, false)</code> 意味着 <code>0.5</code> 像素值, 其意义不再是百分比.</p>
<h3>cY(y)<span><a class="mark" href="#global_cy_y" id="global_cy_y">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/4</code></strong></p>
<ul>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕高度百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>当参数 <code>y</code> 满足 <code>-1 &lt; y &lt; 1</code> 时, 相当于 <code>cY(y, /* isRatio = */ true)</code>, 即 <code>y</code> 将视为屏幕高度百分比.</p>
<p>当参数 <code>y</code> 满足 <code>y &lt;= -1 | y &gt;= 1</code> 时, 相当于 <code>cY(y, /* base = */ 1280)</code>, 即 <code>y</code> 将视为绝对坐标值, 另 <code>base</code> 参数可能由 <code>setScaleBaseY</code> 等方法修改, <code>1280</code> 为其默认值.</p>
<h2>[m] cYx<span><a class="mark" href="#global_m_cyx" id="global_m_cyx">#</a></span></h2>
<p>以横坐标度量的纵坐标标度.</p>
<p>与设备高度无关, 与设备宽度相关的坐标标度.</p>
<p>如 <code>cYx(0.5, &#39;9:16&#39;)</code> 对于以下 5 个设备 (以分辨率区分) 得到的结果是完全一致的:</p>
<pre><code class="lang-text">1. 1080 × 1920
4. 1080 × 2160
5. 1080 × 2340
3. 1080 × 2520
2. 1080 × 2560
</code></pre>
<p>因为所有设备宽度相同, <code>cYx</code> 的结果是高度无关的.</p>
<p>计算结果:</p>
<pre><code class="lang-js">1080 * 0.5 * 16 / 9; // 960
</code></pre>
<p>设想如下场景, 某个应用页面是可以向下滚动窗口显示更多内容的, 在屏幕上半部分有一个按钮 <code>BTN</code>, 距离屏幕上边缘 <code>H</code> 距离, 另一台设备与当前设备屏幕宽度相同, 但高度更大, 相当于屏幕纵向变长, 此时按钮 <code>BTN</code> 距离屏幕上边缘依然是 <code>H</code> 距离, 仅仅是屏幕下方显示了更多内容.<br>因此可使用 <code>cYx</code> 标度表示按钮 <code>BTN</code> 的位置, 如 <code>cYx(0.2, 1080 / 1920)</code> 或 <code>cYx(0.2, 9 / 16)</code> 或 <code>cYx(0.2, &#39;9:16&#39;)</code>.</p>
<p>上述示例的 <code>0.2</code> 是一个相对值, 是相对于当前设备屏幕高度的, 因此第 2 个参数对应设备宽高比例值.<br>如果使用绝对坐标值 (<code>Y</code> 坐标值), 如 <code>384</code>, 则第 2 个参数对应的是设备屏幕宽度值:</p>
<table>
<thead>
<tr>
<th style="text-align:center">第 1 个参数</th>
<th style="text-align:center">第 2 个参数</th>
<th style="text-align:center">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Y 坐标百分比</td>
<td style="text-align:center">设备宽高比</td>
<td style="text-align:center">cYx(0.2, &#39;9:16&#39;)</td>
</tr>
<tr>
<td style="text-align:center">Y 坐标值</td>
<td style="text-align:center">设备宽度值</td>
<td style="text-align:center">cYx(384, 1096)</td>
</tr>
</tbody>
</table>
<h3>cYx(coordinateY, baseX)<span><a class="mark" href="#global_cyx_coordinatey_basex" id="global_cyx_coordinatey_basex">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload [1(A)]/3</code></strong></p>
<ul>
<li><strong>coordinateY</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 纵坐标值</li>
<li><strong>[ baseX = 720 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 横坐标基数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由横坐标基数换算后得到的纵坐标值.</p>
<p>例如在一个设备宽度为 <code>1096</code> 设备上的 <code>512</code> 像素高度, 在其他不同宽度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在宽度为 1096 像素的设备上. */
cYx(512, 1096); // 512

/* 在宽度为 1080 像素的设备上. */
cYx(512, 1096); // 505

/* 在宽度为 720 像素的设备上. */
cYx(512, 1096); // 336

/* 在宽度为 540 像素的设备上. */
cYx(512, 1096); // 252
</code></pre>
<p>上述示例的 <code>1096</code> 为基数, 默认基数为 <code>720</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cYx(512); /* 相当于 cYx(512, 720) . */
setScaleBaseX(1096);
cYx(512); /* 相当于 cYx(512, 1096) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cYx(percentY, ratio)<span><a class="mark" href="#global_cyx_percenty_ratio" id="global_cyx_percenty_ratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload [1(B)]/3</code></strong></p>
<ul>
<li><strong>percentY</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 纵坐标百分比</li>
<li><strong>[ ratio = &#39;9:16&#39; ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> | <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 设备宽高比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由设备宽高比换算后得到的新纵坐标值.</p>
<p>例如在一个设备宽度与高度分别为 <code>1096</code> 和 <code>2560</code> 的设备上的 <code>512</code> 像素高度, 即 <code>0.2</code> 倍的屏幕高度, 在其他不同宽度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在宽度为 1096 像素的设备上. */
cYx(0.2, 1096 / 2560); // 512

/* 在宽度为 1080 像素的设备上. */
cYx(0.2, 1096 / 2560); // 505

/* 在宽度为 720 像素的设备上. */
cYx(0.2, 1096 / 2560); // 336

/* 在宽度为 540 像素的设备上. */
cYx(0.2, 1096 / 2560); // 252
</code></pre>
<p>上述示例的 <code>1096 / 2560</code> 为基数, 默认基数为 <code>720 / 1280</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cYx(0.2); /* 相当于 cYx(0.2, 720 / 1280) . */
setScaleBases(1096, 2560);
cYx(0.2); /* 相当于 cYx(0.2, 1096 / 2560) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cYx(y, isRatio)<span><a class="mark" href="#global_cyx_y_isratio" id="global_cyx_y_isratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕高度百分比</li>
<li><strong>[ isRatio = &#39;auto&#39; ]</strong> { <code>&#39;auto&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否将 <code>y</code> 参数强制作为百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><code>isRatio</code> 参数默认为 <code>auto</code>, 即由 <code>y</code> 参数的范围自动决定 <code>y</code> 是否视为百分比,<br>即当参数 <code>y</code> 满足 <code>-1 &lt; y &lt; 1</code> 时, <code>y</code> 将视为屏幕高度百分比, 否则将视为绝对坐标值.</p>
<p><code>isRatio</code> 参数为 <code>true</code> 时, <code>y</code> 参数将强制视为百分比, 如 <code>cYx(2, true)</code> 意味着两倍屏幕高度, <code>2</code> 的意义不再是像素值.</p>
<p><code>isRatio</code> 参数为 <code>false</code> 时, <code>y</code> 参数将强制视为绝对坐标值, 如 <code>cYx(0.5, false)</code> 意味着 <code>0.5</code> 像素值, 其意义不再是百分比.</p>
<h3>cYx(y)<span><a class="mark" href="#global_cyx_y" id="global_cyx_y">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕高度百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>当参数 <code>y</code> 满足 <code>-1 &lt; y &lt; 1</code> 时, 相当于 <code>cY(y, /* isRatio = */ true)</code>, 即 <code>y</code> 将视为屏幕高度百分比.</p>
<p>当参数 <code>y</code> 满足 <code>y &lt;= -1 | y &gt;= 1</code> 时, 相当于 <code>cY(y, /* base = */ 720)</code>, 即 <code>y</code> 将视为绝对坐标值, 另 <code>base</code> 参数可能由 <code>setScaleBaseX</code> 等方法修改, <code>720</code> 为其默认值.</p>
<pre><code class="lang-js">cYx(0.3); /* 相当于 cYx(0.3, &#39;9:16&#39;) . */
cYx(384); /* 相当于 cYx(384, 720) . */
</code></pre>
<h2>[m] cXy<span><a class="mark" href="#global_m_cxy" id="global_m_cxy">#</a></span></h2>
<p>以纵坐标度量的横坐标标度.</p>
<p>与设备宽度无关, 与设备高度相关的坐标标度.</p>
<p>如 <code>cXy(0.5, &#39;9:16&#39;)</code> 对于以下 5 个设备 (以分辨率区分) 得到的结果是完全一致的:</p>
<pre><code class="lang-text">1. 1080 × 1920
4. 1096 × 1920
5. 720 × 1920
3. 540 × 1920
2. 960 × 1920
</code></pre>
<p>因为所有设备高度相同, <code>cXy</code> 的结果是宽度无关的.</p>
<p>计算结果:</p>
<pre><code class="lang-js">1920 * 0.5 * 9 / 16; // 540
</code></pre>
<p>设想如下场景, 某个应用页面是可以向右滚动窗口显示更多内容的, 在屏幕左半部分有一个按钮 <code>BTN</code>, 距离屏幕左边缘 <code>W</code> 距离, 另一台设备与当前设备屏幕高度相同, 但宽度更大, 相当于屏幕横向变长, 此时按钮 <code>BTN</code> 距离屏幕左边缘依然是 <code>W</code> 距离, 仅仅是屏幕右方显示了更多内容.<br>因此可使用 <code>cXy</code> 标度表示按钮 <code>BTN</code> 的位置, 如 <code>cXy(0.2, 1080 / 1920)</code> 或 <code>cXy(0.2, 9 / 16)</code> 或 <code>cXy(0.2, &#39;9:16&#39;)</code>.</p>
<p>上述示例的 <code>0.2</code> 是一个相对值, 是相对于当前设备屏幕宽度的, 因此第 2 个参数对应设备宽高比例值.<br>如果使用绝对坐标值 (<code>X</code> 坐标值), 如 <code>384</code>, 则第 2 个参数对应的是设备屏幕高度值:</p>
<table>
<thead>
<tr>
<th style="text-align:center">第 1 个参数</th>
<th style="text-align:center">第 2 个参数</th>
<th style="text-align:center">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X 坐标百分比</td>
<td style="text-align:center">设备宽高比</td>
<td style="text-align:center">cXy(0.2, &#39;9:16&#39;)</td>
</tr>
<tr>
<td style="text-align:center">X 坐标值</td>
<td style="text-align:center">设备高度值</td>
<td style="text-align:center">cXy(384, 2560)</td>
</tr>
</tbody>
</table>
<h3>cXy(coordinateX, baseY)<span><a class="mark" href="#global_cxy_coordinatex_basey" id="global_cxy_coordinatex_basey">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload [1(A)]/3</code></strong></p>
<ul>
<li><strong>coordinateX</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 横坐标值</li>
<li><strong>[ baseY = 1280 ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 纵坐标基数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由纵坐标基数换算后得到的横坐标值.</p>
<p>例如在一个设备高度为 <code>2560</code> 设备上的 <code>512</code> 像素宽度, 在其他不同高度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在高度为 2560 像素的设备上. */
cXy(512, 2560); // 512

/* 在高度为 1920 像素的设备上. */
cXy(512, 2560); // 384

/* 在高度为 1280 像素的设备上. */
cXy(512, 2560); // 256

/* 在高度为 960 像素的设备上. */
cXy(512, 2560); // 192
</code></pre>
<p>上述示例的 <code>2560</code> 为基数, 默认基数为 <code>1280</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cXy(512); /* 相当于 cXy(512, 1280) . */
setScaleBaseY(2560);
cXy(512); /* 相当于 cXy(512, 2560) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cXy(percentX, ratio)<span><a class="mark" href="#global_cxy_percentx_ratio" id="global_cxy_percentx_ratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload [1(B)]/3</code></strong></p>
<ul>
<li><strong>percentX</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 横坐标百分比</li>
<li><strong>[ ratio = &#39;9:16&#39; ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> | <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 设备宽高比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>由设备宽高比换算后得到的新横坐标值.</p>
<p>例如在一个设备高度与宽度分别为 <code>1096</code> 和 <code>2560</code> 的设备上的 <code>548</code> 像素宽度, 即 <code>0.5</code> 倍的屏幕宽度, 在其他不同高度的设备上将转换为不同的值:</p>
<pre><code class="lang-js">/* 在高度为 2560 像素的设备上. */
cXy(0.5, 1096 / 2560); // 548

/* 在高度为 1920 像素的设备上. */
cXy(0.5, 1096 / 2560); // 411

/* 在高度为 1280 像素的设备上. */
cXy(0.5, 1096 / 2560); // 274

/* 在高度为 960 像素的设备上. */
cXy(0.5, 1096 / 2560); // 206
</code></pre>
<p>上述示例的 <code>1096 / 2560</code> 为基数, 默认基数为 <code>720 / 1280</code>, 如需设置默认基数, 可使用以下方法:</p>
<pre><code class="lang-js">cXy(0.5); /* 相当于 cXy(0.5, 720 / 1280) . */
setScaleBases(1096, 2560);
cXy(0.5); /* 相当于 cXy(0.5, 1096 / 2560) . */
</code></pre>
<p>默认基数只能修改最多一次.</p>
<h3>cXy(x, isRatio)<span><a class="mark" href="#global_cxy_x_isratio" id="global_cxy_x_isratio">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕宽度百分比</li>
<li><strong>[ isRatio = &#39;auto&#39; ]</strong> { <code>&#39;auto&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否将 <code>x</code> 参数强制作为百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><code>isRatio</code> 参数默认为 <code>auto</code>, 即由 <code>x</code> 参数的范围自动决定 <code>x</code> 是否视为百分比,<br>即当参数 <code>x</code> 满足 <code>-1 &lt; x &lt; 1</code> 时, <code>x</code> 将视为屏幕宽度百分比, 否则将视为绝对坐标值.</p>
<p><code>isRatio</code> 参数为 <code>true</code> 时, <code>x</code> 参数将强制视为百分比, 如 <code>cXy(2, true)</code> 意味着两倍屏幕宽度, <code>2</code> 的意义不再是像素值.</p>
<p><code>isRatio</code> 参数为 <code>false</code> 时, <code>x</code> 参数将强制视为绝对坐标值, 如 <code>cXy(0.5, false)</code> 意味着 <code>0.5</code> 像素值, 其意义不再是百分比.</p>
<h3>cXy(x)<span><a class="mark" href="#global_cxy_x" id="global_cxy_x">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 绝对坐标值或屏幕宽度百分比</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>当参数 <code>x</code> 满足 <code>-1 &lt; x &lt; 1</code> 时, 相当于 <code>cY(x, /* isRatio = */ true)</code>, 即 <code>x</code> 将视为屏幕宽度百分比.</p>
<p>当参数 <code>x</code> 满足 <code>x &lt;= -1 | x &gt;= 1</code> 时, 相当于 <code>cY(x, /* base = */ 720)</code>, 即 <code>x</code> 将视为绝对坐标值, 另 <code>base</code> 参数可能由 <code>setScaleBaseX</code> 等方法修改, <code>720</code> 为其默认值.</p>
<pre><code class="lang-js">cXy(0.3); /* 相当于 cXy(0.3, &#39;9:16&#39;) . */
cXy(384); /* 相当于 cXy(384, 720) . */
</code></pre>
<h2>[m+] species<span><a class="mark" href="#global_m_species" id="global_m_species">#</a></span></h2>
<h3>species(o)<span><a class="mark" href="#global_species_o" id="global_species_o">#</a></span></h3>
<p><strong><code>Global</code></strong></p>
<ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>查看任意对象的 &quot;种类&quot;, 如 <code>Object</code>, <code>Array</code>, <code>Number</code>, <code>String</code>, <code>RegExp</code> 等.</p>
<p>内部实现代码摘要:</p>
<pre><code class="lang-js">Object.prototype.toString.call(o).slice(&#39;[Object\x20&#39;.length, &#39;]&#39;.length * -1);
</code></pre>
<p>示例:</p>
<pre><code class="lang-js">species(&#39;xyz&#39;); // String
species(20); // Number
species(20n); // BigInt
species(true); // Boolean
species(undefined); // Undefined
species(null); // Null
species(() =&gt; null); // Function
species({ a: &#39;Apple&#39; }); // Object
species([ 5, 10, 15 ]); // Array
species(/^\d{8,11}$/); // RegExp
species(new Date()); // Date
species(new TypeError()); // Error
species(new Map()); // Map
species(new Set()); // Set
species(&lt;text/&gt;); // XML
species(org.autojs.autojs6); // JavaPackage
species(org.autojs.autojs6.R); // JavaClass
</code></pre>
<p>如需判断某个对象是否为特定的 &quot;种类&quot;, 可使用形如 <code>species.isXxx</code> 的扩展方法:</p>
<pre><code class="lang-js">species.isObject(23); // false
species.isNumber(23); // true
species.isRegExp(/test$/); // true
</code></pre>
<h3>[m] isArray<span><a class="mark" href="#global_m_isarray" id="global_m_isarray">#</a></span></h3>
<h4>isArray(o)<span><a class="mark" href="#global_isarray_o" id="global_isarray_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Array</code>.</p>
<h3>[m] isArrayBuffer<span><a class="mark" href="#global_m_isarraybuffer" id="global_m_isarraybuffer">#</a></span></h3>
<h4>isArrayBuffer(o)<span><a class="mark" href="#global_isarraybuffer_o" id="global_isarraybuffer_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>ArrayBuffer</code>.</p>
<h3>[m] isBigInt<span><a class="mark" href="#global_m_isbigint" id="global_m_isbigint">#</a></span></h3>
<h4>isBigInt(o)<span><a class="mark" href="#global_isbigint_o" id="global_isbigint_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>BigInt</code>.</p>
<h3>[m] isBoolean<span><a class="mark" href="#global_m_isboolean" id="global_m_isboolean">#</a></span></h3>
<h4>isBoolean(o)<span><a class="mark" href="#global_isboolean_o" id="global_isboolean_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Boolean</code>.</p>
<h3>[m] isContinuation<span><a class="mark" href="#global_m_iscontinuation" id="global_m_iscontinuation">#</a></span></h3>
<h4>isContinuation(o)<span><a class="mark" href="#global_iscontinuation_o" id="global_iscontinuation_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Continuation</code>.</p>
<h3>[m] isDataView<span><a class="mark" href="#global_m_isdataview" id="global_m_isdataview">#</a></span></h3>
<h4>isDataView(o)<span><a class="mark" href="#global_isdataview_o" id="global_isdataview_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>DataView</code>.</p>
<h3>[m] isDate<span><a class="mark" href="#global_m_isdate" id="global_m_isdate">#</a></span></h3>
<h4>isDate(o)<span><a class="mark" href="#global_isdate_o" id="global_isdate_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Date</code>.</p>
<h3>[m] isError<span><a class="mark" href="#global_m_iserror" id="global_m_iserror">#</a></span></h3>
<h4>isError(o)<span><a class="mark" href="#global_iserror_o" id="global_iserror_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Error</code>.</p>
<h3>[m] isFloat32Array<span><a class="mark" href="#global_m_isfloat32array" id="global_m_isfloat32array">#</a></span></h3>
<h4>isFloat32Array(o)<span><a class="mark" href="#global_isfloat32array_o" id="global_isfloat32array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Float32Array</code>.</p>
<h3>[m] isFloat64Array<span><a class="mark" href="#global_m_isfloat64array" id="global_m_isfloat64array">#</a></span></h3>
<h4>isFloat64Array(o)<span><a class="mark" href="#global_isfloat64array_o" id="global_isfloat64array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Float64Array</code>.</p>
<h3>[m] isFunction<span><a class="mark" href="#global_m_isfunction" id="global_m_isfunction">#</a></span></h3>
<h4>isFunction(o)<span><a class="mark" href="#global_isfunction_o" id="global_isfunction_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Function</code>.</p>
<h3>[m] isHTMLDocument<span><a class="mark" href="#global_m_ishtmldocument" id="global_m_ishtmldocument">#</a></span></h3>
<h4>isHTMLDocument(o)<span><a class="mark" href="#global_ishtmldocument_o" id="global_ishtmldocument_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>HTMLDocument</code>.</p>
<h3>[m] isInt16Array<span><a class="mark" href="#global_m_isint16array" id="global_m_isint16array">#</a></span></h3>
<h4>isInt16Array(o)<span><a class="mark" href="#global_isint16array_o" id="global_isint16array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Int16Array</code>.</p>
<h3>[m] isInt32Array<span><a class="mark" href="#global_m_isint32array" id="global_m_isint32array">#</a></span></h3>
<h4>isInt32Array(o)<span><a class="mark" href="#global_isint32array_o" id="global_isint32array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Int32Array</code>.</p>
<h3>[m] isInt8Array<span><a class="mark" href="#global_m_isint8array" id="global_m_isint8array">#</a></span></h3>
<h4>isInt8Array(o)<span><a class="mark" href="#global_isint8array_o" id="global_isint8array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Int8Array</code>.</p>
<h3>[m] isJavaObject<span><a class="mark" href="#global_m_isjavaobject" id="global_m_isjavaobject">#</a></span></h3>
<h4>isJavaObject(o)<span><a class="mark" href="#global_isjavaobject_o" id="global_isjavaobject_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>JavaObject</code>.</p>
<h3>[m] isJavaPackage<span><a class="mark" href="#global_m_isjavapackage" id="global_m_isjavapackage">#</a></span></h3>
<h4>isJavaPackage(o)<span><a class="mark" href="#global_isjavapackage_o" id="global_isjavapackage_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>JavaPackage</code>.</p>
<h3>[m] isMap<span><a class="mark" href="#global_m_ismap" id="global_m_ismap">#</a></span></h3>
<h4>isMap(o)<span><a class="mark" href="#global_ismap_o" id="global_ismap_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Map</code>.</p>
<h3>[m] isNamespace<span><a class="mark" href="#global_m_isnamespace" id="global_m_isnamespace">#</a></span></h3>
<h4>isNamespace(o)<span><a class="mark" href="#global_isnamespace_o" id="global_isnamespace_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Namespace</code>.</p>
<h3>[m] isNull<span><a class="mark" href="#global_m_isnull" id="global_m_isnull">#</a></span></h3>
<h4>isNull(o)<span><a class="mark" href="#global_isnull_o" id="global_isnull_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Null</code>.</p>
<h3>[m] isNumber<span><a class="mark" href="#global_m_isnumber" id="global_m_isnumber">#</a></span></h3>
<h4>isNumber(o)<span><a class="mark" href="#global_isnumber_o" id="global_isnumber_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Number</code>.</p>
<h3>[m] isObject<span><a class="mark" href="#global_m_isobject" id="global_m_isobject">#</a></span></h3>
<h4>isObject(o)<span><a class="mark" href="#global_isobject_o" id="global_isobject_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Object</code>.</p>
<h3>[m] isQName<span><a class="mark" href="#global_m_isqname" id="global_m_isqname">#</a></span></h3>
<h4>isQName(o)<span><a class="mark" href="#global_isqname_o" id="global_isqname_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>QName</code>.</p>
<h3>[m] isRegExp<span><a class="mark" href="#global_m_isregexp" id="global_m_isregexp">#</a></span></h3>
<h4>isRegExp(o)<span><a class="mark" href="#global_isregexp_o" id="global_isregexp_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>RegExp</code>.</p>
<h3>[m] isSet<span><a class="mark" href="#global_m_isset" id="global_m_isset">#</a></span></h3>
<h4>isSet(o)<span><a class="mark" href="#global_isset_o" id="global_isset_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Set</code>.</p>
<h3>[m] isString<span><a class="mark" href="#global_m_isstring" id="global_m_isstring">#</a></span></h3>
<h4>isString(o)<span><a class="mark" href="#global_isstring_o" id="global_isstring_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>String</code>.</p>
<h3>[m] isUint16Array<span><a class="mark" href="#global_m_isuint16array" id="global_m_isuint16array">#</a></span></h3>
<h4>isUint16Array(o)<span><a class="mark" href="#global_isuint16array_o" id="global_isuint16array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Uint16Array</code>.</p>
<h3>[m] isUint32Array<span><a class="mark" href="#global_m_isuint32array" id="global_m_isuint32array">#</a></span></h3>
<h4>isUint32Array(o)<span><a class="mark" href="#global_isuint32array_o" id="global_isuint32array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Uint32Array</code>.</p>
<h3>[m] isUint8Array<span><a class="mark" href="#global_m_isuint8array" id="global_m_isuint8array">#</a></span></h3>
<h4>isUint8Array(o)<span><a class="mark" href="#global_isuint8array_o" id="global_isuint8array_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Uint8Array</code>.</p>
<h3>[m] isUint8ClampedArray<span><a class="mark" href="#global_m_isuint8clampedarray" id="global_m_isuint8clampedarray">#</a></span></h3>
<h4>isUint8ClampedArray(o)<span><a class="mark" href="#global_isuint8clampedarray_o" id="global_isuint8clampedarray_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Uint8ClampedArray</code>.</p>
<h3>[m] isUndefined<span><a class="mark" href="#global_m_isundefined" id="global_m_isundefined">#</a></span></h3>
<h4>isUndefined(o)<span><a class="mark" href="#global_isundefined_o" id="global_isundefined_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Undefined</code>.</p>
<h3>[m] isWeakMap<span><a class="mark" href="#global_m_isweakmap" id="global_m_isweakmap">#</a></span></h3>
<h4>isWeakMap(o)<span><a class="mark" href="#global_isweakmap_o" id="global_isweakmap_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>WeakMap</code>.</p>
<h3>[m] isWeakSet<span><a class="mark" href="#global_m_isweakset" id="global_m_isweakset">#</a></span></h3>
<h4>isWeakSet(o)<span><a class="mark" href="#global_isweakset_o" id="global_isweakset_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>WeakSet</code>.</p>
<h3>[m] isWindow<span><a class="mark" href="#global_m_iswindow" id="global_m_iswindow">#</a></span></h3>
<h4>isWindow(o)<span><a class="mark" href="#global_iswindow_o" id="global_iswindow_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>Window</code>.</p>
<h3>[m] isXML<span><a class="mark" href="#global_m_isxml" id="global_m_isxml">#</a></span></h3>
<h4>isXML(o)<span><a class="mark" href="#global_isxml_o" id="global_isxml_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>XML</code>.</p>
<h3>[m] isXMLList<span><a class="mark" href="#global_m_isxmllist" id="global_m_isxmllist">#</a></span></h3>
<h4>isXMLList(o)<span><a class="mark" href="#global_isxmllist_o" id="global_isxmllist_o">#</a></span></h4>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> } - 任意对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
</div><p>判断对象的 &quot;种类&quot; 是否为 <code>XMLList</code>.</p>
<h2>[p] WIDTH<span><a class="mark" href="#global_p_width" id="global_p_width">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Getter</code></strong></p>
<ul>
<li><strong>&lt;get&gt;</strong> <a href="dataTypes.html#datatypes_number">number</a></li>
</ul>
<p><a href="device.html#device_p_width">device.width</a> 的别名属性.</p>
<h2>[p] HEIGHT<span><a class="mark" href="#global_p_height" id="global_p_height">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong> <strong><code>Getter</code></strong></p>
<ul>
<li><strong>&lt;get&gt;</strong> <a href="dataTypes.html#datatypes_number">number</a></li>
</ul>
<p><a href="device.html#device_p_height">device.height</a> 的别名属性.</p>
<h2>[p+] R<span><a class="mark" href="#global_p_r" id="global_p_r">#</a></span></h2>
<p>在代码中使用 R 类的子类中的静态整数可访问 <a href="glossaries.html#glossaries_应用资源">应用资源</a>, 详情参阅 <a href="glossaries.html#glossaries_资源_ID">资源 ID</a> 术语.</p>
<h3>[p+] anim<span><a class="mark" href="#global_p_anim" id="global_p_anim">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>动画资源.</p>
<p>定义了预先确定的动画.<br>补间动画保存在 <code>res/anim/</code> 中, 可通过 <code>R.anim</code> 属性访问.<br>帧动画保存在 <code>res/drawable/</code> 中, 可通过 <code>R.drawable</code> 属性访问.</p>
<pre><code class="lang-js">&#39;ui&#39;;

ui.layout(&lt;vertical id=&quot;main&quot;&gt;
    &lt;vertical width=&quot;100&quot; height=&quot;100&quot; bg=&quot;#00695C&quot;&gt;&lt;/vertical&gt;
&lt;/vertical&gt;);

const AnimationUtils = android.view.animation.AnimationUtils;

const mContentContainer = ui.main;
const mSlideDownAnimation = AnimationUtils.loadAnimation(context, R.anim.slide_down);
mSlideDownAnimation.setDuration(2000);
mContentContainer.startAnimation(mSlideDownAnimation);
</code></pre>
<h3>[p+] array<span><a class="mark" href="#global_p_array" id="global_p_array">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>提供数组的 XML 资源.</p>
<pre><code class="lang-js">dialogs.build({
    title: R.string.text_pinch_to_zoom,
    items: R.array.values_editor_pinch_to_zoom_strategy,
    itemsSelectMode: &#39;single&#39;,
    itemsSelectedIndex: defSelectedIndex,
    positive: &#39;OK&#39;,
}).on(&#39;single_choice&#39;, function (idx, item) {
    toastLog(`${idx}: ${item}`);
}).show();
</code></pre>
<h3>[p+] bool<span><a class="mark" href="#global_p_bool" id="global_p_bool">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>包含布尔值的 XML 资源.</p>
<pre><code class="lang-js">console.log(context.getResources().getBoolean(R.bool.pref_auto_check_for_updates));
</code></pre>
<h3>[p+] color<span><a class="mark" href="#global_p_color" id="global_p_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>包含颜色值 (十六进制颜色) 的 XML 资源.</p>
<pre><code class="lang-js">console.log(colors.toString(context.getColor(R.color.console_view_warn), 6)); // #1976D2
</code></pre>
<h3>[p+] dimen<span><a class="mark" href="#global_p_dimen" id="global_p_dimen">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>包含尺寸值 (及度量单位) 的 XML 资源.</p>
<pre><code class="lang-js">console.log(context.getResources().getDimensionPixelSize(R.dimen.textSize_item_property)); // e.g. 28
</code></pre>
<h3>[p+] drawable<span><a class="mark" href="#global_p_drawable" id="global_p_drawable">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>可绘制资源.</p>
<p>使用位图或 XML 定义各种图形.<br>保存在 <code>res/drawable/</code> 中, 可通过 <code>R.drawable</code> 属性访问.</p>
<pre><code class="lang-js">/* 绘制一个淡绿色的铃铛图标. */

&#39;ui&#39;;

ui.layout(&lt;vertical bg=&quot;#FFFFFF&quot;&gt;
    &lt;img id=&quot;img&quot; tint=&quot;#9CCC65&quot;/&gt;
&lt;/vertical&gt;);

ui.img.setImageResource(R.drawable.ic_ali_notification);
</code></pre>
<h3>[p+] id<span><a class="mark" href="#global_p_id" id="global_p_id">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>为应用资源和组件提供唯一标识符的 XML 资源.</p>
<pre><code class="lang-js">&#39;ui&#39;;

ui.layout(&lt;vertical bg=&quot;#FFFFFF&quot;&gt;
    &lt;text id=&quot;txt&quot; size=&quot;30&quot;/&gt;
&lt;/vertical&gt;);

let childCount = ui.txt.getRootView().findViewById(R.id.action_bar_root).getChildCount(); // e.g 2
ui.txt.setText(`Child count is ${childCount}`);
</code></pre>
<h3>[p+] integer<span><a class="mark" href="#global_p_integer" id="global_p_integer">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>包含整数值的 XML 资源.</p>
<pre><code class="lang-js">console.log(context.getResources().getInteger(R.integer.layout_node_info_view_decoration_line)); // 2
</code></pre>
<h3>[p+] layout<span><a class="mark" href="#global_p_layout" id="global_p_layout">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>布局资源.</p>
<p>定义应用界面的布局.<br>保存在 <code>res/layout/</code> 中, 可通过 <code>R.layout</code> 属性访问.</p>
<pre><code class="lang-js">&#39;ui&#39;;

activity.setContentView(R.layout.activity_log);
</code></pre>
<h3>[p+] menu<span><a class="mark" href="#global_p_menu" id="global_p_menu">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>菜单资源.</p>
<p>定义应用菜单的内容.<br>保存在 <code>res/menu/</code> 中, 可通过 <code>R.menu</code> 属性访问.</p>
<pre><code class="lang-js">&#39;ui&#39;;

ui.layout(&lt;vertical bg=&quot;#FFFFFF&quot;&gt;
    &lt;text id=&quot;txt&quot; size=&quot;30&quot;/&gt;
&lt;/vertical&gt;);

const PopupMenu = android.widget.PopupMenu;

let childCount = ui.txt.getRootView().findViewById(R.id.action_bar_root).getChildCount(); // e.g 2
ui.txt.setText(`Child count is ${childCount}`);

let popupMenu = new PopupMenu(context, ui.txt);
popupMenu.inflate(R.menu.menu_script_options);
popupMenu.show();
</code></pre>
<h3>[p+] plurals<span><a class="mark" href="#global_p_plurals" id="global_p_plurals">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>静态资源.</p>
<p>定义资源复数形式.</p>
<pre><code class="lang-js">console.log(context.getResources().getQuantityString(
    R.plurals.text_already_stop_n_scripts,
    new java.lang.Integer(1),
    new java.lang.Integer(1))); // e.g. 1 script stopped
console.log(context.getResources().getQuantityString(
    R.plurals.text_already_stop_n_scripts,
    new java.lang.Integer(3),
    new java.lang.Integer(3))); // e.g. 3 scripts stopped
</code></pre>
<h3>[p+] string<span><a class="mark" href="#global_p_string" id="global_p_string">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>字符串资源.</p>
<p>定义字符串.<br>保存在 <code>res/values/</code> 中, 可通过 <code>R.string</code> 属性访问.</p>
<pre><code class="lang-js">console.log(context.getString(R.string.app_name)); // AutoJs6
</code></pre>
<h3>[p+] strings<span><a class="mark" href="#global_p_strings" id="global_p_strings">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>字符串资源.</p>
<p>同 <a href="#all_p_string">R.string</a>.<br>因 <code>TypeScript Declarations (TS 声明文件)</code> 中, <code>string</code> 为保留关键字, 不能作为类名使用, 为了使 <code>IDE</code> 实现智能补全, 特提供 <code>R.strings</code> 别名类.</p>
<pre><code class="lang-js">console.log(context.getString(R.strings.app_name)); // AutoJs6
console.log(context.getString(R.string.app_name)); /* 同上, 但 IDE 无法智能补全. */
</code></pre>
<h3>[p+] style<span><a class="mark" href="#global_p_style" id="global_p_style">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Global</code></strong></p>
<p>样式资源.</p>
<p>定义界面元素的外观和格式.<br>保存在 <code>res/values/</code> 中, 可通过 <code>R.style</code> 属性访问.</p>
<pre><code class="lang-js">&#39;ui&#39;;

const MaterialDialog = com.afollestad.materialdialogs.MaterialDialog;
const ContextThemeWrapper = android.view.ContextThemeWrapper;

new MaterialDialog.Builder(new ContextThemeWrapper(activity, R.style.Material3DarkTheme))
    .title(&#39;Hello&#39;)
    .content(&#39;This is a test for showing a dialog with material 3 dark theme.&#39;)
    .positiveText(&#39;OK&#39;)
    .onPositive(() =&gt; ui.finish())
    .cancelable(false)
    .build()
    .show();
</code></pre>
<!-- [end-include:global.md] -->
<!-- [start-include:automator.md] -->
<h1>自动化 (Automator)<span><a class="mark" href="#automator_automator" id="automator_automator">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<h2>简易自动化 (SimpleActionAutomator)<span><a class="mark" href="#automator_simpleactionautomator" id="automator_simpleactionautomator">#</a></span></h2>
<p>待补充...</p>
<h2>高权限自动化 (RootAutomator)<span><a class="mark" href="#automator_rootautomator" id="automator_rootautomator">#</a></span></h2>
<p>待补充...</p>
<h2>自动化配置 (AutomatorConfiguration)<span><a class="mark" href="#automator_automatorconfiguration" id="automator_automatorconfiguration">#</a></span></h2>
<p>待补充...</p>
<h2>选择器 (UiSelector)<span><a class="mark" href="#automator_uiselector" id="automator_uiselector">#</a></span></h2>
<p>UiSelector (选择器), 亦可看作是 <a href="uiObjectType.html">控件节点</a> 的条件筛选器, 用于通过附加不同的条件, 筛选出一个或一组活动窗口中的 <code>控件节点</code>, 并做进一步处理, 如 [ 执行 <a href="uiObjectActionsType.html">控件行为</a> (点击, 长按, 设置文本等) / 判断位置 / 获取文本内容 / 获取控件特定状态 / 在 <a href="glossaries.html#glossaries_控件层级">控件层级</a> 中进行 <a href="uiObjectType.html#uiobjecttype_m_compass">罗盘</a> 导航 ] 等.</p>
<p>详情参阅 <a href="uiSelectorType.html">选择器 (UiSelector)</a> 章节.</p>
<h2>控件节点 (UiObject)<span><a class="mark" href="#automator_uiobject" id="automator_uiobject">#</a></span></h2>
<p>UiObject 通常被称为 [ 控件 / 节点 / 控件节点 ], 可看做是一个通过安卓无障碍服务包装的 <a href="https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo">AccessibilityNodeInfo</a> 对象, 代表一个当前活动窗口中的节点, 通过此节点可收集控件信息或执行控件行为, 进而实现一系列自动化操作.</p>
<p>详情参阅 <a href="uiObjectType.html">控件节点 (UiObject)</a> 章节.</p>
<h2>控件集合 (UiObjectCollection)<span><a class="mark" href="#automator_uiobjectcollection" id="automator_uiobjectcollection">#</a></span></h2>
<p>UiObjectCollection 代表 <a href="uiObjectType.html">控件节点 (UiObject)</a> 的对象集合.</p>
<p>详情参阅 <a href="uiObjectCollectionType.html">控件集合 (UiObjectCollection)</a> 章节.</p>
<h2>控件节点行为 (UiObjectActions)<span><a class="mark" href="#automator_uiobjectactions" id="automator_uiobjectactions">#</a></span></h2>
<p>UiObjectActions 是一个 Java 接口, 代表 <a href="uiObjectType.html">控件节点 (UiObject)</a> 的行为集合.</p>
<p>详情参阅 <a href="uiObjectActionsType.html">控件节点行为 (UiObjectActions)</a> 章节.</p>
<hr>
<h1>基于坐标的触摸模拟<span><a class="mark" href="#automator" id="automator">#</a></span></h1>
<p>本章节介绍了一些使用坐标进行点击、滑动的函数. 这些函数有的需要安卓7.0以上, 有的需要root权限.</p>
<p>要获取要点击的位置的坐标, 可以在开发者选项中开启&quot;指针位置&quot;.</p>
<p>基于坐标的脚本通常会有分辨率的问题, 这时可以通过<code>setScreenMetrics()</code>函数来进行自动坐标放缩. 这个函数会影响本章节的所有点击、长按、滑动等函数. 通过设定脚本设计时的分辨率, 使得脚本在其他分辨率下自动放缩坐标.</p>
<p>控件和坐标也可以相互结合. 一些控件是无法点击的(clickable为false), 无法通过<code>.click()</code>函数来点击, 这时如果安卓版本在7.0以上或者有root权限, 就可以通过以下方式来点击：</p>
<pre><code>//获取这个控件
var widget = id(&quot;xxx&quot;).findOne();
//获取其中心位置并点击
click(widget.bounds().centerX(), widget.bounds().centerY());
//如果用root权限则用Tap
</code></pre><h2>setScreenMetrics(width, height)<span><a class="mark" href="#automator_setscreenmetrics_width_height" id="automator_setscreenmetrics_width_height">#</a></span></h2>
<div class="signature"><ul>
<li>width { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 屏幕宽度, 单位像素</li>
<li>height { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 屏幕高度, 单位像素</li>
</ul>
</div><p>设置脚本坐标点击所适合的屏幕宽高. 如果脚本运行时, 屏幕宽度不一致会自动放缩坐标.</p>
<p>例如在1920*1080的设备中, 某个操作的代码为</p>
<pre><code>setScreenMetrics(1080, 1920);
click(800, 200);
longClick(300, 500);
</code></pre><p>那么在其他设备上AutoJs会自动放缩坐标以便脚本仍然有效. 例如在540 * 960的屏幕中<code>click(800, 200)</code>实际上会点击位置(400, 100).</p>
<h1>安卓7.0以上的触摸和手势模拟<span><a class="mark" href="#automator_7_0" id="automator_7_0">#</a></span></h1>
<p><strong>注意以下命令只有Android7.0及以上才有效</strong></p>
<h2>click(x, y)<span><a class="mark" href="#automator_click_x_y" id="automator_click_x_y">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的坐标的x值</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的坐标的y值</li>
</ul>
</div><p>模拟点击坐标(x, y), 并返回是否点击成功. 只有在点击执行完成后脚本才继续执行.</p>
<p>一般而言, 只有点击过程(大约150毫秒)中被其他事件中断(例如用户自行点击)才会点击失败.</p>
<p>使用该函数模拟连续点击时可能有点击速度过慢的问题, 这时可以用<code>press()</code>函数代替.</p>
<h2>longClick(x, y)<span><a class="mark" href="#automator_longclick_x_y" id="automator_longclick_x_y">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要长按的坐标的x值</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要长按的坐标的y值</li>
</ul>
</div><p>模拟长按坐标(x, y), 并返回是否成功. 只有在长按执行完成（大约600毫秒）时脚本才会继续执行.</p>
<p>一般而言, 只有长按过程中被其他事件中断(例如用户自行点击)才会长按失败.</p>
<h2>press(x, y, duration)<span><a class="mark" href="#automator_press_x_y_duration" id="automator_press_x_y_duration">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要按住的坐标的x值</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要按住的坐标的y值</li>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 按住时长, 单位毫秒</li>
</ul>
</div><p>模拟按住坐标(x, y), 并返回是否成功. 只有按住操作执行完成时脚本才会继续执行.</p>
<p>如果按住时间过短, 那么会被系统认为是点击；如果时长超过500毫秒, 则认为是长按.</p>
<p>一般而言, 只有按住过程中被其他事件中断才会操作失败.</p>
<p>一个连点器的例子如下：</p>
<pre><code>//循环100次
for(var i = 0; i &lt; 100; i++){
  //点击位置(500, 1000), 每次用时1毫秒
  press(500, 1000, 1);
}
</code></pre><h2>swipe(x1, y1, x2, y2, duration)<span><a class="mark" href="#automator_swipe_x1_y1_x2_y2_duration" id="automator_swipe_x1_y1_x2_y2_duration">#</a></span></h2>
<div class="signature"><ul>
<li><code>x1</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动的起始坐标的x值</li>
<li><code>y1</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动的起始坐标的y值</li>
<li><code>x2</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动的结束坐标的x值</li>
<li><code>y2</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动的结束坐标的y值</li>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动时长, 单位毫秒</li>
</ul>
</div><p>模拟从坐标(x1, y1)滑动到坐标(x2, y2), 并返回是否成功. 只有滑动操作执行完成时脚本才会继续执行.</p>
<p>一般而言, 只有滑动过程中被其他事件中断才会滑动失败.</p>
<h2>gesture(duration, [x1, y1], [x2, y2], ...)<span><a class="mark" href="#automator_gesture_duration_x1_y1_x2_y2" id="automator_gesture_duration_x1_y1_x2_y2">#</a></span></h2>
<div class="signature"><ul>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 手势的时长</li>
<li>[x, y] ... 手势滑动路径的一系列坐标</li>
</ul>
</div><p>模拟手势操作. 例如<code>gesture(1000, [0, 0], [500, 500], [500, 1000])</code>为模拟一个从(0, 0)到(500, 500)到(500, 100)的手势操作, 时长为2秒.</p>
<h2>gestures([delay1, duration1, [x1, y1], [x2, y2], ...], [delay2, duration2, [x3, y3], [x4, y4], ...], ...)<span><a class="mark" href="#automator_gestures_delay1_duration1_x1_y1_x2_y2_delay2_duration2_x3_y3_x4_y4" id="automator_gestures_delay1_duration1_x1_y1_x2_y2_delay2_duration2_x3_y3_x4_y4">#</a></span></h2>
<p>同时模拟多个手势. 每个手势的参数为[delay, duration, 坐标], delay为延迟多久(毫秒)才执行该手势；duration为手势执行时长；坐标为手势经过的点的坐标. 其中delay参数可以省略, 默认为0.</p>
<p>例如手指捏合：</p>
<pre><code>gestures([0, 500, [800, 300], [500, 1000]],
         [0, 500, [300, 1500], [500, 1000]]);
</code></pre><h1>RootAutomator<span><a class="mark" href="#automator_rootautomator_1" id="automator_rootautomator_1">#</a></span></h1>
<p>RootAutomator是一个使用root权限来模拟触摸的对象, 用它可以完成触摸与多点触摸, 并且这些动作的执行没有延迟.</p>
<p>一个脚本中最好只存在一个RootAutomator, 并且保证脚本结束退出他. 可以在exit事件中退出RootAutomator, 例如：</p>
<pre><code>var ra = new RootAutomator();
events.on(&#39;exit&#39;, function(){
  ra.exit();
});
//执行一些点击操作
...

</code></pre><p><strong>注意以下命令需要root权限</strong></p>
<h2>RootAutomator.tap(x, y[, id])<span><a class="mark" href="#automator_rootautomator_tap_x_y_id" id="automator_rootautomator_tap_x_y_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1, 可以通过setDefaultId指定.</li>
</ul>
</div><p>点击位置(x, y). 其中id是一个整数值, 用于区分多点触摸, 不同的id表示不同的&quot;手指&quot;, 例如：</p>
<pre><code>var ra = new RootAutomator();
//让&quot;手指1&quot;点击位置(100, 100)
ra.tap(100, 100, 1);
//让&quot;手指2&quot;点击位置(200, 200);
ra.tap(200, 200, 2);
ra.exit();
</code></pre><p>如果不需要多点触摸, 则不需要id这个参数.
多点触摸通常用于手势或游戏操作, 例如模拟双指捏合、双指上滑等.</p>
<p>某些情况下可能存在tap点击无反应的情况, 这时可以用<code>RootAutomator.press()</code>函数代替.</p>
<h2>RootAutomator.swipe(x1, x2, y1, y2[, duration, id])<span><a class="mark" href="#automator_rootautomator_swipe_x1_x2_y1_y2_duration_id" id="automator_rootautomator_swipe_x1_x2_y1_y2_duration_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x1</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动起点横坐标</li>
<li><code>y1</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动起点纵坐标</li>
<li><code>x2</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动终点横坐标</li>
<li><code>y2</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动终点纵坐标</li>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动时长, 单位毫秒, 默认值为300</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟一次从(x1, y1)到(x2, y2)的时间为duration毫秒的滑动.</p>
<h2>RootAutomator.press(x, y, duration[, id])<span><a class="mark" href="#automator_rootautomator_press_x_y_duration_id" id="automator_rootautomator_press_x_y_duration_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 按下时长</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟按下位置(x, y), 时长为duration毫秒.</p>
<h2>RootAutomator.longPress(x, y[\, id])<span><a class="mark" href="#automator_rootautomator_longpress_x_y_id" id="automator_rootautomator_longpress_x_y_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
<li><code>duration</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 按下时长</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟长按位置(x, y).</p>
<p>以上为简单模拟触摸操作的函数. 如果要模拟一些复杂的手势, 需要更底层的函数.</p>
<h2>RootAutomator.touchDown(x, y[, id])<span><a class="mark" href="#automator_rootautomator_touchdown_x_y_id" id="automator_rootautomator_touchdown_x_y_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟手指按下位置(x, y).</p>
<h2>RootAutomator.touchMove(x, y[, id])<span><a class="mark" href="#automator_rootautomator_touchmove_x_y_id" id="automator_rootautomator_touchmove_x_y_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟移动手指到位置(x, y).</p>
<h2>RootAutomator.touchUp([id])<span><a class="mark" href="#automator_rootautomator_touchup_id" id="automator_rootautomator_touchup_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 多点触摸id, 可选, 默认为1</li>
</ul>
</div><p>模拟手指弹起.</p>
<h1>使用root权限点击和滑动的简单命令<span><a class="mark" href="#automator_root" id="automator_root">#</a></span></h1>
<p>注意：本章节的函数在后续版本很可能有改动！请勿过分依赖本章节函数的副作用. 推荐使用<code>RootAutomator</code>代替本章节的触摸函数.</p>
<p>以下函数均需要root权限, 可以实现任意位置的点击、滑动等.</p>
<ul>
<li>这些函数通常首字母大写以表示其特殊的权限.</li>
<li>这些函数均不返回任何值.</li>
<li>并且, 这些函数的执行是异步的、非阻塞的, 在不同机型上所用的时间不同. 脚本不会等待动作执行完成才继续执行. 因此最好在每个函数之后加上适当的sleep来达到期望的效果.</li>
</ul>
<p>例如:</p>
<pre><code>Tap(100, 100);
sleep(500);
</code></pre><p>注意, 动作的执行可能无法被停止, 例如：</p>
<pre><code>for(var i = 0; i &lt; 100; i++){
  Tap(100, 100);
}
</code></pre><p>这段代码执行后可能会出现在任务管理中停止脚本后点击仍然继续的情况.
因此, 强烈建议在每个动作后加上延时：</p>
<pre><code>for(var i = 0; i &lt; 100; i++){
  Tap(100, 100);
  sleep(500);
}
</code></pre><h2>Tap(x, y)<span><a class="mark" href="#automator_tap_x_y" id="automator_tap_x_y">#</a></span></h2>
<div class="signature"><ul>
<li>x, y { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的坐标.</li>
</ul>
</div><p>点击位置(x, y), 您可以通过&quot;开发者选项&quot;开启指针位置来确定点击坐标.</p>
<h2>Swipe(x1, y1, x2, y2, [duration])<span><a class="mark" href="#automator_swipe_x1_y1_x2_y2_duration_1" id="automator_swipe_x1_y1_x2_y2_duration_1">#</a></span></h2>
<div class="signature"><ul>
<li>x1, y1 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动起点的坐标</li>
<li>x2, y2 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动终点的坐标</li>
<li>duration { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 滑动动作所用的时间</li>
</ul>
</div><p>滑动. 从(x1, y1)位置滑动到(x2, y2)位置.</p>
<h1>基于控件的操作<span><a class="mark" href="#automator_1" id="automator_1">#</a></span></h1>
<p>基于控件的操作指的是选择屏幕上的控件, 获取其信息或对其进行操作. 对于一般软件而言, 基于控件的操作对不同机型有很好的兼容性；但是对于游戏而言, 由于游戏界面并不是由控件构成, 无法采用本章节的方法, 也无法使用本章节的函数. 有关游戏脚本的编写, 请参考《基于坐标的操作》.</p>
<p>基于控件的操作依赖于无障碍服务, 因此最好在脚本开头使用<code>auto()</code>函数来确保无障碍服务已经启用. 如果运行到某个需要权限的语句无障碍服务并没启动, 则会抛出异常并跳转到无障碍服务界面. 这样的用户体验并不好, 因为需要重新运行脚本, 后续会加入等待无障碍服务启动并让脚本继续运行的函数.</p>
<p>您也可以在脚本开头使用<code>&quot;auto&quot;;</code>表示这个脚本需要无障碍服务, 但是不推荐这种做法, 因为这个标记必须在脚本的最开头(前面不能有注释或其他语句、空格等), 我们推荐使用<code>auto()</code>函数来确保无障碍服务已启用.</p>
<h2>auto([mode])<span><a class="mark" href="#automator_auto_mode" id="automator_auto_mode">#</a></span></h2>
<div class="signature"><ul>
<li><code>mode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 模式</li>
</ul>
</div><p>检查无障碍服务是否已经启用, 如果没有启用则抛出异常并跳转到无障碍服务启用界面；同时设置无障碍模式为mode. mode的可选值为：</p>
<ul>
<li><code>fast</code> 快速模式. 该模式下会启用控件缓存, 从而选择器获取屏幕控件更快. 对于需要快速的控件操作的脚本可以使用该模式, 一般脚本则没有必要使用该函数.</li>
<li><code>normal</code> 正常模式, 默认.</li>
</ul>
<p>如果不加mode参数, 则为正常模式.</p>
<p>建议使用<code>auto.waitFor()</code>和<code>auto.setMode()</code>代替该函数, 因为<code>auto()</code>函数如果无障碍服务未启动会停止脚本；而<code>auto.waitFor()</code>则会在在无障碍服务启动后继续运行.</p>
<p>示例：</p>
<pre><code>auto(&quot;fast&quot;);
</code></pre><p>示例2：</p>
<pre><code>auto();
</code></pre><h2>auto.waitFor()<span><a class="mark" href="#automator_auto_waitfor" id="automator_auto_waitfor">#</a></span></h2>
<p>检查无障碍服务是否已经启用, 如果没有启用则跳转到无障碍服务启用界面, 并等待无障碍服务启动；当无障碍服务启动后脚本会继续运行.</p>
<p>因为该函数是阻塞的, 因此除非是有协程特性, 否则不能在ui模式下运行该函数, 建议在ui模式下使用<code>auto()</code>函数.</p>
<h2>auto.setMode(mode)<span><a class="mark" href="#automator_auto_setmode_mode" id="automator_auto_setmode_mode">#</a></span></h2>
<div class="signature"><ul>
<li><code>mode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 模式</li>
</ul>
</div><p>设置无障碍模式为mode. mode的可选值为：</p>
<ul>
<li><code>fast</code> 快速模式. 该模式下会启用控件缓存, 从而选择器获取屏幕控件更快. 对于需要快速的控件查看和操作的脚本可以使用该模式, 一般脚本则没有必要使用该函数.</li>
<li><code>normal</code> 正常模式, 默认.</li>
</ul>
<h2>auto.setFlags(flags)<span><a class="mark" href="#automator_auto_setflags_flags" id="automator_auto_setflags_flags">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>flags</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 一些标志, 来启用和禁用某些特性, 包括：<ul>
<li><code>findOnUiThread</code> 使用该特性后, 选择器搜索时会在主进程进行. 该特性用于解决线程安全问题导致的次生问题, 不过目前貌似已知问题并不是线程安全问题.</li>
<li><code>useUsageStats</code> 使用该特性后, 将会以&quot;使用情况统计&quot;服务的结果来检测当前正在运行的应用包名（需要授予&quot;查看使用情况统计&quot;权限). 如果觉得currentPackage()返回的结果不太准确, 可以尝试该特性.</li>
<li><code>useShell</code> 使用该特性后, 将使用shell命令获取当前正在运行的应用的包名、活动名称, 但是需要root权限.</li>
</ul>
</li>
</ul>
<p>启用有关automator的一些特性. 例如：</p>
<pre><code>auto.setFlags([&quot;findOnUiThread&quot;, &quot;useShell&quot;]);
</code></pre><h2>auto.service<span><a class="mark" href="#automator_auto_service" id="automator_auto_service">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><a href="https://developer.android.com/reference/android/accessibilityservice/AccessibilityService/">AccessibilityService</a></li>
</ul>
<p>获取无障碍服务. 如果无障碍服务没有启动, 则返回<code>null</code>.</p>
<p>参见<a href="https://developer.android.com/reference/android/accessibilityservice/AccessibilityService/">AccessibilityService</a>.</p>
<h2>auto.windows<span><a class="mark" href="#automator_auto_windows" id="automator_auto_windows">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> }</li>
</ul>
<p>当前所有窗口(<a href="https://developer.android.com/reference/android/view/accessibility/AccessibilityWindowInfo/">AccessibilityWindowInfo</a>)的数组, 可能包括状态栏、输入法、当前应用窗口, 弹出窗口、悬浮窗、分屏应用窗口等. 可以分别获取每个窗口的布局信息.</p>
<p>该函数需要Android 5.0以上才能运行.</p>
<h2>auto.root<span><a class="mark" href="#automator_auto_root" id="automator_auto_root">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li>{ <span class="type">UiObject</span> }</li>
</ul>
<p>当前窗口的布局根元素. 如果无障碍服务未启动或者WindowFilter均返回false, 则会返回<code>null</code>.</p>
<p>如果不设置windowFilter, 则当前窗口即为活跃的窗口（获取到焦点、正在触摸的窗口）；如果设置了windowFilter, 则获取的是过滤的窗口中的第一个窗口.</p>
<p>如果系统是Android5.0以下, 则始终返回当前活跃的窗口的布局根元素.</p>
<h2>auto.rootInActiveWindow<span><a class="mark" href="#automator_auto_rootinactivewindow" id="automator_auto_rootinactivewindow">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li>{ <span class="type">UiObject</span> }</li>
</ul>
<p>当前活跃的窗口（获取到焦点、正在触摸的窗口）的布局根元素. 如果无障碍服务未启动则为<code>null</code>.</p>
<h2>auto.setWindowFilter(filter)<span><a class="mark" href="#automator_auto_setwindowfilter_filter" id="automator_auto_setwindowfilter_filter">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>filter</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 参数为窗口(<a href="https://developer.android.com/reference/android/view/accessibility/AccessibilityWindowInfo/">AccessibilityWindowInfo</a>), 返回值为Boolean的函数.</li>
</ul>
<p>设置窗口过滤器. 这个过滤器可以决定哪些窗口是目标窗口, 并影响选择器的搜索. 例如, 如果想要选择器在所有窗口（包括状态栏、输入法等）中搜索, 只需要使用以下代码：</p>
<pre><code>auto.setWindowFilter(function(window){
    //不管是如何窗口, 都返回true, 表示在该窗口中搜索
    return true;
});
</code></pre><p>又例如, 当前使用了分屏功能, 屏幕上有Auto.js和QQ两个应用, 但我们只想选择器对QQ界面进行搜索, 则：</p>
<pre><code>auto.setWindowFilter(function(window){
    // 对于应用窗口, 他的title属性就是应用的名称, 因此可以通过title属性来判断一个应用
    return window.title == &quot;QQ&quot;;
});
</code></pre><p>选择器默认是在当前活跃的窗口中搜索, 不会搜索诸如悬浮窗、状态栏之类的, 使用WindowFilter则可以控制搜索的窗口.</p>
<p>需要注意的是, 如果WindowFilter返回的结果均为false, 则选择器的搜索结果将为空.</p>
<p>另外setWindowFilter函数也会影响<code>auto.windowRoots</code>的结果.</p>
<p>该函数需要Android 5.0以上才有效.</p>
<h2>auto.windowRoots<span><a class="mark" href="#automator_auto_windowroots" id="automator_auto_windowroots">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> }</li>
</ul>
<p>返回当前被WindowFilter过滤的窗口的布局根元素组成的数组.</p>
<p>如果系统是Android5.0以下, 则始终返回当前活跃的窗口的布局根元素的数组.</p>
<h1>SimpleActionAutomator<span><a class="mark" href="#automator_simpleactionautomator_1" id="automator_simpleactionautomator_1">#</a></span></h1>
<p>SimpleActionAutomator提供了一些模拟简单操作的函数, 例如点击文字、模拟按键等. 这些函数可以直接作为全局函数使用.</p>
<h2>click(text[, i])<span><a class="mark" href="#automator_click_text_i" id="automator_click_text_i">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要点击的文本</li>
<li><code>i</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 如果相同的文本在屏幕中出现多次, 则i表示要点击第几个文本, i从0开始计算</li>
</ul>
</div><p>返回是否点击成功. 当屏幕中并未包含该文本, 或者该文本所在区域不能点击时返回false, 否则返回true.</p>
<p>该函数可以点击大部分包含文字的按钮. 例如微信主界面下方的&quot;微信&quot;, &quot;联系人&quot;, &quot;发现&quot;, &quot;我&quot;的按钮.<br>通常与while同时使用以便点击按钮直至成功. 例如:</p>
<pre><code>while(!click(&quot;扫一扫&quot;));
</code></pre><p>当不指定参数i时则会尝试点击屏幕上出现的所有文字text并返回是否全部点击成功.</p>
<p>i是从0开始计算的, 也就是, <code>click(&quot;啦啦啦&quot;, 0)</code>表示点击屏幕上第一个&quot;啦啦啦&quot;, <code>click(&quot;啦啦啦&quot;, 1)</code>表示点击屏幕上第二个&quot;啦啦啦&quot;.</p>
<blockquote>
<p>文本所在区域指的是, 从文本处向其父视图寻找, 直至发现一个可点击的部件为止.</p>
</blockquote>
<h2>click(left, top, bottom, right)<span><a class="mark" href="#automator_click_left_top_bottom_right" id="automator_click_left_top_bottom_right">#</a></span></h2>
<div class="signature"><ul>
<li><code>left</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的长方形区域左边与屏幕左边的像素距离</li>
<li><code>top</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的长方形区域上边与屏幕上边的像素距离</li>
<li><code>bottom</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的长方形区域下边与屏幕下边的像素距离</li>
<li><code>right</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要点击的长方形区域右边与屏幕右边的像素距离</li>
</ul>
</div><p><strong>注意, 该函数一般只用于录制的脚本中使用, 在自己写的代码中使用该函数一般不要使用该函数. </strong></p>
<p>点击在指定区域的控件. 当屏幕中并未包含与该区域严格匹配的区域, 或者该区域不能点击时返回false, 否则返回true.</p>
<p>有些按钮或者部件是图标而不是文字（例如发送朋友圈的照相机图标以及QQ下方的消息、联系人、动态图标）, 这时不能通过<code>click(text, i)</code>来点击, 可以通过描述图标所在的区域来点击. left, bottom, top, right描述的就是点击的区域.</p>
<p>至于要定位点击的区域, 可以在悬浮窗使用布局分析工具查看控件的bounds属性.</p>
<p>通过无障碍服务录制脚本会生成该语句.</p>
<h2>longClick(text[, i]))<span><a class="mark" href="#automator_longclick_text_i" id="automator_longclick_text_i">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要长按的文本</li>
<li><code>i</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 如果相同的文本在屏幕中出现多次, 则i表示要长按第几个文本, i从0开始计算</li>
</ul>
</div><p>返回是否点击成功. 当屏幕中并未包含该文本, 或者该文本所在区域不能点击时返回false, 否则返回true.</p>
<p>当不指定参数i时则会尝试点击屏幕上出现的所有文字text并返回是否全部长按成功.</p>
<h2>scrollUp([i])<span><a class="mark" href="#automator_scrollup_i" id="automator_scrollup_i">#</a></span></h2>
<div class="signature"><ul>
<li><code>i</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要滑动的控件序号</li>
</ul>
</div><p>找到第i+1个可滑动控件上滑或<strong>左滑</strong>. 返回是否操作成功. 屏幕上没有可滑动的控件时返回false.</p>
<p>另外不加参数时<code>scrollUp()</code>会寻找面积最大的可滑动的控件上滑或左滑, 例如微信消息列表等.</p>
<p>参数为一个整数i时会找到第i + 1个可滑动控件滑动. 例如<code>scrollUp(0)</code>为滑动第一个可滑动控件.</p>
<h2>scrollDown([i])<span><a class="mark" href="#automator_scrolldown_i" id="automator_scrolldown_i">#</a></span></h2>
<div class="signature"><ul>
<li><code>i</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要滑动的控件序号</li>
</ul>
</div><p>找到第i+1个可滑动控件下滑或<strong>右滑</strong>. 返回是否操作成功. 屏幕上没有可滑动的控件时返回false.</p>
<p>另外不加参数时<code>scrollUp()</code>会寻找面积最大的可滑动的控件下滑或右滑.</p>
<p>参数为一个整数i时会找到第i + 1个可滑动控件滑动. 例如<code>scrollUp(0)</code>为滑动第一个可滑动控件.</p>
<h2>setText([i, ]text)<span><a class="mark" href="#automator_settext_i_text" id="automator_settext_i_text">#</a></span></h2>
<div class="signature"><ul>
<li>i { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 表示要输入的为第i + 1个输入框</li>
<li>text { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要输入的文本</li>
</ul>
</div><p>返回是否输入成功. 当找不到对应的文本框时返回false.</p>
<p>不加参数i则会把所有输入框的文本都置为text. 例如<code>setText(&quot;测试&quot;)</code>.</p>
<p>这里的输入文本的意思是, 把输入框的文本置为text, 而不是在原来的文本上追加.</p>
<h2>input([i, ]text)<span><a class="mark" href="#automator_input_i_text" id="automator_input_i_text">#</a></span></h2>
<div class="signature"><ul>
<li>i { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 表示要输入的为第i + 1个输入框</li>
<li>text { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要输入的文本</li>
</ul>
</div><p>返回是否输入成功. 当找不到对应的文本框时返回false.</p>
<p>不加参数i则会把所有输入框的文本追加内容text. 例如<code>input(&quot;测试&quot;)</code>.
<!-- [end-include:automator.md] --></p>
<!-- [start-include:autojs.md] -->
<h1>AutoJs6 本体应用<span><a class="mark" href="#autojs_autojs6" id="autojs_autojs6">#</a></span></h1>
<p>autojs 全局对象主要包含与 AutoJs6 应用本身相关的属性及方法, 如获取 AutoJs6 的 [ Root 状态 / 语言标签 / 权限状态 ] 等.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">autojs</p>

<hr>
<h2>[m] getLanguage<span><a class="mark" href="#autojs_m_getlanguage" id="autojs_m_getlanguage">#</a></span></h2>
<h3>getLanguage()<span><a class="mark" href="#autojs_getlanguage" id="autojs_getlanguage">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html">java.util.Locale</a></span> }</li>
</ul>
<p>获取 AutoJs6 <code>语言</code> 设置选项.</p>
<p>此方法返回一个 java.util.Locale 对象, 如需返回其标签名, 如 <code>en-US</code>, <code>zh-CN</code> 等, 可使用 <code>autojs.getLanguage().toLanguageTag()</code> 或直接使用 <a href="#all_m_getlanguagetag">autojs.getLanguageTag()</a> 方法.</p>
<pre><code class="lang-js">console.log(autojs.getLanguage().getDisplayName()); /* e.g. 日本語 */
</code></pre>
<h2>[m] getLanguageTag<span><a class="mark" href="#autojs_m_getlanguagetag" id="autojs_m_getlanguagetag">#</a></span></h2>
<h3>getLanguageTag()<span><a class="mark" href="#autojs_getlanguagetag" id="autojs_getlanguagetag">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取 AutoJs6 语言设置选项.</p>
<p>此方法返回 <a href="https://en.wikipedia.org/wiki/IETF_language_tag">IETF 语言标签</a>, 相当于 <code>autojs.getLanguage().toLanguageTag()</code>:</p>
<pre><code class="lang-js">console.log(autojs.getLanguageTag()); /* e.g. en-US */
</code></pre>
<p>此方法可用于设定 i18n 对象的区域:</p>
<pre><code class="lang-js">i18n.setLocale(autojs.getLanguageTag());
</code></pre>
<h2>[m] isRootAvailable<span><a class="mark" href="#autojs_m_isrootavailable" id="autojs_m_isrootavailable">#</a></span></h2>
<h3>isRootAvailable()<span><a class="mark" href="#autojs_isrootavailable" id="autojs_isrootavailable">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>获取 AutoJs6 的 Root 权限有效性.</p>
<pre><code class="lang-js">console.log(autojs.isRootAvailable()); // e.g. true
</code></pre>
<p>注意上述示例的检测结果取决于 AutoJs6 的 <code>强制 Root 权限检查</code> 设置.<br>此设置可通过 AutoJs6 应用设置修改, 或 <a href="#all_m_setrootmode">setRootMode</a> 方法携带 <code>isWriteIntoPreference</code> 参数实现修改.</p>
<h2>[m] getRootMode<span><a class="mark" href="#autojs_m_getrootmode" id="autojs_m_getrootmode">#</a></span></h2>
<h3>getRootMode()<span><a class="mark" href="#autojs_getrootmode" id="autojs_getrootmode">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_rootmode">RootMode</a></span> }</li>
</ul>
<p>获取 AutoJs6 的 Root 权限状态.</p>
<pre><code class="lang-js"> /* 是否为 &#39;自动检测 Root 权限&#39; 状态. */
console.log(autojs.getRootMode() === RootMode.AUTO_DETECT);
/* 是否为 &#39;强制 Root 模式&#39; 状态. */
console.log(autojs.getRootMode() === RootMode.FORCE_ROOT);
/* 是否为 &#39;强制非 Root 模式&#39; 状态. */
console.log(autojs.getRootMode() === RootMode.FORCE_NON_ROOT);
</code></pre>
<h2>[m] setRootMode<span><a class="mark" href="#autojs_m_setrootmode" id="autojs_m_setrootmode">#</a></span></h2>
<h3>setRootMode(rootMode, isWriteIntoPreference?)<span><a class="mark" href="#autojs_setrootmode_rootmode_iswriteintopreference" id="autojs_setrootmode_rootmode_iswriteintopreference">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>rootMode</strong> { <span class="type"><a href="dataTypes.html#datatypes_rootmode">RootMode</a></span> | <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> | <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> | <span class="type">&#39;auto&#39;</span> | <span class="type">&#39;root&#39;</span> | <span class="type">&#39;non-root&#39;</span> } - Root 模式参数</li>
<li><strong>[ isWriteIntoPreference = <code>false</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 是否写入应用设置</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>设置 AutoJs6 的 Root 模式.</p>
<p>默认情况下, AutoJs6 将根据 <code>su</code> 二进制名称特征来判断是否具有 Root 权限.
但有时设备可能使用了非常规 Root 方式或 Root 权限检测结果出现异常, 此时可设置 <code>强制 Root 模式</code> 或 <code>强制非 Root 模式</code> 来改变 AutoJs6 对 Root 权限的检测结果.</p>
<p>以设置 &#39;强制 Root 模式&#39; 为例:</p>
<pre><code class="lang-js">autojs.setRootMode(RootMode.FORCE_ROOT);
autojs.setRootMode(&#39;root&#39;); /* 同上. */
autojs.setRootMode(1); /* 同上. */
autojs.setRootMode(true); /* 同上. */
</code></pre>
<p>上述示例设置的 Root 模式, 将影响 <a href="#all_m_isrootavailable">isRootAvailable</a> 的结果, 使其固定返回 <code>true</code>.<br>如果设置为 <code>RootMode.FORCE_NON_ROOT</code>, <a href="#all_m_isrootavailable">isRootAvailable</a> 将固定返回 <code>false</code>.<br>如果设置为 <code>RootMode.AUTO_DETECT</code>, <a href="#all_m_isrootavailable">isRootAvailable</a> 将根据 AutoJs6 是否具有 <code>su</code> 二进制名称特征决定其返回结果.  </p>
<p>在没有特殊需求的情况下, 建议始终保持 Root 模式为 &#39;自动&#39; 模式.</p>
<p>需额外留意, Root 模式修改仅对当前 <code>运行时 (Runtime)</code> 有效, 当脚本结束时, 已设置的 Root 模式将自动还原为 &#39;自动&#39; 模式, 即 <code>RootMode.AUTO_DETECT</code>.</p>
<p>如需将保留修改的 Root 模式, 可使用 <code>isWriteIntoPreference</code> 参数, 修改将立即写入应用设置中:</p>
<pre><code class="lang-js">autojs.setRootMode(RootMode.FORCE_ROOT, true);
</code></pre>
<p>上述示例代码的效果, 等效于在 AutoJs6 应用中进行如下设置:</p>
<pre><code class="lang-text">[ AutoJs6 设置 ] - [ 强制 Root 权限检查 ] - [ 强制 Root 模式 ] # [ 选择 ]
</code></pre>
<h2>[m] canModifySystemSettings<span><a class="mark" href="#autojs_m_canmodifysystemsettings" id="autojs_m_canmodifysystemsettings">#</a></span></h2>
<h3>canModifySystemSettings()<span><a class="mark" href="#autojs_canmodifysystemsettings" id="autojs_canmodifysystemsettings">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>获取 AutoJs6 的 <code>修改系统设置</code> 权限状态.</p>
<pre><code class="lang-js">console.log(autojs.canModifySystemSettings()); // e.g. true
</code></pre>
<p>拥有 <code>修改系统设置</code> 后, AutoJs6 可以通过脚本修改部分系统设置, 如修改屏幕超时参数, 修改媒体音量值等.</p>
<h2>[m] canWriteSecureSettings<span><a class="mark" href="#autojs_m_canwritesecuresettings" id="autojs_m_canwritesecuresettings">#</a></span></h2>
<h3>canWriteSecureSettings()<span><a class="mark" href="#autojs_canwritesecuresettings" id="autojs_canwritesecuresettings">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>获取 AutoJs6 的 <code>修改安全设置</code> 权限状态.</p>
<pre><code class="lang-js">console.log(autojs.canWriteSecureSettings()); // e.g. true
</code></pre>
<p>拥有 <code>修改安全设置</code> 后, AutoJs6 可以通过脚本修改部分安全设置, 如修改屏幕常亮类别参数, 修改无障碍服务列表内容等.</p>
<h2>[m] canDisplayOverOtherApps<span><a class="mark" href="#autojs_m_candisplayoverotherapps" id="autojs_m_candisplayoverotherapps">#</a></span></h2>
<h3>canDisplayOverOtherApps()<span><a class="mark" href="#autojs_candisplayoverotherapps" id="autojs_candisplayoverotherapps">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>获取 AutoJs6 的 <code>显示在其他应用上层</code> 权限状态.</p>
<pre><code class="lang-js">console.log(autojs.canDisplayOverOtherApps()); // e.g. true
</code></pre>
<p>拥有 <code>显示在其他应用上层</code> 后, AutoJs6 可以使用悬浮窗工具, 并可通过脚本显示对话框或自定义浮动组件等.</p>
<h2>[p] versionName<span><a class="mark" href="#autojs_p_versionname" id="autojs_p_versionname">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取版本名称.</p>
<pre><code class="lang-js">console.log(autojs.versionName); // e.g. 6.2.0-alpha9
console.log(autojs.version.name); /* 同上. */
</code></pre>
<h2>[p] versionCode<span><a class="mark" href="#autojs_p_versioncode" id="autojs_p_versioncode">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>获取版本号.</p>
<pre><code class="lang-js">console.log(autojs.versionCode); // e.g. 1545
console.log(autojs.version.code); /* 同上. */
</code></pre>
<h2>[p] versionDate<span><a class="mark" href="#autojs_p_versiondate" id="autojs_p_versiondate">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取版本日期.</p>
<pre><code class="lang-js">console.log(autojs.versionDate); // e.g. Dec 18, 2022
console.log(autojs.version.date); /* 同上. */
</code></pre>
<h2>[p] themeColor<span><a class="mark" href="#autojs_p_themecolor" id="autojs_p_themecolor">#</a></span></h2>
<p><strong><code>6.3.0</code></strong> <strong><code>Getter</code></strong></p>
<ul>
<li><strong>&lt;get&gt;</strong> <a href="dataTypes.html#datatypes_themecolor">ThemeColor</a></li>
</ul>
<p>获取 AutoJs6 的主题颜色实例.</p>
<pre><code class="lang-js">autojs.themeColor.getColorPrimary(); /* 获取 AutoJs6 主题色的主色色值. */
</code></pre>
<h2>[p+] version<span><a class="mark" href="#autojs_p_version" id="autojs_p_version">#</a></span></h2>
<h3>[p] name<span><a class="mark" href="#autojs_p_name" id="autojs_p_name">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取版本名称.</p>
<pre><code class="lang-js">console.log(autojs.version.name); // e.g. 6.2.0-alpha9
console.log(autojs.versionName); /* 同上. */
</code></pre>
<h3>[p] code<span><a class="mark" href="#autojs_p_code" id="autojs_p_code">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>获取版本号.</p>
<pre><code class="lang-js">console.log(autojs.version.code); // e.g. 1545
console.log(autojs.versionCode); /* 同上. */
</code></pre>
<h3>[p] date<span><a class="mark" href="#autojs_p_date" id="autojs_p_date">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li>{ <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取版本日期.</p>
<pre><code class="lang-js">console.log(autojs.version.date); // e.g. Dec 18, 2022
console.log(autojs.versionDate); /* 同上. */
</code></pre>
<h3>[m] isEqual<span><a class="mark" href="#autojs_m_isequal" id="autojs_m_isequal">#</a></span></h3>
<h4>isEqual(otherVersion)<span><a class="mark" href="#autojs_isequal_otherversion" id="autojs_isequal_otherversion">#</a></span></h4>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>otherVersion</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="versionType.html#versiontype_c_version">Version</a></span> } - 待比较版本参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回 AutoJs6 版本是否与参数对应的版本号等同.</p>
<pre><code class="lang-js">console.log(autojs.version.isEqual(&#39;6.2.0&#39;)); // e.g. true
</code></pre>
<h3>[m] isHigherThan<span><a class="mark" href="#autojs_m_ishigherthan" id="autojs_m_ishigherthan">#</a></span></h3>
<h4>isHigherThan(otherVersion)<span><a class="mark" href="#autojs_ishigherthan_otherversion" id="autojs_ishigherthan_otherversion">#</a></span></h4>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>otherVersion</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="versionType.html#versiontype_c_version">Version</a></span> } - 待比较版本参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回 AutoJs6 版本是否高于待比较版本.</p>
<pre><code class="lang-js">console.log(autojs.version.isHigherThan(&#39;6.1.3&#39;)); // e.g. true
</code></pre>
<h3>[m] isLowerThan<span><a class="mark" href="#autojs_m_islowerthan" id="autojs_m_islowerthan">#</a></span></h3>
<h4>isLowerThan(otherVersion)<span><a class="mark" href="#autojs_islowerthan_otherversion" id="autojs_islowerthan_otherversion">#</a></span></h4>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>otherVersion</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="versionType.html#versiontype_c_version">Version</a></span> } - 待比较版本参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回 AutoJs6 版本是否低于待比较版本.</p>
<pre><code class="lang-js">console.log(autojs.version.isLowerThan(&#39;6.2.0&#39;)); // e.g. true
</code></pre>
<h3>[m] isAtLeast<span><a class="mark" href="#autojs_m_isatleast" id="autojs_m_isatleast">#</a></span></h3>
<h4>isAtLeast(otherVersion)<span><a class="mark" href="#autojs_isatleast_otherversion" id="autojs_isatleast_otherversion">#</a></span></h4>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>otherVersion</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="versionType.html#versiontype_c_version">Version</a></span> } - 待比较版本参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回 AutoJs6 版本是否不低于 (即大于等于) 参数对应的版本号.</p>
<pre><code class="lang-js">console.log(autojs.version.isAtLeast(&#39;6.1.3&#39;)); // e.g. true
</code></pre>
<h4>isAtLeast(otherVersion, ignoreSuffix)<span><a class="mark" href="#autojs_isatleast_otherversion_ignoresuffix" id="autojs_isatleast_otherversion_ignoresuffix">#</a></span></h4>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>otherVersion</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="versionType.html#versiontype_c_version">Version</a></span> } - 待比较版本参数</li>
<li><strong>[ ignoreSuffix = <code>false</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 是否忽略版本后缀</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回 AutoJs6 版本是否不低于 (即大于等于) 参数对应的版本号且根据 <code>ignoreSuffix</code> 参数决定是否忽略版本后缀.</p>
<pre><code class="lang-js">console.log(autojs.version.name); // e.g. 6.2.0-alpha9
console.log(autojs.version.isAtLeast(&#39;6.2.0&#39;)); // e.g. false
console.log(autojs.version.isAtLeast(&#39;6.2.0&#39;, true)); // e.g. true
</code></pre>
<h2>[p+] R<span><a class="mark" href="#autojs_p_r" id="autojs_p_r">#</a></span></h2>
<p>使用 R 类的子类中的静态整数可访问相应的应用资源, 如 <code>R.string</code> 访问字符串资源, <code>R.drawable</code> 访问可绘制资源等.</p>
<p><a href="global.html#global_p_r">global.R</a> 的别名属性, 参阅 <a href="global.html#global_p_r">全局对象 (Global)</a> 章节.
<!-- [end-include:autojs.md] --></p>
<!-- [start-include:app.md] -->
<h1>通用应用 (App)<span><a class="mark" href="#app_app" id="app_app">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>app模块提供一系列函数, 用于使用其他应用、与其他应用交互. 例如发送意图、打开文件、发送邮件等.</p>
<p>同时提供了方便的进阶函数startActivity和sendBroadcast, 用他们可完成app模块没有内置的和其他应用的交互.</p>
<h2>app.versionCode<span><a class="mark" href="#app_app_versioncode" id="app_app_versioncode">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>当前软件版本号, 整数值. 例如160, 256等.</p>
<p>如果在Auto.js中运行则为Auto.js的版本号；在打包的软件中则为打包软件的版本号.</p>
<pre><code>toastLog(app.versionCode);
</code></pre><h2>app.versionName<span><a class="mark" href="#app_app_versionname" id="app_app_versionname">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>当前软件的版本名称, 例如&quot;3.0.0 Beta&quot;.</p>
<p>如果在Auto.js中运行则为Auto.js的版本名称；在打包的软件中则为打包软件的版本名称.</p>
<pre><code>toastLog(app.verionName);
</code></pre><h2>app.autojs.versionCode<span><a class="mark" href="#app_app_autojs_versioncode" id="app_app_autojs_versioncode">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>Auto.js版本号, 整数值. 例如160, 256等.</p>
<h2>app.autojs.versionName<span><a class="mark" href="#app_app_autojs_versionname" id="app_app_autojs_versionname">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>Auto.js版本名称, 例如&quot;3.0.0 Beta&quot;.</p>
<h2>app.launchApp(appName)<span><a class="mark" href="#app_app_launchapp_appname" id="app_app_launchapp_appname">#</a></span></h2>
<div class="signature"><ul>
<li><code>appName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用名称</li>
</ul>
</div><p>通过应用名称启动应用. 如果该名称对应的应用不存在, 则返回false; 否则返回true. 如果该名称对应多个应用, 则只启动其中某一个.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>launchApp(&quot;Auto.js&quot;);
</code></pre><h2>app.launch(packageName)<span><a class="mark" href="#app_app_launch_packagename" id="app_app_launch_packagename">#</a></span></h2>
<div class="signature"><ul>
<li><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用包名</li>
</ul>
</div><p>通过应用包名启动应用. 如果该包名对应的应用不存在, 则返回false；否则返回true.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>//启动微信
launch(&quot;com.tencent.mm&quot;);
</code></pre><h2>app.launchPackage(packageName)<span><a class="mark" href="#app_app_launchpackage_packagename" id="app_app_launchpackage_packagename">#</a></span></h2>
<div class="signature"><ul>
<li><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用包名</li>
</ul>
</div><p>相当于<code>app.launch(packageName)</code>.</p>
<h2>app.getPackageName(appName)<span><a class="mark" href="#app_app_getpackagename_appname" id="app_app_getpackagename_appname">#</a></span></h2>
<div class="signature"><ul>
<li><code>appName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用名称</li>
</ul>
</div><p>获取应用名称对应的已安装的应用的包名. 如果该找不到该应用, 返回null；如果该名称对应多个应用, 则只返回其中某一个的包名.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>var name = getPackageName(&quot;QQ&quot;); //返回&quot;com.tencent.mobileqq&quot;
</code></pre><h2>app.getAppName(packageName)<span><a class="mark" href="#app_app_getappname_packagename" id="app_app_getappname_packagename">#</a></span></h2>
<div class="signature"><ul>
<li><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用包名</li>
</ul>
</div><p>获取应用包名对应的已安装的应用的名称. 如果该找不到该应用, 返回null.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>var name = getAppName(&quot;com.tencent.mobileqq&quot;); //返回&quot;QQ&quot;
</code></pre><h2>app.openAppSetting(packageName)<span><a class="mark" href="#app_app_openappsetting_packagename" id="app_app_openappsetting_packagename">#</a></span></h2>
<div class="signature"><ul>
<li><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用包名</li>
</ul>
</div><p>打开应用的详情页(设置页). 如果找不到该应用, 返回false; 否则返回true.</p>
<p>该函数也可以作为全局函数使用.</p>
<h2>app.viewFile(path)<span><a class="mark" href="#app_app_viewfile_path" id="app_app_viewfile_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文件路径</li>
</ul>
</div><p>用其他应用查看文件. 文件不存在的情况由查看文件的应用处理.</p>
<p>如果找不出可以查看该文件的应用, 则抛出<code>ActivityNotException</code>.</p>
<pre><code>//查看文本文件
app.viewFile(&quot;/sdcard/1.txt&quot;);
</code></pre><h2>app.editFile(path)<span><a class="mark" href="#app_app_editfile_path" id="app_app_editfile_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文件路径</li>
</ul>
</div><p>用其他应用编辑文件. 文件不存在的情况由编辑文件的应用处理.</p>
<p>如果找不出可以编辑该文件的应用, 则抛出<code>ActivityNotException</code>.</p>
<pre><code>//编辑文本文件
app.editFile(&quot;/sdcard/1.txt/);
</code></pre><h2>app.uninstall(packageName)<span><a class="mark" href="#app_app_uninstall_packagename" id="app_app_uninstall_packagename">#</a></span></h2>
<div class="signature"><ul>
<li><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 应用包名</li>
</ul>
</div><p>卸载应用. 执行后会会弹出卸载应用的提示框. 如果该包名的应用未安装, 由应用卸载程序处理, 可能弹出&quot;未找到应用&quot;的提示.</p>
<pre><code>//卸载QQ
app.uninstall(&quot;com.tencent.mobileqq&quot;);
</code></pre><h2>app.openUrl(url)<span><a class="mark" href="#app_app_openurl_url" id="app_app_openurl_url">#</a></span></h2>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 网站的Url, 如果不以&quot;http://&quot;或&quot;https://&quot;开头则默认是&quot;http://&quot;.</li>
</ul>
</div><p>用浏览器打开网站url.</p>
<p>如果没有安装浏览器应用, 则抛出<code>ActivityNotException</code>.</p>
<h2>app.sendEmail(options)<span><a class="mark" href="#app_app_sendemail_options" id="app_app_sendemail_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 发送邮件的参数. 包括:</li>
<li><code>email</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 收件人的邮件地址. 如果有多个收件人, 则用字符串数组表示</li>
<li><code>cc</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 抄送收件人的邮件地址. 如果有多个抄送收件人, 则用字符串数组表示</li>
<li><code>bcc</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 密送收件人的邮件地址. 如果有多个密送收件人, 则用字符串数组表示</li>
<li><code>subject</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 邮件主题(标题)</li>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 邮件正文</li>
<li><code>attachment</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 附件的路径.</li>
</ul>
</div><p>根据选项options调用邮箱应用发送邮件. 这些选项均是可选的.</p>
<p>如果没有安装邮箱应用, 则抛出<code>ActivityNotException</code>.</p>
<pre><code>//发送邮件给10086@qq.com和10001@qq.com.
app.sendEmail({
    email: [&quot;10086@qq.com&quot;, &quot;10001@qq.com&quot;],
    subject: &quot;这是一个邮件标题&quot;,
    text: &quot;这是邮件正文&quot;
});
</code></pre><h2>app.startActivity(name)<span><a class="mark" href="#app_app_startactivity_name" id="app_app_startactivity_name">#</a></span></h2>
<div class="signature"><ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 活动名称, 可选的值为:<ul>
<li><code>console</code> 日志界面</li>
<li><code>settings</code> 设置界面</li>
</ul>
</li>
</ul>
</div><p>启动Auto.js的特定界面. 该函数在Auto.js内运行则会打开Auto.js内的界面, 在打包应用中运行则会打开打包应用的相应界面.</p>
<pre><code>app.startActivity(&quot;console&quot;);
</code></pre><h2>app.intent(options)<span><a class="mark" href="#app_app_intent_options" id="app_app_intent_options">#</a></span></h2>
<div class="signature"><ul>
<li><p><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项, 包括：</p>
<ul>
<li><p><code>action</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 意图的Action, 指意图要完成的动作, 是一个字符串常量, 比如&quot;android.intent.action.SEND&quot;. 当action以&quot;android.intent.action&quot;开头时, 可以省略前缀, 直接用&quot;SEND&quot;代替. 参见<a href="https://developer.android.com/reference/android/content/Intent.html#https://developer.android.com/reference/android/content/intent_standard_activity_actions/">Actions</a>.</p>
</li>
<li><p><code>type</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 意图的MimeType, 表示和该意图直接相关的数据的类型, 表示比如&quot;text/plain&quot;为纯文本类型.</p>
</li>
<li><p><code>data</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 意图的Data, 表示和该意图直接相关的数据, 是一个Uri, 可以是文件路径或者Url等. 例如要打开一个文件, action为&quot;android.intent.action.VIEW&quot;, data为&quot;file:///sdcard/1.txt&quot;.</p>
</li>
<li><p><code>category</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 意图的类别. 比较少用. 参见<a href="https://developer.android.com/reference/android/content/Intent.html#https://developer.android.com/reference/android/content/intent_standard_categories/">Categories</a>.</p>
</li>
<li><p><code>packageName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 目标包名</p>
</li>
<li><p><code>className</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 目标Activity或Service等组件的名称</p>
</li>
<li><p><code>extras</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 以键值对构成的这个Intent的Extras(额外信息). 提供该意图的其他信息, 例如发送邮件时的邮件标题、邮件正文. 参见<a href="https://developer.android.com/reference/android/content/Intent.html#https://developer.android.com/reference/android/content/intent_standard_extra_data/">Extras</a>.</p>
</li>
<li><p><code>flags</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } intent的标识, 字符串数组, 例如<code>[&quot;activity_new_task&quot;, &quot;grant_read_uri_permission&quot;]</code>. 参见<a href="https://developer.android.com/reference/android/content/Intent.html#https://developer.android.com/reference/android/content/intent_setFlags%28int%29/">Flags</a>.</p>
<p><strong>[v4.1.0新增]</strong></p>
</li>
<li><p><code>root</code> { <span class="type">Boolea</span> } 是否以root权限启动、发送该intent. 使用该参数后, 不能使用<code>context.startActivity()</code>等方法, 而应该直接使用诸如<code>app.startActivity({...})</code>的方法.</p>
<p><strong>[v4.1.0新增]</strong></p>
</li>
</ul>
</li>
</ul>
</div><p>根据选项, 构造一个意图Intent对象.</p>
<p>例如：</p>
<pre><code>//打开应用来查看图片文件
var i = app.intent({
    action: &quot;VIEW&quot;,
    type: &quot;image/png&quot;,
    data: &quot;file:///sdcard/1.png&quot;
});
context.startActivity(i);
</code></pre><p>需要注意的是, 除非应用专门暴露Activity出来, 否则在没有root权限的情况下使用intent是无法跳转到特定Activity、应用的特定界面的. 例如我们能通过Intent跳转到QQ的分享界面, 是因为QQ对外暴露了分享的Activity；而在没有root权限的情况下, 我们无法通过intent跳转到QQ的设置界面, 因为QQ并没有暴露这个Activity.</p>
<p>但如果有root权限, 则在intent的参数加上<code>&quot;root&quot;: true</code>即可. 例如使用root权限跳转到Auto.js的设置界面为：</p>
<pre><code>app.startActivity({
    packageName: &quot;org.autojs.autojs&quot;,
    className: &quot;org.autojs.autojs.ui.settings.SettingsActivity_&quot;,
    root: true
});
</code></pre><p>另外, 关于intent的参数如何获取的问题, 一些intent是意外发现并且在网络中传播的（例如跳转QQ聊天窗口是因为QQ给网页提供了跳转到客服QQ的方法）, 如果要自己获取活动的intent的参数, 可以通过例如&quot;intent记录&quot;, &quot;隐式启动&quot;等应用拦截内部intent或者查询暴露的intent. 其中拦截内部intent需要XPosed框架, 或者可以通过反编译等手段获取参数. 总之, 没有简单直接的方法.</p>
<p>更多信息, 请百度<a href="https://www.baidu.com/s?wd=android%20Intent">安卓Intent</a>或参考<a href="https://developer.android.com/guide/components/intents_filters.html#https://developer.android.com/guide/components/intents_filters_Types">Android指南: Intent</a>.</p>
<h2>app.startActivity(options)<span><a class="mark" href="#app_app_startactivity_options" id="app_app_startactivity_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项</li>
</ul>
</div><p>根据选项构造一个Intent, 并启动该Activity.</p>
<pre><code>app.startActivity({
    action: &quot;SEND&quot;,
    type: &quot;text/plain&quot;,
    data: &quot;file:///sdcard/1.txt&quot;
});
</code></pre><h2>app.sendBroadcast(options)<span><a class="mark" href="#app_app_sendbroadcast_options" id="app_app_sendbroadcast_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项</li>
</ul>
</div><p>根据选项构造一个Intent, 并发送该广播.</p>
<h2>app.startService(options)<span><a class="mark" href="#app_app_startservice_options" id="app_app_startservice_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项</li>
</ul>
</div><p>根据选项构造一个Intent, 并启动该服务.</p>
<h2>app.sendBroadcast(name)<span><a class="mark" href="#app_app_sendbroadcast_name" id="app_app_sendbroadcast_name">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 特定的广播名称, 包括：<ul>
<li><code>inspect_layout_hierarchy</code> 布局层次分析</li>
<li><code>inspect_layout_bounds</code> 布局范围</li>
</ul>
</li>
</ul>
<p>发送以上特定名称的广播可以触发Auto.js的布局分析, 方便脚本调试. 这些广播在Auto.js发送才有效, 在打包的脚本上运行将没有任何效果.</p>
<pre><code>app.sendBroadcast(&quot;inspect_layout_bounds&quot;);
</code></pre><h2>app.intentToShell(options)<span><a class="mark" href="#app_app_intenttoshell_options" id="app_app_intenttoshell_options">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项</li>
</ul>
<p>根据选项构造一个Intent, 转换为对应的shell的intent命令的参数.</p>
<p>例如:</p>
<pre><code>shell(&quot;am start &quot; + app.intentToShell({
    packageName: &quot;org.autojs.autojs&quot;,
    className: &quot;org.autojs.autojs.ui.settings.SettingsActivity_&quot;
}), true);
</code></pre><p>参见<a href="https://developer.android.com/studio/command-line/adb#IntentSpec/">intent参数的规范</a>.</p>
<h2>app.parseUri(uri)<span><a class="mark" href="#app_app_parseuri_uri" id="app_app_parseuri_uri">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>uri</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 一个代表Uri的字符串, 例如&quot;file:///sdcard/1.txt&quot;, &quot;<a href="https://www.autojs.org&quot;">https://www.autojs.org&quot;</a></li>
<li>返回 { <span class="type">Uri</span> } 一个代表Uri的对象, 参见<a href="https://developer.android.com/reference/android/net/Uri/">android.net.Uri</a>.</li>
</ul>
<p>解析uri字符串并返回相应的Uri对象. 即使Uri格式错误, 该函数也会返回一个Uri对象, 但之后如果访问该对象的scheme, path等值可能因解析失败而返回<code>null</code>.</p>
<p>需要注意的是, 在高版本Android上, 由于系统限制直接在Uri暴露文件的绝对路径, 因此如果uri字符串是文件<code>file://...</code>, 返回的Uri会是诸如<code>content://...</code>的形式.</p>
<h2>app.getUriForFile(path)<span><a class="mark" href="#app_app_geturiforfile_path" id="app_app_geturiforfile_path">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文件路径, 例如&quot;/sdcard/1.txt&quot;</li>
<li>返回 { <span class="type">Uri</span> } 一个指向该文件的Uri的对象, 参见<a href="https://developer.android.com/reference/android/net/Uri/">android.net.Uri</a>.</li>
</ul>
<p>从一个文件路径创建一个uri对象. 需要注意的是, 在高版本Android上, 由于系统限制直接在Uri暴露文件的绝对路径, 因此返回的Uri会是诸如<code>content://...</code>的形式.</p>
<h2>app.getInstalledApps([options])<span><a class="mark" href="#app_app_getinstalledapps_options" id="app_app_getinstalledapps_options">#</a></span></h2>
<p><strong> [<a href="https://pro.autojs.org//">Pro 8.0.0新增</a>] </strong></p>
<ul>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项, 包括：<ul>
<li><code>get</code>: 指定返回的应用信息中包含的信息<ul>
<li><code>&quot;activities&quot;</code> 应用的Activity组件信息</li>
<li><code>&quot;configurations&quot;</code> 应用的硬件配置</li>
<li><code>&quot;gids&quot;</code> 应用的group id</li>
<li><code>&quot;instrumentation&quot;</code> 应用的Instrumentation信息</li>
<li><code>&quot;intent_filters&quot;</code> 应用的意图过滤</li>
<li><code>&quot;meta_data&quot;</code> 应用的元信息（默认）</li>
<li><code>&quot;permissions&quot;</code> 应用的权限信息</li>
<li><code>&quot;providers&quot;</code> 应用的ContentProvider组件信息</li>
<li><code>&quot;receivers&quot;</code> 应用的BroadcastReceiver组件信息</li>
<li><code>&quot;services&quot;</code> 应用的Service组件信息</li>
<li><code>&quot;shared_library_files&quot;</code> 应用的动态链接库文件信息</li>
<li><code>&quot;signatures&quot;</code> 应用的签名信息（已弃用</li>
<li><code>&quot;signing_certificates&quot;</code> 应用的签名信息</li>
<li><code>&quot;uri_permission_patterns&quot;</code></li>
<li><code>&quot;disabled_components&quot;</code> 被卸载的但保留了数据的应用</li>
<li><code>&quot;disabled_until_used_components&quot;</code> 禁用直到被使用的组件</li>
<li><code>&quot;uninstalled_packages&quot;</code> 被卸载的但保留了数据的应用</li>
</ul>
</li>
<li><code>match</code>: 指定要匹配的应用列表<ul>
<li><code>&quot;uninstalled_packages&quot;</code> 被卸载的但保留了数据的应用</li>
<li><code>&quot;disabled_components&quot;</code> 被禁用的组件</li>
<li><code>&quot;disabled_until_used_components&quot;</code> 禁用直到被使用的组件</li>
<li><code>&quot;system_only&quot;</code> 只匹配系统应用</li>
<li><code>&quot;factory_only&quot;</code> 只匹配预装应用</li>
<li><code>&quot;apex&quot;</code> APEX应用</li>
</ul>
</li>
</ul>
</li>
<li>返回 { <span class="type">Array\&lt;ApplicationInfo></span> }</li>
</ul>
<p>返回为当前用户安装的所有应用程序包的列表. 如果设置了match选项 <code>uninstalled_packages</code>, 则包括被删除但保留了数据的应用程序.
获取安装的应用列表.</p>
<p>返回值是ApplicationInfo对象的数组.  如果没有安装任何应用, 则返回一个空数组.</p>
<p>选项options的match选项用于指定要返回哪些应用程序, get选项用于指定返回的应用程序携带哪些信息.</p>
<pre><code>let apps = $app.getInstalledApps({
    matcg
})
</code></pre><!-- [end-include:app.md] -->
<!-- [start-include:color.md] -->
<h1>颜色 (Color)<span><a class="mark" href="#color_color" id="color_color">#</a></span></h1>
<p>colors 模块可用于 [ 颜色模式转换 / 色彩空间转换 / 颜色分量合成及分解 ] 等.<br>同时包含一些颜色相关的工具, 如 [ 计算亮度值 / 相似度比较 ] 等.</p>
<p>colors 模块与 <a href="image.html">images</a> 模块配合使用, 可完成更多图色方面的功能.</p>
<hr>
<h2>颜色表示<span><a class="mark" href="#color" id="color">#</a></span></h2>
<p>AutoJs6 支持以下方式表示一个颜色:</p>
<ul>
<li><a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a><ul>
<li>字面量<ul>
<li><code>#RGB</code> (如 <code>#F00</code> 表示红色, 相当于 <code>#FF0000</code>)</li>
<li><code>#RRGGBB</code> (如 <code>#FF0000</code> 表示红色)</li>
<li><code>#AARRGGBB</code> (如 <code>#80FF0000</code> 表示半透明红色)</li>
</ul>
</li>
<li>方法<ul>
<li><a href="#all_m_tohex">colors.toHex</a> (如 <code>colors.toHex(0xFF0000)</code> 表示红色对应的颜色字符串, 结果为 <code>#FF0000</code>)</li>
<li><a href="#all_m_tofullhex">colors.toFullHex</a> (如 <code>colors.toFullHex(0xFF0000)</code> 表示红色对应的完全颜色字符串, 结果为 <code>#FFFF0000</code>)</li>
<li>... ...</li>
</ul>
</li>
</ul>
</li>
<li><a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a><ul>
<li>字面量<ul>
<li><code>0xAARRGGBB</code> (如 <code>0x8000FF00</code> 在 <code>Java</code> 的 <code>Integer</code> 范围对应值表示半透明绿色)</li>
</ul>
</li>
<li>方法<ul>
<li><a href="#all_m_rgb">colors.rgb</a> (如 <code>colors.rgb(255, 0, 0)</code> 表示红色)</li>
<li><a href="#all_m_argb">colors.argb</a> (如 <code>colors.argb(128, 255, 0, 0)</code> 表示半透明红色)</li>
<li><a href="#all_m_rgba">colors.rgba</a> (如 <code>colors.rgba(255, 0, 0, 128)</code> 表示半透明红色)</li>
<li><a href="#all_m_hsv">colors.hsv</a> (如 <code>colors.hsv(0, 1, 1)</code> 表示红色)</li>
<li><a href="#all_m_hsva">colors.hsva</a> (如 <code>colors.rgba(0, 1, 1, 0.5)</code> 表示半透明红色)</li>
<li><a href="#all_m_hsl">colors.hsl</a> (如 <code>colors.hsl(0, 1, 0.5)</code> 表示红色)</li>
<li><a href="#all_m_hsla">colors.hsla</a> (如 <code>colors.hsl(0, 1, 0.5, 0.5)</code> 表示半透明红色)</li>
<li><a href="#all_m_toint">colors.toInt</a> (如 <code>colors.toInt(&#39;#FF0000&#39;)</code> 表示红色对应的颜色整数, 结果为 <code>-65536</code>)</li>
<li>... ...</li>
</ul>
</li>
<li>常量<ul>
<li><a href="#all_p_android">colors.android.RED</a> (<a href="colorTable.html#colortable_Android_颜色列表">Android 颜色列表</a> 的红色颜色整数)</li>
<li><a href="#all_p_android">colors.android.BLACK</a> (<a href="colorTable.html#colortable_Android_颜色列表">Android 颜色列表</a> 的黑色颜色整数)</li>
<li>... ...</li>
<li><a href="#all_p_css">colors.css.RED</a> (<a href="colorTable.html#colortable_CSS_颜色列表">Css 颜色列表</a> 的红色颜色整数)</li>
<li><a href="#all_p_css">colors.css.BLACK</a> (<a href="colorTable.html#colortable_CSS_颜色列表">Css 颜色列表</a> 的黑色颜色整数)</li>
<li>... ...</li>
<li><a href="#all_p_web">colors.web.RED</a> (<a href="colorTable.html#colortable_WEB_颜色列表">Web 颜色列表</a> 的红色颜色整数)</li>
<li><a href="#all_p_web">colors.web.BLACK</a> (<a href="colorTable.html#colortable_WEB_颜色列表">Web 颜色列表</a> 的黑色颜色整数)</li>
<li>... ...</li>
<li><a href="#all_p_material">colors.material.ORANGE</a> (<a href="colorTable.html#colortable_Material_颜色列表">Material 颜色列表</a> 的橙色颜色整数)</li>
<li><a href="#all_p_material">colors.material.ORANGE_300</a> (<a href="colorTable.html#colortable_Material_颜色列表">Material 颜色列表</a> 的 300 色号橙色颜色整数)</li>
<li>... ...</li>
<li><a href="#all_p_red">colors.RED</a> (<a href="colorTable.html#colortable_融合颜色列表">融合颜色列表</a> 的红色颜色整数)</li>
<li><a href="#all_p_black">colors.BLACK</a> (<a href="colorTable.html#colortable_融合颜色列表">融合颜色列表</a> 的黑色颜色整数)</li>
<li><a href="#all_p_orange">colors.ORANGE</a> (<a href="colorTable.html#colortable_融合颜色列表">融合颜色列表</a> 的橙色颜色整数)</li>
<li>... ...</li>
</ul>
</li>
</ul>
</li>
<li><a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组 (ColorComponents)</a><ul>
<li>方法<ul>
<li><a href="#all_m_torgb">colors.toRgb</a> (颜色分量数组 <code>[R,G,B]</code>)</li>
<li><a href="#all_m_torgba">colors.toRgba</a> (颜色分量数组 <code>[R,G,B,A]</code>)</li>
<li><a href="#all_m_toargb">colors.toArgb</a> (颜色分量数组 <code>[A,R,G,B]</code>)</li>
<li><a href="#all_m_tohsv">colors.toHsv</a> (颜色分量数组 <code>[H,S,V]</code>)</li>
<li><a href="#all_m_tohsva">colors.toHsva</a> (颜色分量数组 <code>[H,S,V,A]</code>)</li>
<li><a href="#all_m_tohsl">colors.toHsl</a> (颜色分量数组 <code>[H,S,L]</code>)</li>
<li><a href="#all_m_tohsla">colors.toHsla</a> (颜色分量数组 <code>[H,S,L,A]</code>)</li>
<li>... ...</li>
</ul>
</li>
</ul>
</li>
<li><a href="dataTypes.html#datatypes_colorname">颜色名称 (ColorName)</a><ul>
<li>常量<ul>
<li>&quot;red&quot; (红色)</li>
<li>&quot;black&quot; (黑色)</li>
<li>&quot;orange&quot; (橙色)</li>
<li>... ...</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>黑色与 0<span><a class="mark" href="#color_0" id="color_0">#</a></span></h2>
<p>需特别留意, 黑色的颜色字符串为 <code>#000000</code>, 它是完全颜色字符串 <code>#FF000000</code> 的简写形式, 其 ARGB 分量表示为 <code>argb(255, 0, 0, 0)</code>.</p>
<p>因此黑色的颜色整数不是 <code>0</code>, 而是 <code>-16777216</code>.</p>
<p>颜色整数 <code>0</code> 对应的是完全透明色, 即 <code>#00000000</code>, 其 ARGB 分量表示为 <code>argb(0, 0, 0, 0)</code>.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">colors</p>

<hr>
<h2>[m] toInt<span><a class="mark" href="#color_m_toint" id="color_m_toint">#</a></span></h2>
<h3>toInt(color)<span><a class="mark" href="#color_toint_color" id="color_toint_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> } - 颜色整数</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">/* ColorHex - 颜色代码. */
colors.toInt(&#39;#CC5500&#39;); // -3386112
colors.toInt(&#39;#C50&#39;); // -3386112
colors.toInt(&#39;#FFCC5500&#39;); // -3386112

/* ColorInt - 颜色整数. */
colors.toInt(0xFFCC5500); // -3386112
colors.toInt(colors.web.BURNT_ORANGE); // -3386112

/* ColorName - 颜色名称. */
colors.toInt(&#39;BURNT_ORANGE&#39;); // -3386112
colors.toInt(&#39;burnt-orange&#39;); // -3386112
</code></pre>
<h2>[m] toHex<span><a class="mark" href="#color_m_tohex" id="color_m_tohex">#</a></span></h2>
<h3>toHex(color)<span><a class="mark" href="#color_tohex_color" id="color_tohex_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>.</p>
<pre><code class="lang-js">/* ColorHex - 颜色代码. */
colors.toHex(&#39;#CC5500&#39;); // #CC5500
colors.toHex(&#39;#C50&#39;); // #CC5500
colors.toHex(&#39;#DECC5500&#39;); // #DECC5500
colors.toHex(&#39;#FFCC5500&#39;); /* #CC5500, A (alpha) 分量被省略. */

/* ColorInt - 颜色整数. */
colors.toHex(0xFFCC5500); // #CC5500
colors.toHex(colors.web.BURNT_ORANGE); // #CC5500

/* ColorName - 颜色名称. */
colors.toHex(&#39;BURNT_ORANGE&#39;); // #CC5500
colors.toHex(&#39;burnt-orange&#39;); // #CC5500
</code></pre>
<p>当 <code>A (alpha)</code> 分量为 <code>100% (255/255;100/100)</code> 时, <code>FF</code> 会自动省略,<br>如 <code>#FFC0C0C0</code> 将自动转换为 <code>#C0C0C0</code>, 此方法相当于 <code>toHex(color, &#39;auto&#39;)</code>.</p>
<h3>toHex(color, alpha)<span><a class="mark" href="#color_tohex_color_alpha" id="color_tohex_color_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>[ alpha = <code>&#39;auto&#39;</code> ]</strong> { <a href="dataTypes.html#datatypes_boolean">boolean</a> | <code>&#39;keep&#39;</code> | <code>&#39;none&#39;</code> | <code>&#39;auto&#39;</code> } - A (alpha) 分量参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>, 并根据 <code>alpha</code> 参数决定颜色代码 <code>A (alpha)</code> 分量的显示状态.</p>
<p><code>A (alpha)</code> 分量参数取值表:</p>
<table>
<thead>
<tr>
<th>取值</th>
<th>含义</th>
<th style="text-align:center">默认</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="white-space:nowrap">&#39;keep&#39; / true</span></td>
<td><span style="white-space:nowrap">强制显示 A 分量, 不论 A 分量是否为 0xFF</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><span style="white-space:nowrap">&#39;none&#39; / false</span></td>
<td><span style="white-space:nowrap">强制去除 A 分量, 只保留 R / G / B 分量</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><span style="white-space:nowrap">&#39;auto&#39;</span></td>
<td><span style="white-space:nowrap">根据 A 分量是否为 0xFF 自动决定显示状态</span></td>
<td style="text-align:center">√</td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">let cA = &#39;#AAC0C0C0&#39;;
let cB = &#39;#FFC0C0C0&#39;;
let cC = &#39;#C0C0C0&#39;;

colors.toHex(cA, &#39;auto&#39;); /* #AAC0C0C0, &#39;auto&#39; 参数可省略. */
colors.toHex(cB, &#39;auto&#39;); /* #C0C0C0, &#39;auto&#39; 参数可省略. */
colors.toHex(cC, &#39;auto&#39;); /* #C0C0C0, &#39;auto&#39; 参数可省略. */

/* cA 舍弃 A 分量. */
colors.toHex(cA, false); // #C0C0C0
colors.toHex(cA, &#39;none&#39;); /* 同上. */

/* cB 保留 A 分量. */
colors.toHex(cB, true); // #FFC0C0C0
colors.toHex(cB, &#39;keep&#39;); /* 同上. */

/* cC 强制显示 A 分量. */
colors.toHex(cC, true); // #FFC0C0C0
colors.toHex(cC, &#39;keep&#39;); /* 同上. */
</code></pre>
<h3>toHex(color, length)<span><a class="mark" href="#color_tohex_color_length" id="color_tohex_color_length">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>length</strong> { <code>8</code> | <code>6</code> | <code>3</code> } - Hex 代码长度参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>, 并根据 <code>length</code> 参数决定颜色代码的显示状态.</p>
<p>Hex 代码长度参数取值表:</p>
<table>
<thead>
<tr>
<th style="text-align:center"><span style="white-space:nowrap">取值</span></th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">8</td>
<td><span style="white-space:nowrap">强制显示 A 分量, 结果格式为 #AARRGGBB</span></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td><span style="white-space:nowrap">强制去除 A 分量, 结果格式为 #RRGGBB</span></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td><span style="white-space:nowrap">强制去除 A 分量, 结果格式为 #RGB</span></td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">let cA = &#39;#AA9966CC&#39;;
let cB = &#39;#FF9966CC&#39;;
let cC = &#39;#9966CC&#39;;
let cD = &#39;#FAEBD7&#39;;

/* 转换为 8 长度颜色代码, 强制保留 A 分量. */
colors.toHex(cA, 8); // #AA9966CC
colors.toHex(cB, 8); // #FF9966CC
colors.toHex(cC, 8); // #FF9966CC
colors.toHex(cD, 8); // #FFFAEBD7

/* 转换为 6 长度颜色代码, 强制去除 A 分量. */
colors.toHex(cA, 6); // #9966CC
colors.toHex(cB, 6); // #9966CC
colors.toHex(cC, 6); // #9966CC
colors.toHex(cD, 6); // #FAEBD7

/* 转换为 3 长度颜色代码, 强制去除 A 分量. */
colors.toHex(cA, 3); // #96C
colors.toHex(cB, 3); // #96C
colors.toHex(cC, 3); // #96C
colors.toHex(cD, 3); /* 抛出异常. */
</code></pre>
<h2>[m] toFullHex<span><a class="mark" href="#color_m_tofullhex" id="color_m_tofullhex">#</a></span></h2>
<h3>toFullHex(color)<span><a class="mark" href="#color_tofullhex_color" id="color_tofullhex_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码的完整形式</li>
</ul>
<p>将颜色参数强制转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a> 的完整形式 (#AARRGGBB).</p>
<p>此方法为 <a href="#all_tohexcolor_length">colors.toHex(color, 8)</a> 的别名方法.</p>
<pre><code class="lang-js">colors.toHex(&#39;#CC5500&#39;); // #CC5500
colors.toFullHex(&#39;#CC5500&#39;); // #FFCC5500
</code></pre>
<h2>[m] build<span><a class="mark" href="#color_m_build" id="color_m_build">#</a></span></h2>
<h3>build(color?)<span><a class="mark" href="#color_build_color" id="color_build_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [1-2]/4</code></strong></p>
<ul>
<li><strong>[ color = <code>Colors.BLACK</code> ]</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="colorType.html">Color</a></span> } - Color 实例</li>
</ul>
<p>构建一个 <a href="colorType.html">Color</a> 实例, 相当于 <code>new Color(color?)</code> 或 <code>Color(color?)</code>.</p>
<pre><code class="lang-js">colors.build(&#39;dark-orange&#39;) /* 以深橙色构建 Color 实例 */
    .setAlpha(0.85) /* 设置透明度 85%. */
    .removeBlue() /* 移除 B (blue) 分量. */
    .toHex(); // #D9FF8C00

/* 构建空 Color 实例, 设置 HSLA 分量并转换为 Hex 代码. */
colors.build().setHsla(0.25, 0.8, 0.64, 0.9).toHex(); // #E6A3ED5A
</code></pre>
<h3>build(red, green, blue, alpha?)<span><a class="mark" href="#color_build_red_green_blue_alpha" id="color_build_red_green_blue_alpha">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [3-4]/4</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><strong>[ alpha = <code>1</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>构建一个 <a href="colorType.html">Color</a> 实例, 相当于 <code>new Color(red, green, blue, alpha?)</code>.</p>
<pre><code class="lang-js">colors.build(120, 60, 240).setAlpha(0.85).toHex(); // #D9783CF0
colors.build(120, 60, 240, 0.85).toHex(); /* 同上. */
colors.build().setRgba(120, 60, 240, 0.85).toHex(); /* 同上. */
</code></pre>
<h2>[m] summary<span><a class="mark" href="#color_m_summary" id="color_m_summary">#</a></span></h2>
<h3>summary(color)<span><a class="mark" href="#color_summary_color" id="color_summary_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色摘要</li>
</ul>
<p>获取颜色摘要.</p>
<p>格式为 <code>hex($HEX), rgba($R,$G,$B/$A), int($INT)</code>.</p>
<p>其中, <code>A (alpha)</code> 分量将显示为 <code>0..1</code> 范围, 至少一位小数, 至多两位小数:</p>
<table>
<thead>
<tr>
<th>分量值</th>
<th>显示值</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0.0</td>
</tr>
<tr>
<td>1</td>
<td>1.0</td>
</tr>
<tr>
<td>0.64</td>
<td>0.64</td>
</tr>
<tr>
<td>128</td>
<td>0.5</td>
</tr>
<tr>
<td>255</td>
<td>1.0</td>
</tr>
<tr>
<td>100</td>
<td>0.39</td>
</tr>
</tbody>
</table>
<p>示例:</p>
<pre><code class="lang-js">// hex(#009688), rgba(0,150,136/1.0), int(-16738680)
colors.summary(&#39;#009688&#39;);

// hex(#BE009688), rgba(0,150,136/0.75), int(-1107257720)
colors.summary(&#39;#BE009688&#39;);

// hex(#FF0000), rgba(255,0,0/1.0), int(-65536)
colors.summary(&#39;red&#39;);

// hex(#6400008B), rgba(0,0,139/0.39), int(1677721739)
colors.build(&#39;dark-blue&#39;).setAlpha(100).summary();
</code></pre>
<h2>[m] parseColor<span><a class="mark" href="#color_m_parsecolor" id="color_m_parsecolor">#</a></span></h2>
<h3>parseColor(color)<span><a class="mark" href="#color_parsecolor_color" id="color_parsecolor_color">#</a></span></h3>
<div class="signature"><ul>
<li><strong>color</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> } - 颜色整数</li>
</ul>
</div><p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<p>类似 <a href="#all_m_toint">toInt</a>, 但参数接受范围相对狭小且类型及数值要求更加严格.<br>parseColor 的颜色参数仅支持六位数及八位数颜色代码及部分颜色名称.</p>
<p>支持的颜色名称 (不区分大小写):</p>
<blockquote>
<p>&#39;aqua&#39;, &#39;black&#39;, &#39;blue&#39;, &#39;cyan&#39;, &#39;darkgray&#39;, &#39;darkgrey&#39;,</p>
<p>&#39;fuchsia&#39;, &#39;gray&#39;, &#39;green&#39;, &#39;grey&#39;, &#39;lightgray&#39;,</p>
<p>&#39;lightgrey&#39;, &#39;lime&#39;, &#39;magenta&#39;, &#39;maroon&#39;, &#39;navy&#39;, &#39;olive&#39;,</p>
<p>&#39;purple&#39;, &#39;red&#39;, &#39;silver&#39;, &#39;teal&#39;, &#39;white&#39;, &#39;yellow&#39;`.</p>
</blockquote>
<p>下表列出部分 toInt 与 parseColor 传参后的结果对照:</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>toInt</th>
<th>parseColor</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#39;blue&#39;</td>
<td>-16776961</td>
<td>-16776961</td>
</tr>
<tr>
<td>&#39;burnt-orange&#39;</td>
<td>-3386112</td>
<td># 抛出异常 #</td>
</tr>
<tr>
<td>&#39;#FFCC5500&#39;</td>
<td>-3386112</td>
<td>-3386112</td>
</tr>
<tr>
<td>&#39;#CC5500&#39;</td>
<td>-3386112</td>
<td>-3386112</td>
</tr>
<tr>
<td>&#39;#C50&#39;</td>
<td>-3386112</td>
<td># 抛出异常 #</td>
</tr>
<tr>
<td>0xFFCC5500</td>
<td>-3386112</td>
<td># 抛出异常 #</td>
</tr>
<tr>
<td>colors.web.BURNT_ORANGE</td>
<td>-3386112</td>
<td># 抛出异常 #</td>
</tr>
</tbody>
</table>
<p>除非需要考虑多版本兼容, 否则建议始终使用 toInt 替代 parseColor.</p>
<h2>[m] toString<span><a class="mark" href="#color_m_tostring" id="color_m_tostring">#</a></span></h2>
<h3>toString(color)<span><a class="mark" href="#color_tostring_color" id="color_tostring_color">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>.</p>
<p><a href="#all_tohexcolor">toHex(color)</a> 的别名方法.</p>
<h3>toString(color, alpha)<span><a class="mark" href="#color_tostring_color_alpha" id="color_tostring_color_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>[ alpha = <code>&#39;auto&#39;</code> ]</strong> { <a href="dataTypes.html#datatypes_boolean">boolean</a> | <code>&#39;keep&#39;</code> | <code>&#39;none&#39;</code> | <code>&#39;auto&#39;</code> } - A (alpha) 分量参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>, 并根据 <code>alpha</code> 参数决定颜色代码 <code>A (alpha)</code> 分量的显示状态.</p>
<p><a href="#all_tohexcolor_alpha">toHex(color, alpha)</a> 的别名方法.</p>
<h3>toString(color, length)<span><a class="mark" href="#color_tostring_color_length" id="color_tostring_color_length">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>length</strong> { <code>8</code> | <code>6</code> | <code>3</code> } - Hex 代码长度参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorhex">ColorHex</a></span> } - 颜色代码</li>
</ul>
<p>将颜色参数转换为 <a href="dataTypes.html#datatypes_colorhex">颜色代码 (ColorHex)</a>, 并根据 <code>length</code> 参数决定颜色代码的显示状态.</p>
<p><a href="#all_tohexcolor_length">toHex(color, length)</a> 的别名方法.</p>
<h2>[m] alpha<span><a class="mark" href="#color_m_alpha" id="color_m_alpha">#</a></span></h2>
<h3>alpha(color)<span><a class="mark" href="#color_alpha_color" id="color_alpha_color">#</a></span></h3>
<p><strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<pre><code class="lang-js">colors.alpha(&#39;#663399&#39;); // 255
colors.alpha(colors.TRANSPARENT); // 0
colors.alpha(&#39;#05060708&#39;); // 5
</code></pre>
<h3>alpha(color, options)<span><a class="mark" href="#color_alpha_color_options" id="color_alpha_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量.</p>
<p>取值范围 <code>[0..1]</code> (<code>options.max</code> 为 <code>1</code>) 或 <code>[0..255]</code> (<code>options.max</code> 为 <code>255</code> 或不指定).</p>
<pre><code class="lang-js">colors.alpha(&#39;#663399&#39;, { max: 1 }); // 1
colors.alpha(&#39;#663399&#39;, { max: 255 }); // 255
colors.alpha(&#39;#663399&#39;); /* 同上. */

colors.alpha(&#39;#05060708&#39;, { max: 1 }); // 0.0196078431372549
colors.alpha(&#39;#05060708&#39;, { max: 255 }); // 5
colors.alpha(&#39;#05060708&#39;); /* 同上. */
</code></pre>
<p>当 <code>options.max</code> 为 <code>1</code> 时, 相当于 <a href="#all_m_alphadouble">colors.alphaDouble</a> 方法.</p>
<h2>[m] alphaDouble<span><a class="mark" href="#color_m_alphadouble" id="color_m_alphadouble">#</a></span></h2>
<h3>alphaDouble(color)<span><a class="mark" href="#color_alphadouble_color" id="color_alphadouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p>相当于 <code>colors.alpha(color, { max: 1 })</code>.</p>
<pre><code class="lang-js">colors.alphaDouble(&#39;#663399&#39;); // 1
colors.alphaDouble(colors.TRANSPARENT); // 0

colors.alphaDouble(&#39;#05060708&#39;); // 0.0196078431372549
colors.alpha(&#39;#05060708&#39;, { max: 1 }); /* 同上. */
</code></pre>
<h2>[m] getAlpha<span><a class="mark" href="#color_m_getalpha" id="color_m_getalpha">#</a></span></h2>
<h3>getAlpha(color)<span><a class="mark" href="#color_getalpha_color" id="color_getalpha_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<p><a href="#all_m_alpha">colors.alpha(color)</a> 的别名方法.</p>
<h3>getAlpha(color, options)<span><a class="mark" href="#color_getalpha_color_options" id="color_getalpha_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量.</p>
<p><a href="#all_m_alpha">colors.alpha(color, options)</a> 的别名方法.</p>
<h2>[m] getAlphaDouble<span><a class="mark" href="#color_m_getalphadouble" id="color_m_getalphadouble">#</a></span></h2>
<h3>getAlphaDouble(color)<span><a class="mark" href="#color_getalphadouble_color" id="color_getalphadouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (alpha)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p><a href="#all_m_alphadouble">colors.alphaDouble(color)</a> 的别名方法.</p>
<h2>[m] setAlpha<span><a class="mark" href="#color_m_setalpha" id="color_m_setalpha">#</a></span></h2>
<h3>setAlpha(color, alpha)<span><a class="mark" href="#color_setalpha_color_alpha" id="color_setalpha_color_alpha">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>设置颜色的 <code>A (alpha)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.setAlpha(&#39;#663399&#39;, 0x80)); // #80663399
colors.toHex(colors.setAlpha(&#39;#663399&#39;, 0.5)); /* 同上, 0.5 解析为百分数分量, 即 50%. */

colors.toHex(colors.setAlpha(&#39;#663399&#39;, 255)); // #FF663399
colors.toHex(colors.setAlpha(&#39;#663399&#39;, 1)); /* 同上, 1 默认作为百分数分量, 即 100%. */
</code></pre>
<h2>[m] setAlphaRelative<span><a class="mark" href="#color_m_setalpharelative" id="color_m_setalpharelative">#</a></span></h2>
<h3>setAlphaRelative(color, percentage)<span><a class="mark" href="#color_setalpharelative_color_percentage" id="color_setalpharelative_color_percentage">#</a></span></h3>
<p><strong><code>6.3.1</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>percentage</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 相对百分数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>针对 <code>A (alpha)</code> 分量设置其相对百分比, 返回新颜色的颜色整数.</p>
<p>如当前颜色 <code>A (alpha)</code> 分量为 <code>80</code>, 希望设置 <code>A</code> 分量为 <code>50%</code> 相对量, 即 <code>40</code>:</p>
<pre><code class="lang-js">colors.setAlphaRelative(color, 0.5);
colors.setAlphaRelative(color, &#39;50%&#39;); /* 效果同上. */
</code></pre>
<p>同样地, 如希望设置 <code>A</code> 分量为 <code>1.5</code> 倍相对量, 即 <code>120</code>:</p>
<pre><code class="lang-js">colors.setAlphaRelative(color, 1.5);
colors.setAlphaRelative(color, &#39;150%&#39;);
</code></pre>
<p>当设置的相对量超过 <code>255</code> 时, 将以 <code>255</code> 为最终值:</p>
<pre><code class="lang-js">colors.setAlphaRelative(color, 10); /* A 分量最终值为 255, 而非 800. */
</code></pre>
<p>特别地, 当原本颜色的 <code>A</code> 分量为 <code>0</code> 时, 无论如何设置相对量, <code>A</code> 分量均保持 <code>0</code> 值.</p>
<h2>[m] removeAlpha<span><a class="mark" href="#color_m_removealpha" id="color_m_removealpha">#</a></span></h2>
<h3>removeAlpha(color)<span><a class="mark" href="#color_removealpha_color" id="color_removealpha_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>去除颜色的 <code>A (alpha)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.removeAlpha(&#39;#BE663399&#39;)); // #663399
colors.toHex(colors.removeAlpha(&#39;#CC5500&#39;)); // #CC5500
`
</code></pre>
<p>相当于 <code>colors.setAlpha(color, 0)</code>.</p>
<h2>[m] red<span><a class="mark" href="#color_m_red" id="color_m_red">#</a></span></h2>
<h3>red(color)<span><a class="mark" href="#color_red_color" id="color_red_color">#</a></span></h3>
<p><strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<pre><code class="lang-js">colors.red(&#39;#663399&#39;); // 102
colors.red(colors.TRANSPARENT); // 0
colors.red(&#39;#05060708&#39;); // 6
</code></pre>
<h3>red(color, options)<span><a class="mark" href="#color_red_color_options" id="color_red_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量.</p>
<p>取值范围 <code>[0..1]</code> (<code>options.max</code> 为 <code>1</code>) 或 <code>[0..255]</code> (<code>options.max</code> 为 <code>255</code> 或不指定).</p>
<pre><code class="lang-js">colors.red(&#39;#663399&#39;, { max: 1 }); // 0.4
colors.red(&#39;#663399&#39;, { max: 255 }); // 102
colors.red(&#39;#663399&#39;); /* 同上. */
</code></pre>
<p>当 <code>options.max</code> 为 <code>1</code> 时, 相当于 <a href="#all_m_reddouble">colors.redDouble</a> 方法.</p>
<h2>[m] redDouble<span><a class="mark" href="#color_m_reddouble" id="color_m_reddouble">#</a></span></h2>
<h3>redDouble(color)<span><a class="mark" href="#color_reddouble_color" id="color_reddouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p>相当于 <code>colors.red(color, { max: 1 })</code>.</p>
<pre><code class="lang-js">colors.redDouble(&#39;#663399&#39;); // 0.4
</code></pre>
<h2>[m] getRed<span><a class="mark" href="#color_m_getred" id="color_m_getred">#</a></span></h2>
<h3>getRed(color)<span><a class="mark" href="#color_getred_color" id="color_getred_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<p><a href="#all_m_red">colors.red(color)</a> 的别名方法.</p>
<h3>getRed(color, options)<span><a class="mark" href="#color_getred_color_options" id="color_getred_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量.</p>
<p><a href="#all_m_red">colors.red(color, options)</a> 的别名方法.</p>
<h2>[m] getRedDouble<span><a class="mark" href="#color_m_getreddouble" id="color_m_getreddouble">#</a></span></h2>
<h3>getRedDouble(color)<span><a class="mark" href="#color_getreddouble_color" id="color_getreddouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>R (red)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p><a href="#all_m_reddouble">colors.redDouble(color)</a> 的别名方法.</p>
<h2>[m] setRed<span><a class="mark" href="#color_m_setred" id="color_m_setred">#</a></span></h2>
<h3>setRed(color, red)<span><a class="mark" href="#color_setred_color_red" id="color_setred_color_red">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>设置颜色的 <code>R (red)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.setRed(&#39;#663399&#39;, 0x80)); // #803399
colors.toHex(colors.setRed(&#39;#663399&#39;, 0.5)); /* 同上, 0.5 解析为百分数分量, 即 50%. */

colors.toHex(colors.setRed(&#39;#663399&#39;, 255)); // #FF3399
colors.toHex(colors.setRed(&#39;#663399&#39;, 1)); /* #013399, 不同上. 1 默认作为整数分量, 而非 100%. */
</code></pre>
<h2>[m] setRedRelative<span><a class="mark" href="#color_m_setredrelative" id="color_m_setredrelative">#</a></span></h2>
<h3>setRedRelative(color, percentage)<span><a class="mark" href="#color_setredrelative_color_percentage" id="color_setredrelative_color_percentage">#</a></span></h3>
<p><strong><code>6.3.1</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>percentage</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 相对百分数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>针对 <code>R (red)</code> 分量设置其相对百分比, 返回新颜色的颜色整数.</p>
<p>如当前颜色 <code>R (red)</code> 分量为 <code>80</code>, 希望设置 <code>R</code> 分量为 <code>50%</code> 相对量, 即 <code>40</code>:</p>
<pre><code class="lang-js">colors.setRedRelative(color, 0.5);
colors.setRedRelative(color, &#39;50%&#39;); /* 效果同上. */
</code></pre>
<p>同样地, 如希望设置 <code>R</code> 分量为 <code>1.5</code> 倍相对量, 即 <code>120</code>:</p>
<pre><code class="lang-js">colors.setRedRelative(color, 1.5);
colors.setRedRelative(color, &#39;150%&#39;);
</code></pre>
<p>当设置的相对量超过 <code>255</code> 时, 将以 <code>255</code> 为最终值:</p>
<pre><code class="lang-js">colors.setRedRelative(color, 10); /* R 分量最终值为 255, 而非 800. */
</code></pre>
<p>特别地, 当原本颜色的 <code>R</code> 分量为 <code>0</code> 时, 无论如何设置相对量, <code>R</code> 分量均保持 <code>0</code> 值.</p>
<h2>[m] removeRed<span><a class="mark" href="#color_m_removered" id="color_m_removered">#</a></span></h2>
<h3>removeRed(color)<span><a class="mark" href="#color_removered_color" id="color_removered_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>去除颜色的 <code>R (red)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.removeRed(&#39;#BE663399&#39;)); // #BE003399
colors.toHex(colors.removeRed(&#39;#CC5500&#39;)); // #005500
`
</code></pre>
<p>相当于 <code>colors.setRed(color, 0)</code>.</p>
<h2>[m] green<span><a class="mark" href="#color_m_green" id="color_m_green">#</a></span></h2>
<h3>green(color)<span><a class="mark" href="#color_green_color" id="color_green_color">#</a></span></h3>
<p><strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<pre><code class="lang-js">colors.green(&#39;#663399&#39;); // 51
colors.green(colors.TRANSPARENT); // 0
colors.green(&#39;#05060708&#39;); // 7
</code></pre>
<h3>green(color, options)<span><a class="mark" href="#color_green_color_options" id="color_green_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量.</p>
<p>取值范围 <code>[0..1]</code> (<code>options.max</code> 为 <code>1</code>) 或 <code>[0..255]</code> (<code>options.max</code> 为 <code>255</code> 或不指定).</p>
<pre><code class="lang-js">colors.green(&#39;#663399&#39;, { max: 1 }); // 0.2
colors.green(&#39;#663399&#39;, { max: 255 }); // 51
colors.green(&#39;#663399&#39;); /* 同上. */
</code></pre>
<p>当 <code>options.max</code> 为 <code>1</code> 时, 相当于 <a href="#all_m_greendouble">colors.greenDouble</a> 方法.</p>
<h2>[m] greenDouble<span><a class="mark" href="#color_m_greendouble" id="color_m_greendouble">#</a></span></h2>
<h3>greenDouble(color)<span><a class="mark" href="#color_greendouble_color" id="color_greendouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p>相当于 <code>colors.green(color, { max: 1 })</code>.</p>
<pre><code class="lang-js">colors.greenDouble(&#39;#663399&#39;); // 0.2
</code></pre>
<h2>[m] getGreen<span><a class="mark" href="#color_m_getgreen" id="color_m_getgreen">#</a></span></h2>
<h3>getGreen(color)<span><a class="mark" href="#color_getgreen_color" id="color_getgreen_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<p><a href="#all_m_green">colors.green(color)</a> 的别名方法.</p>
<h2>[m] setGreenRelative<span><a class="mark" href="#color_m_setgreenrelative" id="color_m_setgreenrelative">#</a></span></h2>
<h3>setGreenRelative(color, percentage)<span><a class="mark" href="#color_setgreenrelative_color_percentage" id="color_setgreenrelative_color_percentage">#</a></span></h3>
<p><strong><code>6.3.1</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>percentage</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 相对百分数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>针对 <code>G (green)</code> 分量设置其相对百分比, 返回新颜色的颜色整数.</p>
<p>如当前颜色 <code>G (green)</code> 分量为 <code>80</code>, 希望设置 <code>G</code> 分量为 <code>50%</code> 相对量, 即 <code>40</code>:</p>
<pre><code class="lang-js">colors.setGreenRelative(color, 0.5);
colors.setGreenRelative(color, &#39;50%&#39;); /* 效果同上. */
</code></pre>
<p>同样地, 如希望设置 <code>G</code> 分量为 <code>1.5</code> 倍相对量, 即 <code>120</code>:</p>
<pre><code class="lang-js">colors.setGreenRelative(color, 1.5);
colors.setGreenRelative(color, &#39;150%&#39;);
</code></pre>
<p>当设置的相对量超过 <code>255</code> 时, 将以 <code>255</code> 为最终值:</p>
<pre><code class="lang-js">colors.setGreenRelative(color, 10); /* G 分量最终值为 255, 而非 800. */
</code></pre>
<p>特别地, 当原本颜色的 <code>G</code> 分量为 <code>0</code> 时, 无论如何设置相对量, <code>G</code> 分量均保持 <code>0</code> 值.</p>
<h3>getGreen(color, options)<span><a class="mark" href="#color_getgreen_color_options" id="color_getgreen_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量.</p>
<p><a href="#all_m_green">colors.green(color, options)</a> 的别名方法.</p>
<h2>[m] getGreenDouble<span><a class="mark" href="#color_m_getgreendouble" id="color_m_getgreendouble">#</a></span></h2>
<h3>getGreenDouble(color)<span><a class="mark" href="#color_getgreendouble_color" id="color_getgreendouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>G (green)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p><a href="#all_m_greendouble">colors.greenDouble(color)</a> 的别名方法.</p>
<h2>[m] setGreen<span><a class="mark" href="#color_m_setgreen" id="color_m_setgreen">#</a></span></h2>
<h3>setGreen(color, green)<span><a class="mark" href="#color_setgreen_color_green" id="color_setgreen_color_green">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>设置颜色的 <code>G (green)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.setGreen(&#39;#663399&#39;, 0x80)); // #668099
colors.toHex(colors.setGreen(&#39;#663399&#39;, 0.5)); /* 同上, 0.5 解析为百分数分量, 即 50%. */

colors.toHex(colors.setGreen(&#39;#663399&#39;, 255)); // #66FF99
colors.toHex(colors.setGreen(&#39;#663399&#39;, 1)); /* #660199, 不同上. 1 默认作为整数分量, 而非 100%. */
</code></pre>
<h2>[m] removeGreen<span><a class="mark" href="#color_m_removegreen" id="color_m_removegreen">#</a></span></h2>
<h3>removeGreen(color)<span><a class="mark" href="#color_removegreen_color" id="color_removegreen_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>去除颜色的 <code>G (green)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.removeGreen(&#39;#BE663399&#39;)); // #BE660099
colors.toHex(colors.removeGreen(&#39;#CC5500&#39;)); // #CC0000
`
</code></pre>
<p>相当于 <code>colors.setGreen(color, 0)</code>.</p>
<h2>[m] blue<span><a class="mark" href="#color_m_blue" id="color_m_blue">#</a></span></h2>
<h3>blue(color)<span><a class="mark" href="#color_blue_color" id="color_blue_color">#</a></span></h3>
<p><strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>B (blue)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<pre><code class="lang-js">colors.blue(&#39;#663399&#39;); // 153
colors.blue(colors.TRANSPARENT); // 0
colors.blue(&#39;#05060708&#39;); // 8
</code></pre>
<h3>blue(color, options)<span><a class="mark" href="#color_blue_color_options" id="color_blue_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>B (blue)</code> 分量.</p>
<p>取值范围 <code>[0..1]</code> (<code>options.max</code> 为 <code>1</code>) 或 <code>[0..255]</code> (<code>options.max</code> 为 <code>255</code> 或不指定).</p>
<pre><code class="lang-js">colors.blue(&#39;#663399&#39;, { max: 1 }); // 0.6
colors.blue(&#39;#663399&#39;, { max: 255 }); // 153
colors.blue(&#39;#663399&#39;); /* 同上. */
</code></pre>
<p>当 <code>options.max</code> 为 <code>1</code> 时, 相当于 <a href="#all_m_bluedouble">colors.blueDouble</a> 方法.</p>
<h2>[m] blueDouble<span><a class="mark" href="#color_m_bluedouble" id="color_m_bluedouble">#</a></span></h2>
<h3>blueDouble(color)<span><a class="mark" href="#color_bluedouble_color" id="color_bluedouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (blue)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p>相当于 <code>colors.blue(color, { max: 1 })</code>.</p>
<pre><code class="lang-js">colors.blueDouble(&#39;#663399&#39;); // 0.6
</code></pre>
<h2>[m] getBlue<span><a class="mark" href="#color_m_getblue" id="color_m_getblue">#</a></span></h2>
<h3>getBlue(color)<span><a class="mark" href="#color_getblue_color" id="color_getblue_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>B (blue)</code> 分量, 取值范围 <code>[0..255]</code>.</p>
<p><a href="#all_m_blue">colors.blue(color)</a> 的别名方法.</p>
<h3>getBlue(color, options)<span><a class="mark" href="#color_getblue_color_options" id="color_getblue_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ max = <code>255</code> ]?: <code>1</code> | <code>255</code> - 范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..1]</a></span> | <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> }</li>
</ul>
<p>获取颜色的 <code>B (blue)</code> 分量.</p>
<p><a href="#all_m_blue">colors.blue(color, options)</a> 的别名方法.</p>
<h2>[m] getBlueDouble<span><a class="mark" href="#color_m_getbluedouble" id="color_m_getbluedouble">#</a></span></h2>
<h3>getBlueDouble(color)<span><a class="mark" href="#color_getbluedouble_color" id="color_getbluedouble_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> }</li>
</ul>
<p>获取颜色的 <code>A (blue)</code> 分量, 取值范围 <code>[0..1]</code>.</p>
<p><a href="#all_m_bluedouble">colors.blueDouble(color)</a> 的别名方法.</p>
<h2>[m] setBlue<span><a class="mark" href="#color_m_setblue" id="color_m_setblue">#</a></span></h2>
<h3>setBlue(color, blue)<span><a class="mark" href="#color_setblue_color_blue" id="color_setblue_color_blue">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>设置颜色的 <code>B (blue)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.setBlue(&#39;#663399&#39;, 0x80)); // #663380
colors.toHex(colors.setBlue(&#39;#663399&#39;, 0.5)); /* 同上, 0.5 解析为百分数分量, 即 50%. */

colors.toHex(colors.setBlue(&#39;#663399&#39;, 255)); // #6633FF
colors.toHex(colors.setBlue(&#39;#663399&#39;, 1)); /* #663301, 不同上. 1 默认作为整数分量, 而非 100%. */
</code></pre>
<h2>[m] setBlueRelative<span><a class="mark" href="#color_m_setbluerelative" id="color_m_setbluerelative">#</a></span></h2>
<h3>setBlueRelative(color, percentage)<span><a class="mark" href="#color_setbluerelative_color_percentage" id="color_setbluerelative_color_percentage">#</a></span></h3>
<p><strong><code>6.3.1</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>percentage</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 相对百分数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>针对 <code>B (blue)</code> 分量设置其相对百分比, 返回新颜色的颜色整数.</p>
<p>如当前颜色 <code>B (blue)</code> 分量为 <code>80</code>, 希望设置 <code>B</code> 分量为 <code>50%</code> 相对量, 即 <code>40</code>:</p>
<pre><code class="lang-js">colors.setBlueRelative(color, 0.5);
colors.setBlueRelative(color, &#39;50%&#39;); /* 效果同上. */
</code></pre>
<p>同样地, 如希望设置 <code>B</code> 分量为 <code>1.5</code> 倍相对量, 即 <code>120</code>:</p>
<pre><code class="lang-js">colors.setBlueRelative(color, 1.5);
colors.setBlueRelative(color, &#39;150%&#39;);
</code></pre>
<p>当设置的相对量超过 <code>255</code> 时, 将以 <code>255</code> 为最终值:</p>
<pre><code class="lang-js">colors.setBlueRelative(color, 10); /* B 分量最终值为 255, 而非 800. */
</code></pre>
<p>特别地, 当原本颜色的 <code>B</code> 分量为 <code>0</code> 时, 无论如何设置相对量, <code>B</code> 分量均保持 <code>0</code> 值.</p>
<h2>[m] removeBlue<span><a class="mark" href="#color_m_removeblue" id="color_m_removeblue">#</a></span></h2>
<h3>removeBlue(color)<span><a class="mark" href="#color_removeblue_color" id="color_removeblue_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>去除颜色的 <code>B (blue)</code> 分量, 返回新颜色的颜色整数.</p>
<pre><code class="lang-js">colors.toHex(colors.removeBlue(&#39;#BE663399&#39;)); // #BE663300
colors.toHex(colors.removeBlue(&#39;#CC5500&#39;)); // #CC5500
`
</code></pre>
<p>相当于 <code>colors.setBlue(color, 0)</code>.</p>
<h2>[m] rgb<span><a class="mark" href="#color_m_rgb" id="color_m_rgb">#</a></span></h2>
<h3>rgb(color)<span><a class="mark" href="#color_rgb_color" id="color_rgb_color">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>获取 <code>color</code> 参数对应的 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<p><code>color</code> 参数为颜色代码时, 支持情况如下:</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>#RRGGBB</td>
<td>正常</td>
</tr>
<tr>
<td>#RGB</td>
<td>正常</td>
</tr>
<tr>
<td>#AARRGGBB</td>
<td>A (alpha) 分量被忽略</td>
</tr>
</tbody>
</table>
<p>方法调用结果的 <code>A (alpha)</code> 分量恒为 <code>255</code>, 意味着 <code>color</code> 参数中的 <code>A</code> 分量信息将被忽略.</p>
<pre><code class="lang-js">colors.rgb(&#39;#663399&#39;);
colors.rgb(&#39;#DE663399&#39;); /* 同上, A 分量被忽略. */
</code></pre>
<h3>rgb(red, green, blue)<span><a class="mark" href="#color_rgb_red_green_blue" id="color_rgb_red_green_blue">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.rgb(255, 128, 9);
colors.rgb(0xFF, 0x80, 0x09); /* 同上. */
colors.rgb(&#39;#FF8009&#39;); /* 同上. */
colors.rgb(1, 0.5, &#39;3.53%&#39;); /* 同上. */
</code></pre>
<h3>rgb(components)<span><a class="mark" href="#color_rgb_components" id="color_rgb_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.rgb([ 255, 128, 9 ]);
colors.rgb([ 0xFF, 0x80, 0x09 ]); /* 同上. */
colors.rgb([ 1, 0.5, &#39;3.53%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] argb<span><a class="mark" href="#color_m_argb" id="color_m_argb">#</a></span></h2>
<h3>argb(colorHex)<span><a class="mark" href="#color_argb_colorhex" id="color_argb_colorhex">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>colorHex</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色代码</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>获取 <code>colorHex</code> 颜色代码对应的 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>#RRGGBB</td>
<td>A (alpha) 分量为 0xFF</td>
</tr>
<tr>
<td>#RGB</td>
<td>A (alpha) 分量为 0xFF</td>
</tr>
<tr>
<td>#AARRGGBB</td>
<td>-</td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">colors.argb(&#39;#663399&#39;); /* 相当于 argb(&#39;#FF663399&#39;) . */
colors.argb(&#39;#DE663399&#39;); /* 结果不同上. */
</code></pre>
<h3>argb(alpha, red, green, blue)<span><a class="mark" href="#color_argb_alpha_red_green_blue" id="color_argb_alpha_red_green_blue">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.argb(64, 255, 128, 9);
colors.argb(0x40, 0xFF, 0x80, 0x09); /* 同上. */
colors.argb(&#39;#40FF8009&#39;); /* 同上. */
colors.argb(0.25, 1, 0.5, &#39;3.53%&#39;); /* 同上. */
</code></pre>
<h3>argb(components)<span><a class="mark" href="#color_argb_components" id="color_argb_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.argb([ 64, 255, 128, 9 ]);
colors.argb([ 0x40, 0xFF, 0x80, 0x09 ]); /* 同上. */
colors.argb([ 0.25, 1, 0.5, &#39;3.53%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] rgba<span><a class="mark" href="#color_m_rgba" id="color_m_rgba">#</a></span></h2>
<h3>rgba(colorHex)<span><a class="mark" href="#color_rgba_colorhex" id="color_rgba_colorhex">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>colorHex</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色代码</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>获取 <code>colorHex</code> 颜色代码对应的 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>#RRGGBB</td>
<td>A (alpha) 分量为 0xFF</td>
</tr>
<tr>
<td>#RGB</td>
<td>A (alpha) 分量为 0xFF</td>
</tr>
<tr>
<td>#RRGGBBAA</td>
<td>-</td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">colors.rgba(&#39;#663399&#39;); /* 相当于 rgba(&#39;#663399FF&#39;) . */
colors.rgba(&#39;#663399FF&#39;); /* 结果同上. */
colors.rgba(&#39;#FF663399&#39;); /* 结果不同上. */
</code></pre>
<p>注意区分 <code>colors.rgba</code> 与 <code>colors.argb</code>:</p>
<pre><code class="lang-js">colors.rgba(&#39;#11335577&#39;); /* A (alpha) 分量为 0x77 . */
colors.argb(&#39;#11335577&#39;); /* A (alpha) 分量为 0x11 . */
</code></pre>
<h3>rgba(red, green, blue, alpha)<span><a class="mark" href="#color_rgba_red_green_blue_alpha" id="color_rgba_red_green_blue_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.rgba(255, 128, 9, 64);
colors.rgba(0xFF, 0x80, 0x09, 0x40); /* 同上. */
colors.rgba(&#39;#FF800940&#39;); /* 同上. */
colors.rgba(1, 0.5, &#39;3.53%&#39;, 0.25); /* 同上. */
</code></pre>
<h3>rgba(components)<span><a class="mark" href="#color_rgba_components" id="color_rgba_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.rgba([ 255, 128, 9, 64 ]);
colors.rgba([ 0xFF, 0x80, 0x09, 0x40 ]); /* 同上. */
colors.rgba([ 1, 0.5, &#39;3.53%&#39;, 0.25 ]); /* 同上. */
</code></pre>
<h2>[m] hsv<span><a class="mark" href="#color_m_hsv" id="color_m_hsv">#</a></span></h2>
<h3>hsv(hue, saturation, value)<span><a class="mark" href="#color_hsv_hue_saturation_value" id="color_hsv_hue_saturation_value">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>hue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - H (hue)</li>
<li><strong>saturation</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - S (saturation)</li>
<li><strong>value</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - V (value)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsv(90, 80, 64);
colors.hsv(90, 0.8, 0.64); /* 同上. */
colors.hsv(0.25, 0.8, 0.64); /* 同上. */
colors.hsv(&#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;); /* 同上. */
</code></pre>
<h3>hsv(components)<span><a class="mark" href="#color_hsv_components" id="color_hsv_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsv([ 90, 80, 64 ]);
colors.hsv([ 90, 0.8, 0.64 ]); /* 同上. */
colors.hsv([ 0.25, 0.8, 0.64 ]); /* 同上. */
colors.hsv([ &#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] hsva<span><a class="mark" href="#color_m_hsva" id="color_m_hsva">#</a></span></h2>
<h3>hsva(hue, saturation, value, alpha)<span><a class="mark" href="#color_hsva_hue_saturation_value_alpha" id="color_hsva_hue_saturation_value_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>hue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - H (hue)</li>
<li><strong>saturation</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - S (saturation)</li>
<li><strong>value</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - V (value)</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsva(90, 80, 64, 64);
colors.hsva(90, 0.8, 0.64, 0.25); /* 同上. */
colors.hsva(0.25, 0.8, 0.64, 0.25); /* 同上. */
colors.hsva(&#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;, &#39;25%&#39;); /* 同上. */
</code></pre>
<h3>hsva(components)<span><a class="mark" href="#color_hsva_components" id="color_hsva_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsva([ 90, 80, 64, 64 ]);
colors.hsva([ 90, 0.8, 0.64, 0.25 ]); /* 同上. */
colors.hsva([ 0.25, 0.8, 0.64, 0.25 ]); /* 同上. */
colors.hsva([ &#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;, &#39;25%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] hsl<span><a class="mark" href="#color_m_hsl" id="color_m_hsl">#</a></span></h2>
<h3>hsl(hue, saturation, lightness)<span><a class="mark" href="#color_hsl_hue_saturation_lightness" id="color_hsl_hue_saturation_lightness">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>hue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - H (hue)</li>
<li><strong>saturation</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - S (saturation)</li>
<li><strong>lightness</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - L (lightness)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsl(90, 80, 64);
colors.hsl(90, 0.8, 0.64); /* 同上. */
colors.hsl(0.25, 0.8, 0.64); /* 同上. */
colors.hsl(&#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;); /* 同上. */
</code></pre>
<h3>hsl(components)<span><a class="mark" href="#color_hsl_components" id="color_hsl_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsl([ 90, 80, 64 ]);
colors.hsl([ 90, 0.8, 0.64 ]); /* 同上. */
colors.hsl([ 0.25, 0.8, 0.64 ]); /* 同上. */
colors.hsl([ &#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] hsla<span><a class="mark" href="#color_m_hsla" id="color_m_hsla">#</a></span></h2>
<h3>hsla(hue, saturation, lightness, alpha)<span><a class="mark" href="#color_hsla_hue_saturation_lightness_alpha" id="color_hsla_hue_saturation_lightness_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>hue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - H (hue)</li>
<li><strong>saturation</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - S (saturation)</li>
<li><strong>lightness</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - L (lightness)</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponent">颜色分量</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsla(90, 80, 64, 64);
colors.hsla(90, 0.8, 0.64, 0.25); /* 同上. */
colors.hsla(0.25, 0.8, 0.64, 0.25); /* 同上. */
colors.hsla(&#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;, &#39;25%&#39;); /* 同上. */
</code></pre>
<h3>hsla(components)<span><a class="mark" href="#color_hsla_components" id="color_hsla_components">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>components</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 颜色分量数组</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorint">ColorInt</a></span> }</li>
</ul>
<p>通过 <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a> 获取 <a href="dataTypes.html#datatypes_colorint">颜色整数 (ColorInt)</a>.</p>
<pre><code class="lang-js">colors.hsla([ 90, 80, 64, 64 ]);
colors.hsla([ 90, 0.8, 0.64, 0.25 ]); /* 同上. */
colors.hsla([ 0.25, 0.8, 0.64, 0.25 ]); /* 同上. */
colors.hsla([ &#39;25%&#39;, &#39;80%&#39;, &#39;64%&#39;, &#39;25%&#39; ]); /* 同上. */
</code></pre>
<h2>[m] toRgb<span><a class="mark" href="#color_m_torgb" id="color_m_torgb">#</a></span></h2>
<h3>toRgb(color)<span><a class="mark" href="#color_torgb_color" id="color_torgb_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 RGB <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ r, g, b ] = colors.toRgb(&#39;#663399&#39;);
console.log(`R: ${r}, G: ${g}, B: ${b}`);
</code></pre>
<h2>[m] toRgba<span><a class="mark" href="#color_m_torgba" id="color_m_torgba">#</a></span></h2>
<h3>toRgba(color)<span><a class="mark" href="#color_torgba_color" id="color_torgba_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 RGBA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ r, g, b, a ] = colors.toRgba(&#39;#DE663399&#39;);
console.log(`R: ${r}, G: ${g}, B: ${b}, A: ${a}`);
</code></pre>
<p>需留意上述示例的参数格式为 <code>#AARRGGBB</code>, 结果格式为 <code>[RR, GG, BB, AA]</code>.</p>
<h3>toRgba(color, options)<span><a class="mark" href="#color_torgba_color_options" id="color_torgba_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ maxAlpha = <code>255</code> ]?: <code>1</code> | <code>255</code> - A (alpha) 分量的范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>根据 <code>options</code> 选项参数获取颜色参数的 RGBA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ r1, g1, b1, a1 ] = colors.toRgba(&#39;#DE663399&#39;);
console.log(`R: ${r1}, G: ${g1}, B: ${b1}, A: ${a1}`); /* A 分量范围为 [0..255] . */

let [ r2, g2, b2, a2 ] = colors.toRgba(&#39;#DE663399&#39;, { maxAlpha: 1 });
console.log(`R: ${r2}, G: ${g2}, B: ${b2}, A: ${a2}`); /* A 分量范围为 [0..1] . */
</code></pre>
<h2>[m] toArgb<span><a class="mark" href="#color_m_toargb" id="color_m_toargb">#</a></span></h2>
<h3>toArgb(color)<span><a class="mark" href="#color_toargb_color" id="color_toargb_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 ARGB <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ a, r, g, b ] = colors.toArgb(&#39;#DE663399&#39;);
console.log(`A: ${a}, R: ${r}, G: ${g}, B: ${b}`);
</code></pre>
<h3>toArgb(color, options)<span><a class="mark" href="#color_toargb_color_options" id="color_toargb_color_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ maxAlpha = <code>255</code> ]?: <code>1</code> | <code>255</code> - A (alpha) 分量的范围最大值</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>根据 <code>options</code> 选项参数获取颜色参数的 ARGB <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ a1, r1, g1, b1 ] = colors.toArgb(&#39;#DE663399&#39;);
console.log(`A: ${a1}, R: ${r1}, G: ${g1}, B: ${b1}`); /* A 分量范围为 [0..255] . */

let [ a2, r2, g2, b2 ] = colors.toArgb(&#39;#DE663399&#39;, { maxAlpha: 1 });
console.log(`A: ${a2}, R: ${r2}, G: ${g2}, B: ${b2}`); /* A 分量范围为 [0..1] . */
</code></pre>
<h2>[m] toHsv<span><a class="mark" href="#color_m_tohsv" id="color_m_tohsv">#</a></span></h2>
<h3>toHsv(color)<span><a class="mark" href="#color_tohsv_color" id="color_tohsv_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSV <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ h, s, v ] = colors.toHsv(&#39;#663399&#39;);
console.log(`H: ${h}, S: ${s}, V: ${v}`);
</code></pre>
<h3>toHsv(red, green, blue)<span><a class="mark" href="#color_tohsv_red_green_blue" id="color_tohsv_red_green_blue">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSV <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ h, s, v ] = colors.toHsv(102, 51, 153);
console.log(`H: ${h}, S: ${s}, V: ${v}`);
</code></pre>
<h2>[m] toHsva<span><a class="mark" href="#color_m_tohsva" id="color_m_tohsva">#</a></span></h2>
<h3>toHsva(color)<span><a class="mark" href="#color_tohsva_color" id="color_tohsva_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSVA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<p>其中 A (alpha) 分量范围恒为 <code>[0..1]</code>.</p>
<pre><code class="lang-js">let [ h, s, v, a ] = colors.toHsva(&#39;#BF663399&#39;);
console.log(`H: ${h}, S: ${s}, V: ${v}, A: ${a}`);
</code></pre>
<h3>toHsva(red, green, blue, alpha)<span><a class="mark" href="#color_tohsva_red_green_blue_alpha" id="color_tohsva_red_green_blue_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSVA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<p>其中 A (alpha) 分量范围恒为 <code>[0..1]</code>.</p>
<pre><code class="lang-js">let [ h, s, v, a ] = colors.toHsva(102, 51, 153, 191);
console.log(`H: ${h}, S: ${s}, V: ${v}, A: ${a}`);
</code></pre>
<h2>[m] toHsl<span><a class="mark" href="#color_m_tohsl" id="color_m_tohsl">#</a></span></h2>
<h3>toHsl(color)<span><a class="mark" href="#color_tohsl_color" id="color_tohsl_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSL <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ h, s, l ] = colors.toHsl(&#39;#663399&#39;);
console.log(`H: ${h}, S: ${s}, L: ${l}`);
</code></pre>
<h3>toHsl(red, green, blue)<span><a class="mark" href="#color_tohsl_red_green_blue" id="color_tohsl_red_green_blue">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSL <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<pre><code class="lang-js">let [ h, s, l ] = colors.toHsl(102, 51, 153);
console.log(`H: ${h}, S: ${s}, L: ${l}`);
</code></pre>
<h2>[m] toHsla<span><a class="mark" href="#color_m_tohsla" id="color_m_tohsla">#</a></span></h2>
<h3>toHsla(color)<span><a class="mark" href="#color_tohsla_color" id="color_tohsla_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSLA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<p>其中 A (alpha) 分量范围恒为 <code>[0..1]</code>.</p>
<pre><code class="lang-js">let [ h, s, l, a ] = colors.toHsla(&#39;#BF663399&#39;);
console.log(`H: ${h}, S: ${s}, L: ${l}, A: ${a}`);
</code></pre>
<h3>toHsla(red, green, blue, alpha)<span><a class="mark" href="#color_tohsla_red_green_blue_alpha" id="color_tohsla_red_green_blue_alpha">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>red</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - R (red)</li>
<li><strong>green</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - G (green)</li>
<li><strong>blue</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - B (blue)</li>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponent">ColorComponent</a></span> } - 颜色分量 - A (alpha)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_colorcomponents">ColorComponents</a></span> } - 颜色分量数组</li>
</ul>
<p>获取颜色参数的 HSLA <a href="dataTypes.html#datatypes_colorcomponents">颜色分量数组</a>.</p>
<p>其中 A (alpha) 分量范围恒为 <code>[0..1]</code>.</p>
<pre><code class="lang-js">let [ h, s, l, a ] = colors.toHsla(102, 51, 153, 191);
console.log(`H: ${h}, S: ${s}, L: ${l}, A: ${a}`);
</code></pre>
<h2>[m] isSimilar<span><a class="mark" href="#color_m_issimilar" id="color_m_issimilar">#</a></span></h2>
<h3>isSimilar(colorA, colorB, threshold?, algorithm?)<span><a class="mark" href="#color_issimilar_colora_colorb_threshold_algorithm" id="color_issimilar_colora_colorb_threshold_algorithm">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload [1-3]/4</code></strong></p>
<ul>
<li><strong>colorA</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>colorB</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>[ threshold = <code>4</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a></span> } - <a href="glossaries.html#glossaries_颜色匹配阈值">颜色匹配阈值</a></li>
<li><strong>[ algorithm = <code>&#39;diff&#39;</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_colordetectionalgorithm">ColorDetectionAlgorithm</a></span> } - 颜色检测算法</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 两个颜色是否相似</li>
</ul>
<p>判断两个颜色是否相似.</p>
<p>不同阈值对结果的影响 (阈值越高, 条件越宽松, 阈值越低, 条件越严格):</p>
<pre><code class="lang-js">colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 5); /* false, 阈值较小, 条件相对严格. */
colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 10); /* true, 阈值增大, 条件趋于宽松. */
</code></pre>
<p>不同 <a href="dataTypes.html#datatypes_colordetectionalgorithm">颜色检测算法</a> 对结果的影响:</p>
<pre><code class="lang-js">colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 9, &#39;rgb+&#39;); // false
colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 9, &#39;diff&#39;); // true
colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 9, &#39;hs&#39;); // true

colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 8, &#39;rgb+&#39;); // false
colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 8, &#39;diff&#39;); // false
colors.isSimilar(&#39;orange&#39;, &#39;dark-orange&#39;, 8, &#39;hs&#39;); // true
</code></pre>
<h3>isSimilar(colorA, colorB, options)<span><a class="mark" href="#color_issimilar_colora_colorb_options" id="color_issimilar_colora_colorb_options">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 4/4</code></strong></p>
<ul>
<li><strong>colorA</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>colorB</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>options</strong> {{<ul>
<li>[ similarity ≈ <code>0.9843</code> ]?: <a href="dataTypes.html#datatypes_range">Range[0..1]</a> - <a href="glossaries.html#glossaries_相似度">颜色匹配相似度</a></li>
<li>[ threshold = <code>4</code> ]?: <a href="dataTypes.html#datatypes_intrange">IntRange[0..255]</a> - <a href="glossaries.html#glossaries_颜色匹配阈值">颜色匹配阈值</a></li>
<li>[ algorithm = <code>&#39;diff&#39;</code> ]?: <a href="dataTypes.html#datatypes_colordetectionalgorithm">ColorDetectionAlgorithm</a> - 颜色检测算法</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 两个颜色是否相似</li>
</ul>
<p>判断两个颜色是否相似.</p>
<p>此方法将非必要参数集中于 <code>options</code> 对象中.</p>
<pre><code class="lang-js">colors.isSimilar(&#39;#010101&#39;, &#39;#020202&#39;, { similarity: 0.95 }); // true
</code></pre>
<h2>[m] isEqual<span><a class="mark" href="#color_m_isequal" id="color_m_isequal">#</a></span></h2>
<h3>isEqual(colorA, colorB, alphaMatters?)<span><a class="mark" href="#color_isequal_colora_colorb_alphamatters" id="color_isequal_colora_colorb_alphamatters">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload[1-2]/2</code></strong></p>
<ul>
<li><strong>colorA</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>colorB</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><strong>[ alphaMatters = <code>false</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 是否考虑 <code>A (alpha)</code> 分量</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 两个颜色是否相等</li>
</ul>
<p>判断两个颜色是否相等, 比较时由 <code>alphaMatters</code> 参数决定是否考虑 <code>A (alpha)</code> 分量:</p>
<pre><code class="lang-js">/* Hex 代码. */
colors.isEqual(&#39;#FF0000&#39;, &#39;#FF0000&#39;); // true
colors.isEqual(&#39;#FF0000&#39;, &#39;#F00&#39;); /* 同上, 三位数简写形式. */
/* 颜色整数. */
colors.isEqual(-65536, 0xFF0000); // true
/* 颜色名称. */
colors.isEqual(&#39;red&#39;, &#39;RED&#39;); /* true, 不区分大小写. */
colors.isEqual(&#39;orange&#39;, &#39;Orange&#39;); /* true, 不区分大小写. */
colors.isEqual(&#39;dark-gray&#39;, &#39;DARK_GRAY&#39;); /* true, 连字符与下划线均被支持. */
/* 不同类型比较. */
colors.isEqual(&#39;red&#39;, &#39;#FF0000&#39;); // true
colors.isEqual(&#39;orange&#39;, &#39;#FFA500&#39;); // true
/* A (alpha) 分量的不同情况. */
colors.isEqual(&#39;#A1FF0000&#39;, &#39;#A2FF0000&#39;); /* true, 默认忽略 A 分量. */
colors.isEqual(&#39;#A1FF0000&#39;, &#39;#A2FF0000&#39;, true); /* false, 需考虑 A 分量. */
</code></pre>
<h2>[m] equals<span><a class="mark" href="#color_m_equals" id="color_m_equals">#</a></span></h2>
<h3>equals(colorA, colorB)<span><a class="mark" href="#color_equals_colora_colorb" id="color_equals_colora_colorb">#</a></span></h3>
<p><strong><code>DEPRECATED</code></strong></p>
<ul>
<li><strong>colorA</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> | <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色参数</li>
<li><strong>colorB</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> | <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 两个颜色是否相等 (忽略 <code>A (alpha)</code> 分量)</li>
</ul>
<p>判断两个颜色是否相等, 比较时忽略 <code>A (alpha)</code> 分量:</p>
<pre><code class="lang-js">/* Hex 代码. */
colors.equals(&#39;#FF0000&#39;, &#39;#FF0000&#39;); // true
/* 颜色整数. */
colors.equals(-65536, 0xFF0000); // true
/* 颜色名称. */
colors.equals(&#39;red&#39;, &#39;RED&#39;); // true
/* 不同类型比较. */
colors.equals(&#39;red&#39;, &#39;#FF0000&#39;); // true
/* A (alpha) 分量将被忽略. */
colors.equals(&#39;#A1FF0000&#39;, &#39;#A2FF0000&#39;); // true
</code></pre>
<p>但以下示例将全部抛出异常:</p>
<pre><code class="lang-js">colors.equals(&#39;orange&#39;, &#39;#FFA500&#39;); /* 抛出异常. */
colors.equals(&#39;dark-gray&#39;, &#39;#444&#39;); /* 抛出异常. */
colors.equals(&#39;#FF0000&#39;, &#39;#F00&#39;); /* 抛出异常. */
</code></pre>
<p>上述示例对于 <a href="#all_m_isequal">colors.isEqual</a> 则全部返回 <code>true</code>.</p>
<p>除非需要考虑多版本兼容, 否则建议始终使用 <code>colors.isEqual</code> 替代 <code>colors.equals</code>.</p>
<h2>[m] luminance<span><a class="mark" href="#color_m_luminance" id="color_m_luminance">#</a></span></h2>
<h3>luminance(color)<span><a class="mark" href="#color_luminance_color" id="color_luminance_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_range">Range[0..1]</a></span> } - 颜色亮度</li>
</ul>
<p>获取颜色的 <a href="glossaries.html#glossaries_luminance">亮度 (Luminance)</a>, 取值范围 <code>[0..1]</code>.</p>
<pre><code class="lang-js">colors.luminance(colors.WHITE); // 1
colors.luminance(colors.BLACK); // 0
colors.luminance(colors.RED); // 0.2126
colors.luminance(colors.GREEN); // 0.7152
colors.luminance(colors.BLUE); // 0.0722
colors.luminance(colors.YELLOW); // 0.9278
</code></pre>
<blockquote>
<p>参阅: <a href="https://www.w3.org/WAI/GL/wiki/Relative_luminance">W3C Wiki</a></p>
</blockquote>
<h2>[m] toColorStateList<span><a class="mark" href="#color_m_tocolorstatelist" id="color_m_tocolorstatelist">#</a></span></h2>
<h3>toColorStateList(...color)<span><a class="mark" href="#color_tocolorstatelist_color" id="color_tocolorstatelist_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="https://developer.android.com/reference/android/content/res/ColorStateList">android.content.res.ColorStateList</a></span> }</li>
</ul>
<p>将一个或多个颜色参数转换为 ColorStateList 实例.</p>
<pre><code class="lang-js">colors.toColorStateList(&#39;red&#39;); /* 包含单一颜色的 ColorStateList. */
colors.toColorStateList(&#39;red&#39;, &#39;green&#39;, &#39;orange&#39;); /* 包含多个颜色的 ColorStateList. */
</code></pre>
<h2>[m] setPaintColor<span><a class="mark" href="#color_m_setpaintcolor" id="color_m_setpaintcolor">#</a></span></h2>
<h3>setPaintColor(paint, color)<span><a class="mark" href="#color_setpaintcolor_paint_color" id="color_setpaintcolor_paint_color">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>paint</strong> { <span class="type"><a href="https://developer.android.com/reference/android/graphics/Paint">android.graphics.Paint</a></span> } - 画笔参数</li>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 颜色参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>方法 <code>setPaintColor</code> 用于解决在 <code>Android API 29 (10) [Q]</code> 及以上系统中 <code>Paint#setColor(color)</code> 无法正常设置画笔颜色的问题.</p>
<pre><code class="lang-js">let paint = new android.graphics.Paint();

/* 安卓 10 及以上系统无法正常设置颜色. */
// paint.setColor(colors.toInt(&#39;blue&#39;));

/* 使用 colors 模块实现原始功能. */
colors.setPaintColor(paint, &#39;blue&#39;);
</code></pre>
<p>画笔无法正常设置颜色的原因, 是 <code>Android API 29 (10) [Q]</code> 源码中 <code>setColor</code> 有以下两种方法签名:</p>
<pre><code class="lang-text">setColor(@ColorInt int color): void
setColor(@ColorLong long color): void
</code></pre>
<p>JavaScript 语言不区分 <code>int</code> 和 <code>long</code>, 即只有 <code>setColor(color: number)</code>,<br>它会优先匹配 Java 的 <code>setColor(@ColorLong long color): void</code>.</p>
<p><code>ColorLong</code> 颜色与 <code>ColorInt</code> 颜色不同在于, 前者包含了额外的 <code>ColorSpace</code> (颜色空间) 信息,<br>原有的 <code>ColorInt</code> 被当做 <code>ColorLong</code> 来解析, 导致颜色解析异常.</p>
<p>除上述 <code>colors.setPaintColor</code> 的方法外, 还有其他一些解决方案:</p>
<pre><code class="lang-js">/* A. 使用 paint.setArgb 方法. */
paint.setARGB(
    colors.alpha(color),
    colors.red(color),
    colors.green(color),
    colors.blue(color),
);

/* 同上, 语法更简洁. */
paint.setARGB.apply(paint, colors.toArgb(color));

/* B. 将 ColorInt &quot;打包&quot; 为 ColorLong. */
paint.setColor(android.graphics.Color.pack(colors.toInt(color)));

/* C. 直接使用带 ColorSpace 信息的 ColorLong. */
paint.setColor(android.graphics.Color.pack(
    colors.redDouble(color),
    colors.greenDouble(color),
    colors.blueDouble(color),
    colors.alphaDouble(color),
    android.graphics.ColorSpace.get(android.graphics.ColorSpace.Named.SRGB),
));
</code></pre>
<p><code>colors.setPaintColor</code> 的大致源码:</p>
<pre><code class="lang-js">function setPaintColor(paint, color) {
    if (util.version.sdkInt &gt;= util.versionCodes.Q) {
        paint.setARGB.apply(paint, colors.toArgb(color));
    } else {
        paint.setColor(colors.toInt(color));
    }
}
</code></pre>
<h2>[p+] android<span><a class="mark" href="#color_p_android" id="color_p_android">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<p><a href="colorTable.html#colortable_Android_颜色列表">Android 颜色列表</a> 对象.</p>
<h2>[p+] css<span><a class="mark" href="#color_p_css" id="color_p_css">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<p><a href="colorTable.html#colortable_CSS_颜色列表">Css 颜色列表</a> 对象.</p>
<h2>[p+] web<span><a class="mark" href="#color_p_web" id="color_p_web">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<p><a href="colorTable.html#colortable_WEB_颜色列表">Web 颜色列表</a> 对象.</p>
<h2>[p+] material<span><a class="mark" href="#color_p_material" id="color_p_material">#</a></span></h2>
<p><strong><code>6.2.0</code></strong></p>
<p><a href="colorTable.html#colortable_Material_颜色列表">Material 颜色列表</a> 对象.</p>
<h2>[p] BLACK<span><a class="mark" href="#color_p_black" id="color_p_black">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16777216</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #000000">◑</span> 黑 (<code>#000000</code> <code>rgb(0,0,0</code>) 的颜色整数.</p>
<h2>[p] BLUE<span><a class="mark" href="#color_p_blue" id="color_p_blue">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16776961</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #0000FF">◑</span> 蓝 (<code>#0000FF</code> <code>rgb(0,0,255</code>) 的颜色整数.</p>
<h2>[p] CYAN<span><a class="mark" href="#color_p_cyan" id="color_p_cyan">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16711681</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #00FFFF">◑</span> 青 (<code>#00FFFF</code> <code>rgb(0,255,255</code>) 的颜色整数.</p>
<h2>[p] AQUA<span><a class="mark" href="#color_p_aqua" id="color_p_aqua">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16711681</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #00FFFF">◑</span> 青 (<code>#00FFFF</code> <code>rgb(0,255,255</code>) 的颜色整数.</p>
<h2>[p] DARK_GRAY<span><a class="mark" href="#color_p_dark_gray" id="color_p_dark_gray">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-12303292</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #444444">◑</span> 暗灰 (<code>#444444</code> <code>rgb(68,68,68</code>) 的颜色整数.</p>
<h2>[p] DARK_GREY<span><a class="mark" href="#color_p_dark_grey" id="color_p_dark_grey">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-12303292</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #444444">◑</span> 暗灰 (<code>#444444</code> <code>rgb(68,68,68</code>) 的颜色整数.</p>
<h2>[p] DKGRAY<span><a class="mark" href="#color_p_dkgray" id="color_p_dkgray">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-12303292</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #444444">◑</span> 暗灰 (<code>#444444</code> <code>rgb(68,68,68</code>) 的颜色整数.</p>
<h2>[p] GRAY<span><a class="mark" href="#color_p_gray" id="color_p_gray">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-7829368</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #888888">◑</span> 灰 (<code>#888888</code> <code>rgb(136,136,136</code>) 的颜色整数.</p>
<h2>[p] GREY<span><a class="mark" href="#color_p_grey" id="color_p_grey">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-7829368</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #888888">◑</span> 灰 (<code>#888888</code> <code>rgb(136,136,136</code>) 的颜色整数.</p>
<h2>[p] GREEN<span><a class="mark" href="#color_p_green" id="color_p_green">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16711936</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #00FF00">◑</span> 绿 (<code>#00FF00</code> <code>rgb(0,255,0</code>) 的颜色整数.</p>
<h2>[p] LIME<span><a class="mark" href="#color_p_lime" id="color_p_lime">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16711936</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #00FF00">◑</span> 绿 (<code>#00FF00</code> <code>rgb(0,255,0</code>) 的颜色整数.</p>
<h2>[p] LIGHT_GRAY<span><a class="mark" href="#color_p_light_gray" id="color_p_light_gray">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-3355444</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #CCCCCC">◑</span> 亮灰 (<code>#CCCCCC</code> <code>rgb(204,204,204</code>) 的颜色整数.</p>
<h2>[p] LIGHT_GREY<span><a class="mark" href="#color_p_light_grey" id="color_p_light_grey">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-3355444</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #CCCCCC">◑</span> 亮灰 (<code>#CCCCCC</code> <code>rgb(204,204,204</code>) 的颜色整数.</p>
<h2>[p] LTGRAY<span><a class="mark" href="#color_p_ltgray" id="color_p_ltgray">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-3355444</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #CCCCCC">◑</span> 亮灰 (<code>#CCCCCC</code> <code>rgb(204,204,204</code>) 的颜色整数.</p>
<h2>[p] MAGENTA<span><a class="mark" href="#color_p_magenta" id="color_p_magenta">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-65281</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FF00FF">◑</span> 品红 / 洋红 (<code>#FF00FF</code> <code>rgb(255,0,255</code>) 的颜色整数.</p>
<h2>[p] FUCHSIA<span><a class="mark" href="#color_p_fuchsia" id="color_p_fuchsia">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-65281</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FF00FF">◑</span> 品红 / 洋红 (<code>#FF00FF</code> <code>rgb(255,0,255</code>) 的颜色整数.</p>
<h2>[p] MAROON<span><a class="mark" href="#color_p_maroon" id="color_p_maroon">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-8388608</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #800000">◑</span> 栗 (<code>#800000</code> <code>rgb(128,0,0</code>) 的颜色整数.</p>
<h2>[p] NAVY<span><a class="mark" href="#color_p_navy" id="color_p_navy">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16777088</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #000080">◑</span> 海军蓝 / 藏青 (<code>#000080</code> <code>rgb(0,0,128</code>) 的颜色整数.</p>
<h2>[p] OLIVE<span><a class="mark" href="#color_p_olive" id="color_p_olive">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-8355840</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #808000">◑</span> 橄榄 (<code>#808000</code> <code>rgb(128,128,0</code>) 的颜色整数.</p>
<h2>[p] PURPLE<span><a class="mark" href="#color_p_purple" id="color_p_purple">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-8388480</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #800080">◑</span> 紫 (<code>#800080</code> <code>rgb(128,0,128</code>) 的颜色整数.</p>
<h2>[p] RED<span><a class="mark" href="#color_p_red" id="color_p_red">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-65536</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FF0000">◑</span> 红 (<code>#FF0000</code> <code>rgb(255,0,0</code>) 的颜色整数.</p>
<h2>[p] SILVER<span><a class="mark" href="#color_p_silver" id="color_p_silver">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-4144960</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #C0C0C0">◑</span> 银 (<code>#C0C0C0</code> <code>rgb(192,192,192</code>) 的颜色整数.</p>
<h2>[p] TEAL<span><a class="mark" href="#color_p_teal" id="color_p_teal">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-16744320</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #008080">◑</span> 鸭绿 / 凫绿 (<code>#008080</code> <code>rgb(0,128,128</code>) 的颜色整数.</p>
<h2>[p] WHITE<span><a class="mark" href="#color_p_white" id="color_p_white">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-1</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FFFFFF">◑</span> 白 (<code>#FFFFFF</code> <code>rgb(255,255,255</code>) 的颜色整数.</p>
<h2>[p] YELLOW<span><a class="mark" href="#color_p_yellow" id="color_p_yellow">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-256</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FFFF00">◑</span> 黄 (<code>#FFFF00</code> <code>rgb(255,255,0)</code>) 的颜色整数.</p>
<h2>[p] ORANGE<span><a class="mark" href="#color_p_orange" id="color_p_orange">#</a></span></h2>
<p><strong><code>6.2.0</code></strong> <strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>-23296</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p><span style="color: #FFA500">◑</span> 橙 (<code>#FFA500</code> <code>rgb(255,165,0)</code>) 的颜色整数.</p>
<h2>[p] TRANSPARENT<span><a class="mark" href="#color_p_transparent" id="color_p_transparent">#</a></span></h2>
<p><strong><code>CONSTANT</code></strong></p>
<ul>
<li>[ <code>0</code> ] { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> }</li>
</ul>
<p>全透明 (<code>#00000000</code> <code>argb(0, 0, 0, 0)</code>) 的颜色整数.</p>
<hr>
<h2>融合颜色<span><a class="mark" href="#color_1" id="color_1">#</a></span></h2>
<p>为节约篇幅, 本章节仅列出了常用的部分融合颜色, 融合颜色属性直接挂载于 colors 对象上, 使用 <code>colors.Xxx</code> 的形式访问:</p>
<pre><code class="lang-js">colors.toHex(colors.BLACK); /* 黑色. */
colors.toHex(colors.ORANGE); /* 橙色. */
colors.toHex(colors.PANSY); /* 三色堇紫色. */
colors.toHex(colors.ALIZARIN_CRIMSON); /* 茜红色. */
colors.toHex(colors.PURPLE_300); /* 材料紫色 (300 号). */
</code></pre>
<p>更多融合颜色, 参阅 <a href="colorTable.html#colortable_融合颜色列表">融合颜色列表</a> 小节.
<!-- [end-include:color.md] --></p>
<!-- [start-include:image.md] -->
<h1>图像 (Images)<span><a class="mark" href="#image_images" id="image_images">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>images模块提供了一些手机设备中常见的图片处理函数, 包括截图、读写图片、图片剪裁、旋转、二值化、找色找图等.</p>
<p>该模块分为两个部分, 找图找色部分和图片处理部分.</p>
<p>需要注意的是, image对象创建后尽量在不使用时进行回收, 同时避免循环创建大量图片. 因为图片是一种占用内存比较大的资源, 尽管Auto.js通过各种方式（比如图片缓存机制、垃圾回收时回收图片、脚本结束时回收所有图片）尽量降低图片资源的泄漏和内存占用, 但是糟糕的代码仍然可以占用大量内存.</p>
<p>Image对象通过调用<code>recycle()</code>函数来回收. 例如：</p>
<pre><code>// 读取图片
var img = images.read(&quot;./1.png&quot;);
//对图片进行操作
... 
// 回收图片
img.recycle();
</code></pre><p>例外的是, <code>captureScreen()</code> 返回的图片不需要回收.</p>
<h2>图片处理<span><a class="mark" href="#image" id="image">#</a></span></h2>
<h2>images.read(path)<span><a class="mark" href="#image_images_read_path" id="image_images_read_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片路径</li>
</ul>
</div><p>读取在路径path的图片文件并返回一个Image对象. 如果文件不存在或者文件无法解码则返回null.</p>
<h2>images.load(url)<span><a class="mark" href="#image_images_load_url" id="image_images_load_url">#</a></span></h2>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片URL地址</li>
</ul>
</div><p>加载在地址URL的网络图片并返回一个Image对象. 如果地址不存在或者图片无法解码则返回null.</p>
<h2>images.copy(img)<span><a class="mark" href="#image_images_copy_img" id="image_images_copy_img">#</a></span></h2>
<div class="signature"><ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
</div><p>复制一张图片并返回新的副本. 该函数会完全复制img对象的数据.</p>
<h2>images.save(image, path[, format = &quot;png&quot;, quality = 100])<span><a class="mark" href="#image_images_save_image_path_format_png_quality_100" id="image_images_save_image_path_format_png_quality_100">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">Image</span> } 图片</li>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>format</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片格式, 可选的值为:<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 图片质量, 为0~100的整数值</li>
</ul>
</div><p>把图片image以PNG格式保存到path中. 如果文件不存在会被创建；文件存在会被覆盖.</p>
<pre><code>//把图片压缩为原来的一半质量并保存
var img = images.read(&quot;/sdcard/1.png&quot;);
images.save(img, &quot;/sdcard/1.jpg&quot;, &quot;jpg&quot;, 50);
app.viewFile(&quot;/sdcard/1.jpg&quot;);
</code></pre><h2>images.fromBase64(base64)<span><a class="mark" href="#image_images_frombase64_base64" id="image_images_frombase64_base64">#</a></span></h2>
<div class="signature"><ul>
<li><code>base64</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片的Base64数据</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
</div><p>解码Base64数据并返回解码后的图片Image对象. 如果base64无法解码则返回<code>null</code>.</p>
<h2>images.toBase64(img[, format = &quot;png&quot;, quality = 100])<span><a class="mark" href="#image_images_tobase64_img_format_png_quality_100" id="image_images_tobase64_img_format_png_quality_100">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">image</span> } 图片</li>
<li><code>format</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片格式, 可选的值为:<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 图片质量, 为0~100的整数值</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>把图片编码为base64数据并返回.</p>
<h2>images.fromBytes(bytes)<span><a class="mark" href="#image_images_frombytes_bytes" id="image_images_frombytes_bytes">#</a></span></h2>
<div class="signature"><ul>
<li><code>bytes</code> { <span class="type">byte[]</span> } 字节数组</li>
</ul>
</div><p>解码字节数组bytes并返回解码后的图片Image对象. 如果bytes无法解码则返回<code>null</code>.</p>
<h2>images.toBytes(img[, format = &quot;png&quot;, quality = 100])<span><a class="mark" href="#image_images_tobytes_img_format_png_quality_100" id="image_images_tobytes_img_format_png_quality_100">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">image</span> } 图片</li>
<li><code>format</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 图片格式, 可选的值为:<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 图片质量, 为0~100的整数值</li>
<li>返回 { <span class="type">byte[]</span> }</li>
</ul>
</div><p>把图片编码为字节数组并返回.</p>
<h2>images.clip(img, x, y, w, h)<span><a class="mark" href="#image_images_clip_img_x_y_w_h" id="image_images_clip_img_x_y_w_h">#</a></span></h2>
<div class="signature"><ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 剪切区域的左上角横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 剪切区域的左上角纵坐标</li>
<li><code>w</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 剪切区域的宽度</li>
<li><code>h</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 剪切区域的高度</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
</div><p>从图片img的位置(x, y)处剪切大小为w * h的区域, 并返回该剪切区域的新图片.</p>
<pre><code>var src = images.read(&quot;/sdcard/1.png&quot;);
var clip = images.clip(src, 100, 100, 400, 400);
images.save(clip, &quot;/sdcard/clip.png&quot;);
</code></pre><h2>images.resize(img, size[, interpolation])<span><a class="mark" href="#image_images_resize_img_size_interpolation" id="image_images_resize_img_size_interpolation">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>size</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 两个元素的数组[w, h], 分别表示宽度和高度；如果只有一个元素, 则宽度和高度相等</li>
<li><p><code>interpolation</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 插值方法, 可选, 默认为&quot;LINEAR&quot;（线性插值）, 可选的值有：</p>
<ul>
<li><code>NEAREST</code> 最近邻插值</li>
<li><code>LINEAR</code> 线性插值（默认）</li>
<li><code>AREA</code> 区域插值</li>
<li><code>CUBIC</code> 三次样条插值</li>
<li><code>LANCZOS4</code> Lanczos插值
参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform_ga5bb5a1fea74ea38e1a5445ca803ff121/">InterpolationFlags</a></li>
</ul>
</li>
<li><p>返回 { <span class="type">Image</span> }</p>
</li>
</ul>
<p>调整图片大小, 并返回调整后的图片. 例如把图片放缩为200*300：<code>images.resize(img, [200, 300])</code>.</p>
<p>参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform_ga47a974309e9102f5f08231edc7e7529d/">Imgproc.resize</a>.</p>
<h2>images.scale(img, fx, fy[, interpolation])<span><a class="mark" href="#image_images_scale_img_fx_fy_interpolation" id="image_images_scale_img_fx_fy_interpolation">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>fx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 宽度放缩倍数</li>
<li><code>fy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 高度放缩倍数</li>
<li><p><code>interpolation</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 插值方法, 可选, 默认为&quot;LINEAR&quot;（线性插值）, 可选的值有：</p>
<ul>
<li><code>NEAREST</code> 最近邻插值</li>
<li><code>LINEAR</code> 线性插值（默认）</li>
<li><code>AREA</code> 区域插值</li>
<li><code>CUBIC</code> 三次样条插值</li>
<li><code>LANCZOS4</code> Lanczos插值
参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform_ga5bb5a1fea74ea38e1a5445ca803ff121/">InterpolationFlags</a></li>
</ul>
</li>
<li><p>返回 { <span class="type">Image</span> }</p>
</li>
</ul>
<p>放缩图片, 并返回放缩后的图片. 例如把图片变成原来的一半：<code>images.scale(img, 0.5, 0.5)</code>.</p>
<p>参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform_ga47a974309e9102f5f08231edc7e7529d/">Imgproc.resize</a>.</p>
<h2>images.rotate(img, degree[, x, y])<span><a class="mark" href="#image_images_rotate_img_degree_x_y" id="image_images_rotate_img_degree_x_y">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>degree</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 旋转角度.</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 旋转中心x坐标, 默认为图片中点</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 旋转中心y坐标, 默认为图片中点</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>将图片逆时针旋转 degree 度, 返回旋转后的图片对象.</p>
<p>例如逆时针旋转90度为<code>images.rotate(img, 90)</code>.</p>
<h2>images.concat(img1, image2[, direction])<span><a class="mark" href="#image_images_concat_img1_image2_direction" id="image_images_concat_img1_image2_direction">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img1</code> { <span class="type">Image</span> } 图片1</li>
<li><code>img2</code> { <span class="type">Image</span> } 图片2</li>
<li>direction { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 连接方向, 默认为&quot;RIGHT&quot;, 可选的值有：<ul>
<li><code>LEFT</code> 将图片2接到图片1左边</li>
<li><code>RIGHT</code> 将图片2接到图片1右边</li>
<li><code>TOP</code> 将图片2接到图片1上边</li>
<li><code>BOTTOM</code> 将图片2接到图片1下边</li>
</ul>
</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>连接两张图片, 并返回连接后的图像. 如果两张图片大小不一致, 小的那张将适当居中.</p>
<h2>images.grayscale(img)<span><a class="mark" href="#image_images_grayscale_img" id="image_images_grayscale_img">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>灰度化图片, 并返回灰度化后的图片.</p>
<h2>image.threshold(img, threshold, maxVal[, type])<span><a class="mark" href="#image_image_threshold_img_threshold_maxval_type" id="image_image_threshold_img_threshold_maxval_type">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 阈值</li>
<li><code>maxVal</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 最大值</li>
<li><p><code>type</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 阈值化类型, 默认为&quot;BINARY&quot;, 参见<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc_gaa9e58d2860d4afa658ef70a9b1115576/">ThresholdTypes</a>, 可选的值:</p>
<ul>
<li><code>BINARY</code></li>
<li><code>BINARY_INV</code></li>
<li><code>TRUNC</code></li>
<li><code>TOZERO</code></li>
<li><code>TOZERO_INV</code></li>
<li><code>OTSU</code></li>
<li><code>TRIANGLE</code></li>
</ul>
</li>
<li><p>返回 { <span class="type">Image</span> }</p>
</li>
</ul>
<p>将图片阈值化, 并返回处理后的图像. 可以用这个函数进行图片二值化. 例如：<code>images.threshold(img, 100, 255, &quot;BINARY&quot;)</code>, 这个代码将图片中大于100的值全部变成255, 其余变成0, 从而达到二值化的效果. 如果img是一张灰度化图片, 这个代码将会得到一张黑白图片.</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/u012566751/article/details/77046445/">threshold函数的使用</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc_gae8a4a146d1ca78c626a53577199e9c57/">threshold</a>.</p>
<h2>images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)<span><a class="mark" href="#image_images_adaptivethreshold_img_maxvalue_adaptivemethod_thresholdtype_blocksize_c" id="image_images_adaptivethreshold_img_maxvalue_adaptivemethod_thresholdtype_blocksize_c">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>maxValue</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 最大值</li>
<li><code>adaptiveMethod</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 在一个邻域内计算阈值所采用的算法, 可选的值有：<ul>
<li><code>MEAN_C</code> 计算出领域的平均值再减去参数C的值</li>
<li><code>GAUSSIAN_C</code> 计算出领域的高斯均值再减去参数C的值</li>
</ul>
</li>
<li><code>thresholdType</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 阈值化类型, 可选的值有：<ul>
<li><code>BINARY</code></li>
<li><code>BINARY_INV</code></li>
</ul>
</li>
<li><code>blockSize</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 邻域块大小</li>
<li><code>C</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 偏移值调整量</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>对图片进行自适应阈值化处理, 并返回处理后的图像.</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/guduruyu/article/details/68059450/">threshold与adaptiveThreshold</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc_ga72b913f352e4a1b1b397736707afcde3
/">adaptiveThreshold</a>.</p>
<h2>images.cvtColor(img, code[, dstCn])<span><a class="mark" href="#image_images_cvtcolor_img_code_dstcn" id="image_images_cvtcolor_img_code_dstcn">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>code</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 颜色空间转换的类型, 可选的值有一共有205个（参见<a href="https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions_ga4e0972be5de079fed4e3a10e24ef5ef0/">ColorConversionCodes</a>）, 这里只列出几个：<ul>
<li><code>BGR2GRAY</code> BGR转换为灰度</li>
<li><code>BGR2HSV</code> BGR转换为HSV</li>
<li><code></code></li>
</ul>
</li>
<li><code>dstCn</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 目标图像的颜色通道数量, 如果不填写则根据其他参数自动决定.</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>对图像进行颜色空间转换, 并返回转换后的图像.</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1">颜色空间转换</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions_ga397ae87e1288a81d2363b61574eb8cab/">cvtColor</a>.</p>
<h2>images.inRange(img, lowerBound, upperBound)<span><a class="mark" href="#image_images_inrange_img_lowerbound_upperbound" id="image_images_inrange_img_lowerbound_upperbound">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>lowerBound</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色下界</li>
<li><code>upperBound</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色下界</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>将图片二值化, 在lowerBound~upperBound范围以外的颜色都变成0, 在范围以内的颜色都变成255.</p>
<p>例如<code>images.inRange(img, &quot;#000000&quot;, &quot;#222222&quot;)</code>.</p>
<h2>images.interval(img, color, interval)<span><a class="mark" href="#image_images_interval_img_color_interval" id="image_images_interval_img_color_interval">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色值</li>
<li><code>interval</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 每个通道的范围间隔</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>将图片二值化, 在color-interval ~ color+interval范围以外的颜色都变成0, 在范围以内的颜色都变成255. 这里对color的加减是对每个通道而言的.</p>
<p>例如<code>images.interval(img, &quot;#888888&quot;, 16)</code>, 每个通道的颜色值均为0x88, 加减16后的范围是[0x78, 0x98], 因此这个代码将把#787878~#989898的颜色变成#FFFFFF, 而把这个范围以外的变成#000000.</p>
<h2>images.blur(img, size[, anchor, type])<span><a class="mark" href="#image_images_blur_img_size_anchor_type" id="image_images_blur_img_size_anchor_type">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>size</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 定义滤波器的大小, 如[3, 3]</li>
<li><code>anchor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 指定锚点位置(被平滑点), 默认为图像中心</li>
<li><code>type</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 推断边缘像素类型, 默认为&quot;DEFAULT&quot;, 可选的值有：<ul>
<li><code>CONSTANT</code> iiiiii|abcdefgh|iiiiiii with some specified i</li>
<li><code>REPLICATE</code> aaaaaa|abcdefgh|hhhhhhh</li>
<li><code>REFLECT</code> fedcba|abcdefgh|hgfedcb</li>
<li><code>WRAP</code> cdefgh|abcdefgh|abcdefg</li>
<li><code>REFLECT_101</code> gfedcb|abcdefgh|gfedcba</li>
<li><code>TRANSPARENT</code> uvwxyz|abcdefgh|ijklmno</li>
<li><code>REFLECT101</code> same as BORDER_REFLECT_101</li>
<li><code>DEFAULT</code> same as BORDER_REFLECT_101</li>
<li><code>ISOLATED</code> do not look outside of ROI</li>
</ul>
</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>对图像进行模糊（平滑处理）, 返回处理后的图像.</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html">实现图像平滑处理</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter_ga8c45db9afe636703801b0b2e440fce37/">blur</a>.</p>
<h2>images.medianBlur(img, size)<span><a class="mark" href="#image_images_medianblur_img_size" id="image_images_medianblur_img_size">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>size</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 定义滤波器的大小, 正奇数, 如 3</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>对图像进行中值滤波, 返回处理后的图像.</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html">实现图像平滑处理</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter_ga564869aa33e58769b4469101aac458f9/">blur</a>.</p>
<h2>images.gaussianBlur(img, size[, sigmaX, sigmaY, type])<span><a class="mark" href="#image_images_gaussianblur_img_size_sigmax_sigmay_type" id="image_images_gaussianblur_img_size_sigmax_sigmay_type">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>size</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 定义滤波器的大小, 如[3, 3]</li>
<li><code>sigmaX</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x方向的标准方差, 不填写则自动计算</li>
<li><code>sigmaY</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y方向的标准方差, 不填写则自动计算</li>
<li><code>type</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 推断边缘像素类型, 默认为&quot;DEFAULT&quot;, 参见<code>images.blur</code></li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>对图像进行高斯模糊, 返回处理后的图像.</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html">实现图像平滑处理</a>）或者OpenCV文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter_gaabe8c836e97159a9193fb0b11ac52cf1/">GaussianBlur</a>.</p>
<h2>images.matToImage(mat)<span><a class="mark" href="#image_images_mattoimage_mat" id="image_images_mattoimage_mat">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>mat</code> { <span class="type">Mat</span> } OpenCV的Mat对象</li>
<li>返回 { <span class="type">Image</span> }</li>
</ul>
<p>把Mat对象转换为Image对象.</p>
<h2>找图找色<span><a class="mark" href="#image_1" id="image_1">#</a></span></h2>
<h2>images.requestScreenCapture([landscape])<span><a class="mark" href="#image_images_requestscreencapture_landscape" id="image_images_requestscreencapture_landscape">#</a></span></h2>
<div class="signature"><ul>
<li><code>landscape</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 布尔值,  表示将要执行的截屏是否为横屏. 如果landscape为false, 则表示竖屏截图; true为横屏截图.</li>
</ul>
</div><p>向系统申请屏幕截图权限, 返回是否请求成功.</p>
<p>第一次使用该函数会弹出截图权限请求, 建议选择“总是允许”.</p>
<p>这个函数只是申请截图权限, 并不会真正执行截图, 真正的截图函数是<code>captureScreen()</code>.</p>
<p>该函数在截图脚本中只需执行一次, 而无需每次调用<code>captureScreen()</code>都调用一次.</p>
<p><strong>如果不指定landscape值, 则截图方向由当前设备屏幕方向决定</strong>, 因此务必注意执行该函数时的屏幕方向.</p>
<p>建议在本软件界面运行该函数, 在其他软件界面运行时容易出现一闪而过的黑屏现象.</p>
<p>示例:</p>
<pre><code>//请求截图
if(!requestScreenCapture()){
    toast(&quot;请求截图失败&quot;);
    exit();
}
//连续截图10张图片(间隔1秒)并保存到存储卡目录
for(var i = 0; i &lt; 10; i++){
    captureScreen(&quot;/sdcard/screencapture&quot; + i + &quot;.png&quot;);
    sleep(1000);
}

</code></pre><p>该函数也可以作为全局函数使用.</p>
<h2>images.captureScreen()<span><a class="mark" href="#image_images_capturescreen" id="image_images_capturescreen">#</a></span></h2>
<p>截取当前屏幕并返回一个Image对象.</p>
<p>没有截图权限时执行该函数会抛出SecurityException.</p>
<p>该函数不会返回null, 两次调用可能返回相同的Image对象. 这是因为设备截图的更新需要一定的时间, 短时间内（一般来说是16ms）连续调用则会返回同一张截图.</p>
<p>截图需要转换为Bitmap格式, 从而该函数执行需要一定的时间(0~20ms).</p>
<p>另外在requestScreenCapture()执行成功后需要一定时间后才有截图可用, 因此如果立即调用captureScreen(), 会等待一定时间后(一般为几百ms)才返回截图.</p>
<p>例子:</p>
<pre><code>//请求横屏截图
requestScreenCapture(true);
//截图
var img = captureScreen();
//获取在点(100, 100)的颜色值
var color = images.pixel(img, 100, 100);
//显示该颜色值
toast(colors.toString(color));
</code></pre><p>该函数也可以作为全局函数使用.</p>
<h2>images.captureScreen(path)<span><a class="mark" href="#image_images_capturescreen_path" id="image_images_capturescreen_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 截图保存路径</li>
</ul>
</div><p>截取当前屏幕并以PNG格式保存到path中. 如果文件不存在会被创建；文件存在会被覆盖.</p>
<p>该函数不会返回任何值. 该函数也可以作为全局函数使用.</p>
<h2>images.pixel(image, x, y)<span><a class="mark" href="#image_images_pixel_image_x_y" id="image_images_pixel_image_x_y">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">Image</span> } 图片</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要获取的像素的横坐标.</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要获取的像素的纵坐标.</li>
</ul>
</div><p>返回图片image在点(x, y)处的像素的ARGB值.</p>
<p>该值的格式为0xAARRGGBB, 是一个&quot;32位整数&quot;(虽然JavaScript中并不区分整数类型和其他数值类型).</p>
<p>坐标系以图片左上角为原点. 以图片左侧边为y轴, 上侧边为x轴.</p>
<h2>images.findColor(image, color, options)<span><a class="mark" href="#image_images_findcolor_image_color_options" id="image_images_findcolor_image_color_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">Image</span> } 图片</li>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要寻找的颜色的RGB值. 如果是一个整数, 则以0xRRGGBB的形式代表RGB值（A通道会被忽略）；如果是字符串, 则以&quot;#RRGGBB&quot;代表其RGB值.</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项</li>
</ul>
</div><p>在图片中寻找颜色color. 找到时返回找到的点Point, 找不到时返回null.</p>
<p>选项包括：</p>
<ul>
<li><code>region</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 找色区域. 是一个两个或四个元素的数组. (region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高. 如果只有region只有两个元素, 则找色区域为(region[0], region[1])到屏幕右下角. 如果不指定region选项, 则找色区域为整张图片.</li>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色时颜色相似度的临界值, 范围为0~255（越小越相似, 0为颜色相等, 255为任何颜色都能匹配）. 默认为4. threshold和浮点数相似度(0.0~1.0)的换算为 similarity = (255 - threshold) / 255.</li>
</ul>
<p>该函数也可以作为全局函数使用.</p>
<p>一个循环找色的例子如下：</p>
<pre><code>requestScreenCapture();

//循环找色, 找到红色(#ff0000)时停止并报告坐标
while(true){
    var img = captureScreen();
    var point = findColor(img, &quot;#ff0000&quot;);
    if(point){
        toast(&quot;找到红色, 坐标为(&quot; + point.x + &quot;, &quot; + point.y + &quot;)&quot;);
    }
}

</code></pre><p>一个区域找色的例子如下：</p>
<pre><code>//读取本地图片/sdcard/1.png
var img = images.read(&quot;/sdcard/1.png&quot;);
//判断图片是否加载成功
if(!img){
    toast(&quot;没有该图片&quot;);
    exit();
}
//在该图片中找色, 指定找色区域为在位置(400, 500)的宽为300长为200的区域, 指定找色临界值为4
var point = findColor(img, &quot;#00ff00&quot;, {
     region: [400, 500, 300, 200],
     threshold: 4
 });
if(point){
    toast(&quot;找到啦:&quot; + point);
}else{
    toast(&quot;没找到&quot;);
}
</code></pre><h2>images.findColorInRegion(img, color, x, y[, width, height, threshold])<span><a class="mark" href="#image_images_findcolorinregion_img_color_x_y_width_height_threshold" id="image_images_findcolorinregion_img_color_x_y_width_height_threshold">#</a></span></h2>
<p>区域找色的简便方法.</p>
<p>相当于</p>
<pre><code>images.findColor(img, color, {
     region: [x, y, width, height],
     threshold: threshold
});
</code></pre><p>该函数也可以作为全局函数使用.</p>
<h2>images.findColorEquals(img, color[, x, y, width, height])<span><a class="mark" href="#image_images_findcolorequals_img_color_x_y_width_height" id="image_images_findcolorequals_img_color_x_y_width_height">#</a></span></h2>
<div class="signature"><ul>
<li><code>img</code> { <span class="type">Image</span> } 图片</li>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要寻找的颜色</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色区域的左上角横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色区域的左上角纵坐标</li>
<li><code>width</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色区域的宽度</li>
<li><code>height</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色区域的高度</li>
<li>返回 { <span class="type">Point</span> }</li>
</ul>
</div><p>在图片img指定区域中找到颜色和color完全相等的某个点, 并返回该点的左边；如果没有找到, 则返回<code>null</code>.</p>
<p>找色区域通过<code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>指定, 如果不指定找色区域, 则在整张图片中寻找.</p>
<p>该函数也可以作为全局函数使用.</p>
<p>示例：
(通过找QQ红点的颜色来判断是否有未读消息)</p>
<pre><code>requestScreenCapture();
launchApp(&quot;QQ&quot;);
sleep(1200);
var p = findColorEquals(captureScreen(), &quot;#f64d30&quot;);
if(p){
    toast(&quot;有未读消息&quot;);
}else{
    toast(&quot;没有未读消息&quot;);
}
</code></pre><h2>images.findMultiColors(img, firstColor, colors[, options])<span><a class="mark" href="#image_images_findmulticolors_img_firstcolor_colors_options" id="image_images_findmulticolors_img_firstcolor_colors_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>img</code> { <span class="type">Image</span> } 要找色的图片</li>
<li><code>firstColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 第一个点的颜色</li>
<li><code>colors</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 表示剩下的点相对于第一个点的位置和颜色的数组, 数组的每个元素为[x, y, color]</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 选项, 包括：<ul>
<li><code>region</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 找色区域. 是一个两个或四个元素的数组. (region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高. 如果只有region只有两个元素, 则找色区域为(region[0], region[1])到屏幕右下角. 如果不指定region选项, 则找色区域为整张图片.</li>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找色时颜色相似度的临界值, 范围为0~255（越小越相似, 0为颜色相等, 255为任何颜色都能匹配）. 默认为4. threshold和浮点数相似度(0.0~1.0)的换算为 similarity = (255 - threshold) / 255.</li>
</ul>
</li>
</ul>
</div><p>多点找色, 类似于按键精灵的多点找色, 其过程如下：</p>
<ol>
<li>在图片img中找到颜色firstColor的位置(x0, y0)</li>
<li>对于数组colors的每个元素[x, y, color], 检查图片img在位置(x + x0, y + y0)上的像素是否是颜色color, 是的话返回(x0, y0), 否则继续寻找firstColor的位置, 重新执行第1步</li>
<li>整张图片都找不到时返回<code>null</code></li>
</ol>
<p>例如, 对于代码<code>images.findMultiColors(img, &quot;#123456&quot;, [[10, 20, &quot;#ffffff&quot;], [30, 40, &quot;#000000&quot;]])</code>, 假设图片在(100, 200)的位置的颜色为#123456, 这时如果(110, 220)的位置的颜色为#fffff且(130, 240)的位置的颜色为#000000, 则函数返回点(100, 200).</p>
<p>如果要指定找色区域, 则在options中指定, 例如:</p>
<pre><code>var p = images.findMultiColors(img, &quot;#123456&quot;, [[10, 20, &quot;#ffffff&quot;], [30, 40, &quot;#000000&quot;]], {
    region: [0, 960, 1080, 960]
});
</code></pre><h2>images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])<span><a class="mark" href="#image_images_detectscolor_image_color_x_y_threshold_16_algorithm_diff" id="image_images_detectscolor_image_color_x_y_threshold_16_algorithm_diff">#</a></span></h2>
<div class="signature"><ul>
<li><code>image</code> { <span class="type">Image</span> } 图片</li>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要检测的颜色</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要检测的位置横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 要检测的位置纵坐标</li>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色相似度临界值, 默认为16. 取值范围为0~255.</li>
<li><p><code>algorithm</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 颜色匹配算法, 包括:</p>
<ul>
<li>&quot;equal&quot;: 相等匹配, 只有与给定颜色color完全相等时才匹配.</li>
<li>&quot;diff&quot;: 差值匹配. 与给定颜色的R、G、B差的绝对值之和小于threshold时匹配.</li>
<li><p>&quot;rgb&quot;: rgb欧拉距离相似度. 与给定颜色color的rgb欧拉距离小于等于threshold时匹配.</p>
</li>
<li><p>&quot;rgb+&quot;: 加权rgb欧拉距离匹配(<a href="https://en.wikipedia.org/wiki/Color_difference/">LAB Delta E</a>).</p>
</li>
<li>&quot;hs&quot;: hs欧拉距离匹配. hs为HSV空间的色调值.</li>
</ul>
</li>
</ul>
</div><p>返回图片image在位置(x, y)处是否匹配到颜色color. 用于检测图片中某个位置是否是特定颜色.</p>
<p>一个判断微博客户端的某个微博是否被点赞过的例子：</p>
<pre><code>requestScreenCapture();
//找到点赞控件
var like = id(&quot;ly_feed_like_icon&quot;).findOne();
//获取该控件中点坐标
var x = like.bounds().centerX();
var y = like.bounds().centerY();
//截图
var img = captureScreen();
//判断在该坐标的颜色是否为橙红色
if(images.detectsColor(img, &quot;#fed9a8&quot;, x, y)){
    //是的话则已经是点赞过的了, 不做任何动作
}else{
    //否则点击点赞按钮
    like.click();
}
</code></pre><h2>images.findImage(img, template[, options])<span><a class="mark" href="#image_images_findimage_img_template_options" id="image_images_findimage_img_template_options">#</a></span></h2>
<div class="signature"><ul>
<li><code>img</code> { <span class="type">Image</span> } 大图片</li>
<li><code>template</code> { <span class="type">Image</span> } 小图片（模板）</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 找图选项</li>
</ul>
</div><p>找图. 在大图片img中查找小图片template的位置（模块匹配）, 找到时返回位置坐标(Point), 找不到时返回null.</p>
<p>选项包括：</p>
<ul>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 图片相似度. 取值范围为0~1的浮点数. 默认值为0.9.</li>
<li><code>region</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 找图区域. 参见findColor函数关于region的说明.</li>
<li><code>level</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } <strong>一般而言不必修改此参数</strong>. 不加此参数时该参数会根据图片大小自动调整. 找图算法是采用图像金字塔进行的, level参数表示金字塔的层次, level越大可能带来越高的找图效率, 但也可能造成找图失败（图片因过度缩小而无法分辨）或返回错误位置. 因此, 除非您清楚该参数的意义并需要进行性能调优, 否则不需要用到该参数.</li>
</ul>
<p>该函数也可以作为全局函数使用.</p>
<p>一个最简单的找图例子如下：</p>
<pre><code>var img = images.read(&quot;/sdcard/大图.png&quot;);
var templ = images.read(&quot;/sdcard/小图.png&quot;);
var p = findImage(img, templ);
if(p){
    toast(&quot;找到啦:&quot; + p);
}else{
    toast(&quot;没找到&quot;);
}
</code></pre><p>稍微复杂点的区域找图例子如下：</p>
<pre><code>auto();
requestScreenCapture();
var wx = images.read(&quot;/sdcard/微信图标.png&quot;);
//返回桌面
home();
//截图并找图
var p = findImage(captureScreen(), wx, {
    region: [0, 50],
    threshold: 0.8
});
if(p){
    toast(&quot;在桌面找到了微信图标啦: &quot; + p);
}else{
    toast(&quot;在桌面没有找到微信图标&quot;);
}
</code></pre><h2>images.findImageInRegion(img, template, x, y[, width, height, threshold])<span><a class="mark" href="#image_images_findimageinregion_img_template_x_y_width_height_threshold" id="image_images_findimageinregion_img_template_x_y_width_height_threshold">#</a></span></h2>
<p>区域找图的简便方法. 相当于：</p>
<pre><code>images.findImage(img, template, {
    region: [x, y, width, height],
    threshold: threshold
})
</code></pre><p>该函数也可以作为全局函数使用.</p>
<h2>images.matchTemplate(img, template, options)<span><a class="mark" href="#image_images_matchtemplate_img_template_options" id="image_images_matchtemplate_img_template_options">#</a></span></h2>
<p><strong>[v4.1.0新增]</strong></p>
<ul>
<li><code>img</code> { <span class="type">Image</span> } 大图片</li>
<li><code>template</code> { <span class="type">Image</span> } 小图片（模板）</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 找图选项：<ul>
<li><code>threshold</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 图片相似度. 取值范围为0~1的浮点数. 默认值为0.9.</li>
<li><code>region</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 找图区域. 参见findColor函数关于region的说明.</li>
<li><code>max</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 找图结果最大数量, 默认为5</li>
<li><code>level</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } <strong>一般而言不必修改此参数</strong>. 不加此参数时该参数会根据图片大小自动调整. 找图算法是采用图像金字塔进行的, level参数表示金字塔的层次, level越大可能带来越高的找图效率, 但也可能造成找图失败（图片因过度缩小而无法分辨）或返回错误位置. 因此, 除非您清楚该参数的意义并需要进行性能调优, 否则不需要用到该参数.</li>
</ul>
</li>
<li>返回 { <span class="type">MatchingResult</span> }</li>
</ul>
<p>在大图片中搜索小图片, 并返回搜索结果MatchingResult. 该函数可以用于找图时找出多个位置, 可以通过max参数控制最大的结果数量. 也可以对匹配结果进行排序、求最值等操作.</p>
<h1>MatchingResult<span><a class="mark" href="#image_matchingresult" id="image_matchingresult">#</a></span></h1>
<p><strong>[v4.1.0新增]</strong></p>
<h2>matches<span><a class="mark" href="#image_matches" id="image_matches">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 匹配结果的数组.</li>
</ul>
</div><p>数组的元素是一个Match对象：</p>
<ul>
<li><code>point</code> { <span class="type">Point</span> } 匹配位置</li>
<li><code>similarity</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 相似度</li>
</ul>
<p>例如:</p>
<pre><code>var result = images.matchTemplate(img, template, {
    max: 100
});
result.matches.forEach(match =&gt; {
    log(&quot;point = &quot; + match.point + &quot;, similarity = &quot; + match.similarity);
});
</code></pre><h2>points<span><a class="mark" href="#image_points" id="image_points">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 匹配位置的数组.</li>
</ul>
</div><h2>first()<span><a class="mark" href="#image_first" id="image_first">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>第一个匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>last()<span><a class="mark" href="#image_last" id="image_last">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>最后一个匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>leftmost()<span><a class="mark" href="#image_leftmost" id="image_leftmost">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>位于大图片最左边的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>topmost()<span><a class="mark" href="#image_topmost" id="image_topmost">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>位于大图片最上边的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>rightmost()<span><a class="mark" href="#image_rightmost" id="image_rightmost">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>位于大图片最右边的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>bottommost()<span><a class="mark" href="#image_bottommost" id="image_bottommost">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>位于大图片最下边的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>best()<span><a class="mark" href="#image_best" id="image_best">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>相似度最高的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>worst()<span><a class="mark" href="#image_worst" id="image_worst">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <span class="type">Match</span> }</li>
</ul>
</div><p>相似度最低的匹配结果. 如果没有任何匹配, 则返回<code>null</code>.</p>
<h2>sortBy(cmp)<span><a class="mark" href="#image_sortby_cmp" id="image_sortby_cmp">#</a></span></h2>
<div class="signature"><ul>
<li>cmp { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> }|{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 比较函数, 或者是一个字符串表示排序方向. 例如&quot;left&quot;表示将匹配结果按匹配位置从左往右排序、&quot;top&quot;表示将匹配结果按匹配位置从上往下排序, &quot;left-top&quot;表示将匹配结果按匹配位置从左往右、从上往下排序. 方向包括<code>left</code>（左）, <code>top</code> （上）, <code>right</code> （右）, <code>bottom</code>（下）.</li>
<li>{ <span class="type">MatchingResult</span> }</li>
</ul>
</div><p>对匹配结果进行排序, 并返回排序后的结果.</p>
<pre><code>var result = images.matchTemplate(img, template, {
    max: 100
});
log(result.sortBy(&quot;top-right&quot;));
</code></pre><h1>Image<span><a class="mark" href="#image_image" id="image_image">#</a></span></h1>
<p>表示一张图片, 可以是截图的图片, 或者本地读取的图片, 或者从网络获取的图片.</p>
<h2>Image.getWidth()<span><a class="mark" href="#image_image_getwidth" id="image_image_getwidth">#</a></span></h2>
<p>返回以像素为单位图片宽度.</p>
<h2>Image.getHeight()<span><a class="mark" href="#image_image_getheight" id="image_image_getheight">#</a></span></h2>
<p>返回以像素为单位的图片高度.</p>
<h2>Image.saveTo(path)<span><a class="mark" href="#image_image_saveto_path" id="image_image_saveto_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
</ul>
</div><p>把图片保存到路径path. （如果文件存在则覆盖）</p>
<h2>Image.pixel(x, y)<span><a class="mark" href="#image_image_pixel_x_y" id="image_image_pixel_x_y">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 横坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 纵坐标</li>
</ul>
</div><p>返回图片image在点(x, y)处的像素的ARGB值.</p>
<p>该值的格式为0xAARRGGBB, 是一个&quot;32位整数&quot;(虽然JavaScript中并不区分整数类型和其他数值类型).</p>
<p>坐标系以图片左上角为原点. 以图片左侧边为y轴, 上侧边为x轴.</p>
<p>##</p>
<h1>Point<span><a class="mark" href="#image_point" id="image_point">#</a></span></h1>
<p>findColor, findImage返回的对象. 表示一个点（坐标）.</p>
<h2>Point.x<span><a class="mark" href="#image_point_x" id="image_point_x">#</a></span></h2>
<p>横坐标.</p>
<h2>Point.y<span><a class="mark" href="#image_point_y" id="image_point_y">#</a></span></h2>
<p>纵坐标.</p>
<!-- [end-include:image.md] -->
<!-- [start-include:ocr.md] -->
<h1>光学字符识别 (OCR)<span><a class="mark" href="#ocr_ocr" id="ocr_ocr">#</a></span></h1>
<p>ocr 模块用于识别图像中的文本.</p>
<p>AutoJs6 的 OCR 特性是基于 <a href="https://developers.google.com/ml-kit?hl=zh-cn">Google ML Kit</a> 的 <a href="https://developers.google.com/ml-kit/vision/text-recognition/android?hl=zh-cn">文字识别 API</a> 及 <a href="https://www.paddlepaddle.org.cn/">Baidu PaddlePaddle</a> 的 <a href="https://github.com/PaddlePaddle/Paddle-Lite">Paddle Lite</a> 实现的.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">ocr</p>

<hr>
<h2>[@] ocr<span><a class="mark" href="#ocr_ocr_1" id="ocr_ocr_1">#</a></span></h2>
<p>ocr 可作为全局对象使用:</p>
<pre><code class="lang-js">typeof ocr; // &quot;function&quot;
typeof ocr.detect; // &quot;function&quot;
typeof ocr.recognizeText; // &quot;function&quot;
</code></pre>
<h3>ocr(options?)<span><a class="mark" href="#ocr_ocr_options" id="ocr_ocr_options">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload [1-2]/9</code></strong></p>
<ul>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图中包含的所有文本, 返回文本数组.</p>
<p><code>ocr()</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr(img);
</code></pre>
<p>同时也是 <a href="#all_m_recognizetext">ocr.recognizeText(options?)</a> 的别名方法.</p>
<h3>ocr(region)<span><a class="mark" href="#ocr_ocr_region" id="ocr_ocr_region">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload 3/9</code></strong></p>
<ul>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图指定区域内包含的所有文本, 返回文本数组.</p>
<p><code>ocr(region)</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr(img, region);
</code></pre>
<p>同时也是 <a href="#all__ocr">ocr({ <span class="type">region: region</span> })</a> 的便捷方法,</p>
<p>以及 <a href="#all_m_recognizetext">ocr.recognizeText(region)</a> 的别名方法.</p>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>ocr(img, options?)<span><a class="mark" href="#ocr_ocr_img_options" id="ocr_ocr_img_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [4-5]/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别图像包含的所有文本, 返回文本数组.</p>
<p><a href="#all_m_recognizetext">ocr.recognizeText(img, options?)</a> 的别名方法.</p>
<pre><code class="lang-js">/* 申请屏幕截图权限. */
images.requestScreenCapture();

/* 截屏并获取包装图像对象. */
let img = images.captureScreen();

/* OCR 识别并获取结果, 结果为字符串数组. */
let results = ocr(img);

/* 结果过滤, 筛选出文本中可部分匹配 &quot;app&quot; 的结果, 如 &quot;apple&quot;, &quot;disappear&quot; 等. */
results.filter(text =&gt; text.includes(&#39;app&#39;));
</code></pre>
<h3>ocr(img, region)<span><a class="mark" href="#ocr_ocr_img_region" id="ocr_ocr_img_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 6/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定区域内图像包含的所有文本, 返回文本数组.</p>
<p><a href="#all__ocr">ocr(img, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p><a href="#all_m_recognizetext">ocr.recognizeText(img, region)</a> 的别名方法.</p>
<pre><code class="lang-js">/* 申请屏幕截图权限. */
images.requestScreenCapture();

/* 截屏并获取包装图像对象. */
let img = images.captureScreen();

/* 在区域 [ 0, 0, 100, 150 ] 内进行 OCR 识别并获取结果, 结果为字符串数组. */
let results = ocr(img, [ 0, 0, 100, 150 ]);

/* 结果过滤, 筛选出文本中可部分匹配 &quot;app&quot; 的结果, 如 &quot;apple&quot;, &quot;disappear&quot; 等. */
results.filter(text =&gt; text.includes(&#39;app&#39;)); 
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>ocr(imgPath, options?)<span><a class="mark" href="#ocr_ocr_imgpath_options" id="ocr_ocr_imgpath_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [7-8]/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像包含的所有文本, 返回文本数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<p><a href="#all_m_recognizetext">ocr.recognizeText(imgPath, options?)</a> 的别名方法.</p>
<pre><code class="lang-js">ocr(&#39;./picture.jpg&#39;); /* 获取本地图像文件中的所有文本. */
</code></pre>
<h3>ocr(imgPath, region)<span><a class="mark" href="#ocr_ocr_imgpath_region" id="ocr_ocr_imgpath_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 9/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像在指定区域内包含的所有文本, 返回文本数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<p><a href="#all__ocr">ocr(imgPath, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p><a href="#all_m_recognizetext">ocr.recognizeText(imgPath, region)</a> 的别名方法.</p>
<pre><code class="lang-js">/* 获取本地图像文件在区域 [ 0, 0, 100, 150 ] 内的所有文本. */
ocr(&#39;./picture.jpg&#39;, [ 0, 0, 100, 150 ]);
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h2>[p] mode<span><a class="mark" href="#ocr_p_mode" id="ocr_p_mode">#</a></span></h2>
<p><strong><code>6.3.4</code></strong> <strong><code>Getter/Setter</code></strong></p>
<ul>
<li><strong>[ &lt;get&gt; = <code>&#39;mlkit&#39;</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_ocrModeName">OcrModeName</a></span> }</li>
<li><strong>&lt;set&gt;</strong> { <span class="type"><a href="dataTypes.html#datatypes_ocrModeName">OcrModeName</a></span> }</li>
</ul>
<p>获取或设置 OCR 的工作模式名称.</p>
<pre><code class="lang-js">/* AutoJs6 OCR 默认采用 MLKit 工作模式. */
console.log(ocr.mode); // &quot;mlkit&quot;

ocr.mode = &#39;paddle&#39;; /* 切换到 Paddle 工作模式. */
console.log(ocr.mode); // &quot;paddle&quot;

ocr.mode = &#39;mlkit&#39;; /* 再次切换到 MLKit 工作模式. */
console.log(ocr.mode); // &quot;mlkit&quot;
</code></pre>
<p>当使用不同的工作模式名称时, <code>ocr</code> 全局方法及其相关方法 (如 <a href="#all_m_detect">ocr.detect</a>) 将使用不同的引擎, 进而可能获得不同的识别速度和结果.</p>
<blockquote>
<p>注: 使用 Paddle 工作模式时, 建议开启 AutoJs6 的 &quot;忽略电池优化&quot; 开关, 并降低对 AutoJs6 节电及后台运行等方面的限制, 否则可能导致应用崩溃.</p>
</blockquote>
<h2>[m] recognizeText<span><a class="mark" href="#ocr_m_recognizetext" id="ocr_m_recognizetext">#</a></span></h2>
<p>用于识别图像中的全部文本.</p>
<p><code>recognizeText</code> 方法与工作模式有关, 例如当工作模式为 <code>paddle</code> 时, <code>ocr.recognizeText(...)</code> 与 <code>ocr.paddle.recognizeText(...)</code> 等价.</p>
<p><code>ocr.recognizeText(...)</code> 相关方法均可简写为 <code>ocr(...)</code>.</p>
<h3>recognizeText(options?)<span><a class="mark" href="#ocr_recognizetext_options" id="ocr_recognizetext_options">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload [1-2]/9</code></strong></p>
<ul>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图中包含的所有文本, 返回文本数组.</p>
<p><code>ocr.recognizeText()</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr.recognizeText(img);
</code></pre>
<p><code>ocr.recognizeText(options?)</code> 与 <code>ocr(options?)</code> 等价.</p>
<h3>recognizeText(region)<span><a class="mark" href="#ocr_recognizetext_region" id="ocr_recognizetext_region">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload 3/9</code></strong></p>
<ul>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图指定区域内包含的所有文本, 返回文本数组.</p>
<p><code>ocr.recognizeText(region)</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr.recognizeText(img, region);
</code></pre>
<p><a href="#all_m_recognizeText">ocr.recognizeText({ <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p><code>ocr.recognizeText(region)</code> 与 <code>ocr(region)</code> 等价.</p>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>recognizeText(img, options?)<span><a class="mark" href="#ocr_recognizetext_img_options" id="ocr_recognizetext_img_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [4-5]/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别图像包含的所有文本, 返回文本数组.</p>
<p><code>ocr.recognizeText(img, options?)</code> 与 <code>ocr(img, options?)</code> 等价.</p>
<pre><code class="lang-js">images.requestScreenCapture(); /* 申请屏幕截图权限. */
let img = images.captureScreen(); /* 截屏并获取包装图像对象. */
ocr.recognizeText(img).filter(text =&gt; text.includes(&#39;app&#39;)); /* 过滤结果. */
</code></pre>
<h3>recognizeText(img, region)<span><a class="mark" href="#ocr_recognizetext_img_region" id="ocr_recognizetext_img_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 6/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定区域内图像包含的所有文本, 返回文本数组.</p>
<p><a href="#all_m_recognizeText">ocr.recognizeText(img, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p><code>ocr.recognizeText(img, region)</code> 与 <code>ocr(img, region)</code> 等价.</p>
<pre><code class="lang-js">images.requestScreenCapture(); /* 申请屏幕截图权限. */
let img = images.captureScreen(); /* 截屏并获取包装图像对象. */
ocr.recognizeText(img, [ 0, 0, 100, 150 ]).filter(text =&gt; text.includes(&#39;app&#39;)); /* 过滤结果. */
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>recognizeText(imgPath, options?)<span><a class="mark" href="#ocr_recognizetext_imgpath_options" id="ocr_recognizetext_imgpath_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [7-8]/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像包含的所有文本, 返回文本数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<p><code>ocr.recognizeText(imgPath, options?)</code> 与 <code>ocr(imgPath, options?)</code> 等价.</p>
<pre><code class="lang-js">ocr.recognizeText(&#39;./picture.jpg&#39;); /* 获取本地图像文件中的所有文本. */
</code></pre>
<h3>recognizeText(imgPath, region)<span><a class="mark" href="#ocr_recognizetext_imgpath_region" id="ocr_recognizetext_imgpath_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 9/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像在指定区域内包含的所有文本, 返回文本数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<p><a href="#all_m_recognizetext">ocr.recognizeText(imgPath, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p><code>ocr.recognizeText(imgPath, region)</code> 与 <code>ocr(imgPath, region)</code> 等价.</p>
<pre><code class="lang-js">/* 获取本地图像文件在区域 [ 0, 0, 100, 150 ] 内的所有文本. */
ocr.recognizeText(&#39;./picture.jpg&#39;, [ 0, 0, 100, 150 ]);
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h2>[m] detect<span><a class="mark" href="#ocr_m_detect" id="ocr_m_detect">#</a></span></h2>
<p>用于识别图像中的全部文本.</p>
<p><code>detect</code> 方法与工作模式有关, 例如当工作模式为 <code>paddle</code> 时, <code>ocr.detect(...)</code> 与 <code>ocr.paddle.detect(...)</code> 等价.</p>
<p>与 <a href="#all_m_recognizetext">recognizeText</a> 不同, <code>detect</code> 返回的结果包含更多信息, 包括 [ 文本标签, 置信度, 位置矩形 ] 等, <code>recognizeText</code> 精简了 <code>detect</code> 返回的结果, 仅包含文本标签数据.</p>
<h3>detect(options?)<span><a class="mark" href="#ocr_detect_options" id="ocr_detect_options">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload [1-2]/9</code></strong></p>
<ul>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图中包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<p><code>ocr.detect()</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr.detect(img);
</code></pre>
<h3>detect(region)<span><a class="mark" href="#ocr_detect_region" id="ocr_detect_region">#</a></span></h3>
<p><strong><code>6.4.0</code></strong> <strong><code>Overload 3/9</code></strong></p>
<ul>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别当前屏幕截图指定区域内包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<p><code>ocr.detect(region)</code> 相当于以下代码的整合:</p>
<pre><code class="lang-js">images.requestScreenCapture();
let img = images.captureScreen();
ocr.detect(img, region);
</code></pre>
<p>同时也是 <a href="#all_m_detect">ocr.detect({ <span class="type">region: region</span> })</a> 的便捷方法.</p>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>detect(img, options?)<span><a class="mark" href="#ocr_detect_img_options" id="ocr_detect_img_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [4-5]/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别图像包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<pre><code class="lang-js">/* 申请屏幕截图权限. */
images.requestScreenCapture();

/* 截屏并获取包装图像对象. */
let img = images.captureScreen();

/* 获取本地图像文件中的所有识别结果. */
let result = ocr.detect(img);

/* 筛选置信度高于 0.8 的结果. */
result.filter(o =&gt; o.confidence &gt;= 0.8);
</code></pre>
<h3>detect(img, region)<span><a class="mark" href="#ocr_detect_img_region" id="ocr_detect_img_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 6/9</code></strong></p>
<ul>
<li><strong>img</strong> { <span class="type"><a href="imageWrapperType.html">ImageWrapper</a></span> } - 包装图像对象</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像在指定区域内包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<p><a href="#all_m_detect">ocr.detect(img, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<pre><code class="lang-js">/* 申请屏幕截图权限. */
images.requestScreenCapture();

/* 截屏并获取包装图像对象. */
let img = images.captureScreen();

/* 获取本地图像文件在区域 [ 0, 0, 100, 150 ] 内的所有识别结果. */
let result = ocr.detect(img, [ 0, 0, 100, 150 ]);

/* 筛选置信度高于 0.8 的结果. */
result.filter(o =&gt; o.confidence &gt;= 0.8);
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h3>detect(imgPath, options?)<span><a class="mark" href="#ocr_detect_imgpath_options" id="ocr_detect_imgpath_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [7-8]/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="ocrOptionsType.html">OcrOptions</a></span> } - OCR 识别选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<pre><code class="lang-js">let result = ocr.detect(&#39;./picture.jpg&#39;); /* 获取本地图像文件中的所有识别结果. */
result.filter(o =&gt; o.confidence &gt;= 0.8); /* 筛选置信度高于 0.8 的结果. */
</code></pre>
<h3>detect(imgPath, region)<span><a class="mark" href="#ocr_detect_imgpath_region" id="ocr_detect_imgpath_region">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 9/9</code></strong></p>
<ul>
<li><strong>imgPath</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 图像路径</li>
<li><strong>region</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omniregion">OmniRegion</a></span> } - OCR 识别区域</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_ocrresult">OcrResult</a><a href="dataTypes.html#datatypes_array">[]</a></span> }</li>
</ul>
<p>识别指定路径对应图像在指定区域内包含的所有文本, 返回 <a href="dataTypes.html#datatypes_ocrresult">OcrResult</a> 数组.</p>
<p>当指定路径无法解析为包装图像对象时, 将抛出 <code>TypeError</code> 异常.</p>
<p><a href="#all_m_detect">ocr.detect(imgPath, { <span class="type">region: region</span> })</a> 的便捷方法.</p>
<pre><code class="lang-js">/* 获取本地图像文件在区域 [ 0, 0, 100, 150 ] 内的所有识别结果. */
let result = ocr.detect(&#39;./picture.jpg&#39;, [ 0, 0, 100, 150 ]);

/* 筛选置信度高于 0.8 的结果. */
result.filter(o =&gt; o.confidence &gt;= 0.8);
</code></pre>
<p>关于 OCR 区域参数 <code>region</code> 的更多用法, 参阅 <a href="ocrOptionsType.html#ocroptionstype_p_region">OcrOptions#region</a> 小节.</p>
<h2>[m] tap<span><a class="mark" href="#ocr_m_tap" id="ocr_m_tap">#</a></span></h2>
<h3>tap(mode)<span><a class="mark" href="#ocr_tap_mode" id="ocr_tap_mode">#</a></span></h3>
<p><strong><code>6.3.4</code></strong></p>
<ul>
<li><strong>mode</strong> { <span class="type"><a href="dataTypes.html#datatypes_ocrModeName">OcrModeName</a></span> } - OCR 工作模式</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>用于切换 OCR 工作模式, 相当于 <a href="#all_p_mode">ocr.mode</a> 的 setter 形式.</p>
<pre><code class="lang-js">ocr.tap(&#39;paddle&#39;);
ocr.mode = &#39;paddle&#39;; /* 同上. */
</code></pre>
<h2>[m] summary<span><a class="mark" href="#ocr_m_summary" id="ocr_m_summary">#</a></span></h2>
<h3>summary()<span><a class="mark" href="#ocr_summary" id="ocr_summary">#</a></span></h3>
<p><strong><code>6.4.0</code></strong></p>
<p>获取 AutoJs6 OCR 功能的摘要.</p>
<p>摘要中表述了 OCR 功能当前使用的工作模式, 以及全部可用的工作模式.</p>
<pre><code class="lang-js">/* e.g. [ OCR summary ]
 * Current mode: mlkit
 * Available modes: [ mlkit, paddle ]
 */
console.log(ocr.summary());
</code></pre>
<h2>工作模式与代码形式<span><a class="mark" href="#ocr" id="ocr">#</a></span></h2>
<p>截止 2023 年 9 月, AutoJs6 的 ocr 支持两种工作模式, <code>mlkit</code> (默认) 及 <code>paddle</code>.</p>
<p>工作模式的获取或设置可通过 <a href="#all_p_mode">ocr.mode</a> 实现.</p>
<p>下面以 <code>mlkit</code> 为例, 总结 <code>mlkit</code> 工作模式可用的全部代码形式.</p>
<ol>
<li>ocr.mlkit.detect(...)</li>
<li>ocr.mlkit.recognizeText(...)</li>
<li>ocr.mlkit(...)</li>
<li><a href="#all_m_detect">ocr.detect(...)</a></li>
<li><a href="#all_m_recognizetext">ocr.recognizeText(...)</a></li>
<li><a href="#all__ocr">ocr(...)</a></li>
</ol>
<p>上述 6 种代码形式均可实现使用 <code>mlkit</code> 引擎进行光学字符识别.</p>
<p>其中, [ 3 ] 是 [ 2 ] 的简便写法, [ 6 ] 是 [ 5 ] 的简便写法.</p>
<p>另外, [ 4, 5, 6 ] 三种形式的条件, 是 OCR 工作模式为 <code>mlkit</code>, 即 <code>ocr.mode</code> 返回 <code>mlkit</code>. 否则需要调用 <code>ocr.mode = &#39;mlkit&#39;</code> 切换工作模式.</p>
<p>下面再以 <code>paddle</code> 为例, 总结 <code>paddle</code> 工作模式可用的全部代码形式.</p>
<ol>
<li>ocr.paddle.detect(...)</li>
<li>ocr.paddle.recognizeText(...)</li>
<li>ocr.paddle(...)</li>
<li><a href="#all_m_detect">ocr.detect(...)</a></li>
<li><a href="#all_m_recognizetext">ocr.recognizeText(...)</a></li>
<li><a href="#all__ocr">ocr(...)</a></li>
</ol>
<p>同样, [ 4, 5, 6 ] 三种形式的条件, 是 OCR 工作模式为 <code>paddle</code>, 即 <code>ocr.mode</code> 返回 <code>paddle</code>. 否则需要调用 <code>ocr.mode = &#39;paddle&#39;</code> 切换工作模式.</p>
<p>由此可见, <code>ocr(...)</code> 和 <code>ocr.detect(...)</code> 等方法是动态变化的, 其功能取决于工作模式. 这种形式的优点是写法简单, 但可读性相对较差, 可能难以辨识 OCR 的具体工作引擎. 如需兼顾可读性, 则可使用 <code>ocr.mlkit(...)</code> 和 <code>ocr.mlkit.detect(...)</code> 等形式.
<!-- [end-include:ocr.md] --></p>
<!-- [start-include:barcode.md] -->
<h1>条码 (Barcode)<span><a class="mark" href="#barcode_barcode" id="barcode_barcode">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 30, 2023.</p>

<hr>
<p>barcode 模块用于识别图像中的条码.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">barcode</p>

<hr>
<pre><code class="lang-ts">interface Barcode {

    (options?: DetectOptions): string | string[] | null;
    (isAll: boolean): string | string[] | null;
    (img: ImageWrapper | string, options?: DetectOptions): string | string[] | null;
    (img: ImageWrapper | string, isAll: boolean): string | string[] | null;

    detect(options?: DetectOptions): Barcode.Result | Barcode.Result[] | null;
    detect(isAll: boolean): Barcode.Result | Barcode.Result[] | null;
    detect(img: ImageWrapper | string, options?: DetectOptions): Barcode.Result | Barcode.Result[] | null;
    detect(img: ImageWrapper | string, isAll: boolean): Barcode.Result | Barcode.Result[] | null;

    detectAll(options?: DetectOptionsWithoutIsAll): Barcode.Result[];
    detectAll(img: ImageWrapper | string, options?: DetectOptionsWithoutIsAll): Barcode.Result[];

    recognizeText(options?: DetectOptions): string | string[] | null;
    recognizeText(isAll: boolean): string | string[] | null;
    recognizeText(img: ImageWrapper | string, options?: DetectOptions): string | string[] | null;
    recognizeText(img: ImageWrapper | string, isAll: boolean): string | string[] | null;

    recognizeTexts(options?: DetectOptionsWithoutIsAll): string[];
    recognizeTexts(img: ImageWrapper | string, options?: DetectOptionsWithoutIsAll): string[];

}
</code></pre>
<!-- [end-include:barcode.md] -->
<!-- [start-include:qrcode.md] -->
<h1>二维码 (QR Code)<span><a class="mark" href="#qrcode_qr_code" id="qrcode_qr_code">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 30, 2023.</p>

<hr>
<p>qrcode 模块用于识别图像中的二维码.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">qrcode</p>

<hr>
<pre><code class="lang-ts">interface QrCode {

    (options?: DetectOptions): string | string[] | null;
    (isAll: boolean): string | string[] | null;
    (img: ImageWrapper | string, options?: DetectOptions): string | string[] | null;
    (img: ImageWrapper | string, isAll: boolean): string | string[] | null;

    detect(options?: DetectOptions): QrCode.Result | QrCode.Result[] | null;
    detect(isAll: boolean): QrCode.Result | QrCode.Result[] | null;
    detect(img: ImageWrapper | string, options?: DetectOptions): QrCode.Result | QrCode.Result[] | null;
    detect(img: ImageWrapper | string, isAll: boolean): QrCode.Result | QrCode.Result[] | null;

    detectAll(options?: DetectOptionsWithoutIsAll): QrCode.Result[];
    detectAll(img: ImageWrapper | string, options?: DetectOptionsWithoutIsAll): QrCode.Result[];

    recognizeText(options?: DetectOptions): string | string[] | null;
    recognizeText(isAll: boolean): string | string[] | null;
    recognizeText(img: ImageWrapper | string, options?: DetectOptions): string | string[] | null;
    recognizeText(img: ImageWrapper | string, isAll: boolean): string | string[] | null;

    recognizeTexts(options?: DetectOptionsWithoutIsAll): string[];
    recognizeTexts(img: ImageWrapper | string, options?: DetectOptionsWithoutIsAll): string[];

}
</code></pre>
<!-- [end-include:qrcode.md] -->
<!-- [start-include:keys.md] -->
<h1>按键 (Keys)<span><a class="mark" href="#keys_keys" id="keys_keys">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>按键模拟部分提供了一些模拟物理按键的全局函数, 包括Home、音量键、照相键等, 有的函数依赖于无障碍服务, 有的函数依赖于root权限.</p>
<p>一般来说, 以大写字母开头的函数都依赖于root权限. 执行此类函数时, 如果没有root权限, 则函数执行后没有效果, 并会在控制台输出一个警告.</p>
<h2>back()<span><a class="mark" href="#keys_back" id="keys_back">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>模拟按下返回键. 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>home()<span><a class="mark" href="#keys_home" id="keys_home">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>模拟按下Home键. 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>powerDialog()<span><a class="mark" href="#keys_powerdialog" id="keys_powerdialog">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>弹出电源键菜单. 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>notifications()<span><a class="mark" href="#keys_notifications" id="keys_notifications">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>拉出通知栏. 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>quickSettings()<span><a class="mark" href="#keys_quicksettings" id="keys_quicksettings">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>显示快速设置(下拉通知栏到底). 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>recents()<span><a class="mark" href="#keys_recents" id="keys_recents">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>显示最近任务. 返回是否执行成功.
此函数依赖于无障碍服务.</p>
<h2>splitScreen()<span><a class="mark" href="#keys_splitscreen" id="keys_splitscreen">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>分屏. 返回是否执行成功.
此函数依赖于无障碍服务, 并且需要系统自身功能的支持.</p>
<h2>Home()<span><a class="mark" href="#keys_home_1" id="keys_home_1">#</a></span></h2>
<p>模拟按下Home键.
此函数依赖于root权限.</p>
<h2>Back()<span><a class="mark" href="#keys_back_1" id="keys_back_1">#</a></span></h2>
<p>模拟按下返回键.
此函数依赖于root权限.</p>
<h2>Power()<span><a class="mark" href="#keys_power" id="keys_power">#</a></span></h2>
<p>模拟按下电源键.
此函数依赖于root权限.</p>
<h2>Menu()<span><a class="mark" href="#keys_menu" id="keys_menu">#</a></span></h2>
<p>模拟按下菜单键.
此函数依赖于root权限.</p>
<h2>VolumeUp()<span><a class="mark" href="#keys_volumeup" id="keys_volumeup">#</a></span></h2>
<p>按下音量上键.
此函数依赖于root权限.</p>
<h2>VolumeDown()<span><a class="mark" href="#keys_volumedown" id="keys_volumedown">#</a></span></h2>
<p>按键音量上键.
此函数依赖于root权限.</p>
<h2>Camera()<span><a class="mark" href="#keys_camera" id="keys_camera">#</a></span></h2>
<p>模拟按下照相键.</p>
<h2>Up()<span><a class="mark" href="#keys_up" id="keys_up">#</a></span></h2>
<p>模拟按下物理按键上.
此函数依赖于root权限.</p>
<h2>Down()<span><a class="mark" href="#keys_down" id="keys_down">#</a></span></h2>
<p>模拟按下物理按键下.
此函数依赖于root权限.</p>
<h2>Left()<span><a class="mark" href="#keys_left" id="keys_left">#</a></span></h2>
<p>模拟按下物理按键左.
此函数依赖于root权限.</p>
<h2>Right()<span><a class="mark" href="#keys_right" id="keys_right">#</a></span></h2>
<p>模拟按下物理按键右.
此函数依赖于root权限.</p>
<h2>OK()<span><a class="mark" href="#keys_ok" id="keys_ok">#</a></span></h2>
<p>模拟按下物理按键确定.
此函数依赖于root权限.</p>
<h2>Text(text)<span><a class="mark" href="#keys_text_text" id="keys_text_text">#</a></span></h2>
<div class="signature"><ul>
<li>text { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要输入的文字, 只能为英文或英文符号
输入文字text. 例如<code>Text(&quot;aaa&quot;);</code></li>
</ul>
</div><h2>KeyCode(code)<span><a class="mark" href="#keys_keycode_code" id="keys_keycode_code">#</a></span></h2>
<div class="signature"><ul>
<li>code { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | <String> 要按下的按键的数字代码或名称. 参见下表.
模拟物理按键. 例如<code>KeyCode(29)</code>和<code>KeyCode(&quot;KEYCODE_A&quot;)</code>是按下A键.</li>
</ul>
</div><h1>附录: KeyCode对照表<span><a class="mark" href="#keys_keycode" id="keys_keycode">#</a></span></h1>
<p>KeyCode KeyEvent Value</p>
<ul>
<li>KEYCODE_MENU 1</li>
<li>KEYCODE_SOFT_RIGHT 2</li>
<li>KEYCODE_HOME 3</li>
<li>KEYCODE_BACK 4</li>
<li>KEYCODE_CALL 5</li>
<li>KEYCODE_ENDCALL 6</li>
<li>KEYCODE_0 7</li>
<li>KEYCODE_1 8</li>
<li>KEYCODE_2 9</li>
<li>KEYCODE_3 10</li>
<li>KEYCODE_4 11</li>
<li>KEYCODE_5 12</li>
<li>KEYCODE_6 13</li>
<li>KEYCODE_7 14</li>
<li>KEYCODE_8 15</li>
<li>KEYCODE_9 16</li>
<li>KEYCODE_STAR 17</li>
<li>KEYCODE_POUND 18</li>
<li>KEYCODE_DPAD_UP 19</li>
<li>KEYCODE_DPAD_DOWN 20</li>
<li>KEYCODE_DPAD_LEFT 21</li>
<li>KEYCODE_DPAD_RIGHT 22</li>
<li>KEYCODE_DPAD_CENTER 23</li>
<li>KEYCODE_VOLUME_UP 24</li>
<li>KEYCODE_VOLUME_DOWN 25</li>
<li>KEYCODE_POWER 26</li>
<li>KEYCODE_CAMERA 27</li>
<li>KEYCODE_CLEAR 28</li>
<li>KEYCODE_A 29</li>
<li>KEYCODE_B 30</li>
<li>KEYCODE_C 31</li>
<li>KEYCODE_D 32</li>
<li>KEYCODE_E 33</li>
<li>KEYCODE_F 34</li>
<li>KEYCODE_G 35</li>
<li>KEYCODE_H 36</li>
<li>KEYCODE_I 37</li>
<li>KEYCODE_J 38</li>
<li>KEYCODE_K 39</li>
<li>KEYCODE_L 40</li>
<li>KEYCODE_M 41</li>
<li>KEYCODE_N 42</li>
<li>KEYCODE_O 43</li>
<li>KEYCODE_P 44</li>
<li>KEYCODE_Q 45</li>
<li>KEYCODE_R 46</li>
<li>KEYCODE_S 47</li>
<li>KEYCODE_T 48</li>
<li>KEYCODE_U 49</li>
<li>KEYCODE_V 50</li>
<li>KEYCODE_W 51</li>
<li>KEYCODE_X 52</li>
<li>KEYCODE_Y 53</li>
<li>KEYCODE_Z 54</li>
<li>KEYCODE_COMMA 55</li>
<li>KEYCODE_PERIOD 56</li>
<li>KEYCODE_ALT_LEFT 57</li>
<li>KEYCODE_ALT_RIGHT 58</li>
<li>KEYCODE_SHIFT_LEFT 59</li>
<li>KEYCODE_SHIFT_RIGHT 60</li>
<li>KEYCODE_TAB 61</li>
<li>KEYCODE_SPACE 62</li>
<li>KEYCODE_SYM 63</li>
<li>KEYCODE_EXPLORER 64</li>
<li>KEYCODE_ENVELOPE 65</li>
<li>KEYCODE_ENTER 66</li>
<li>KEYCODE_DEL 67</li>
<li>KEYCODE_GRAVE 68</li>
<li>KEYCODE_MINUS 69</li>
<li>KEYCODE_EQUALS 70</li>
<li>KEYCODE_LEFT_BRACKET 71</li>
<li>KEYCODE_RIGHT_BRACKET 72</li>
<li>KEYCODE_BACKSLASH 73</li>
<li>KEYCODE_SEMICOLON 74</li>
<li>KEYCODE_APOSTROPHE 75</li>
<li>KEYCODE_SLASH 76</li>
<li>KEYCODE_AT 77</li>
<li>KEYCODE_NUM 78</li>
<li>KEYCODE_HEADSETHOOK 79</li>
<li>KEYCODE_FOCUS 80</li>
<li>KEYCODE_PLUS 81</li>
<li>KEYCODE_MENU 82</li>
<li>KEYCODE_NOTIFICATION 83</li>
<li>KEYCODE_SEARCH 84</li>
<li>TAG_LAST_ KEYCODE 85  </li>
</ul>
<!-- [end-include:keys.md] -->
<!-- [start-include:device.md] -->
<h1>设备 (Device)<span><a class="mark" href="#device_device" id="device_device">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>device模块提供了与设备有关的信息与操作, 例如获取设备宽高, 内存使用率, IMEI, 调整设备亮度、音量等.</p>
<p>此模块的部分函数, 例如调整音量, 需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出<code>SecurityException</code>并跳转到权限设置界面.</p>
<h2>device.width<span><a class="mark" href="#device_device_width" id="device_device_width">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>设备屏幕分辨率宽度. 例如1080.</p>
<h2>device.height<span><a class="mark" href="#device_device_height" id="device_device_height">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>设备屏幕分辨率高度. 例如1920.</p>
<h2>device.buildId<span><a class="mark" href="#device_device_buildid" id="device_device_buildid">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>Either a changelist number, or a label like &quot;M4-rc20&quot;.</p>
<p>修订版本号, 或者诸如&quot;M4-rc20&quot;的标识.</p>
<h2>device.broad<span><a class="mark" href="#device_device_broad" id="device_device_broad">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The name of the underlying board, like &quot;goldfish&quot;.</p>
<p>设备的主板(?)型号.</p>
<h2>device.brand<span><a class="mark" href="#device_device_brand" id="device_device_brand">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The consumer-visible brand with which the product/hardware will be associated, if any.</p>
<p>与产品或硬件相关的厂商品牌, 如&quot;Xiaomi&quot;, &quot;Huawei&quot;等.</p>
<h2>device.device<span><a class="mark" href="#device_device_device" id="device_device_device">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The name of the industrial design.</p>
<p>设备在工业设计中的名称.</p>
<h2>device.model<span><a class="mark" href="#device_device_model" id="device_device_model">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The end-user-visible name for the end product.</p>
<p>设备型号.</p>
<h2>device.product<span><a class="mark" href="#device_device_product" id="device_device_product">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The name of the overall product.</p>
<p>整个产品的名称.</p>
<h2>device.bootloader<span><a class="mark" href="#device_device_bootloader" id="device_device_bootloader">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The system bootloader version number.</p>
<p>设备Bootloader的版本.</p>
<h2>device.hardware<span><a class="mark" href="#device_device_hardware" id="device_device_hardware">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The name of the hardware (from the kernel command line or /proc).</p>
<p>设备的硬件名称(来自内核命令行或者/proc).</p>
<h2>device.fingerprint<span><a class="mark" href="#device_device_fingerprint" id="device_device_fingerprint">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>A string that uniquely identifies this build. Do not attempt to parse this value.</p>
<p>构建(build)的唯一标识码.</p>
<h2>device.serial<span><a class="mark" href="#device_device_serial" id="device_device_serial">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>A hardware serial number, if available. Alphanumeric only, case-insensitive.</p>
<p>硬件序列号.</p>
<h2>device.sdkInt<span><a class="mark" href="#device_device_sdkint" id="device_device_sdkint">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>The user-visible SDK version of the framework; its possible values are defined in Build.VERSION_CODES.</p>
<p>安卓系统API版本. 例如安卓4.4的sdkInt为19.</p>
<h2>device.incremental<span><a class="mark" href="#device_device_incremental" id="device_device_incremental">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The internal value used by the underlying source control to represent this build. E.g., a perforce changelist number or a git hash.</p>
<h2>device.release<span><a class="mark" href="#device_device_release" id="device_device_release">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The user-visible version string. E.g., &quot;1.0&quot; or &quot;3.4b5&quot;.</p>
<p>Android系统版本号. 例如&quot;5.0&quot;, &quot;7.1.1&quot;.</p>
<h2>device.baseOS<span><a class="mark" href="#device_device_baseos" id="device_device_baseos">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The base OS build the product is based on.</p>
<h2>device.securityPatch<span><a class="mark" href="#device_device_securitypatch" id="device_device_securitypatch">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The user-visible security patch level.</p>
<p>安全补丁程序级别.</p>
<h2>device.codename<span><a class="mark" href="#device_device_codename" id="device_device_codename">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>The current development codename, or the string &quot;REL&quot; if this is a release build.</p>
<p>开发代号, 例如发行版是&quot;REL&quot;.</p>
<h2>device.getIMEI()<span><a class="mark" href="#device_device_getimei" id="device_device_getimei">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回设备的IMEI.</p>
<h2>device.getAndroidId()<span><a class="mark" href="#device_device_getandroidid" id="device_device_getandroidid">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回设备的Android ID.</p>
<p>Android ID为一个用16进制字符串表示的64位整数, 在设备第一次使用时随机生成, 之后不会更改, 除非恢复出厂设置.</p>
<h2>device.getMacAddress()<span><a class="mark" href="#device_device_getmacaddress" id="device_device_getmacaddress">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回设备的Mac地址. 该函数需要在有WLAN连接的情况下才能获取, 否则会返回null.</p>
<p><strong>可能的后续修改</strong>：未来可能增加有root权限的情况下通过root权限获取, 从而在没有WLAN连接的情况下也能返回正确的Mac地址, 因此请勿使用此函数判断WLAN连接.</p>
<h2>device.getBrightness()<span><a class="mark" href="#device_device_getbrightness" id="device_device_getbrightness">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回当前的(手动)亮度. 范围为0~255.</p>
<h2>device.getBrightnessMode()<span><a class="mark" href="#device_device_getbrightnessmode" id="device_device_getbrightnessmode">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回当前亮度模式, 0为手动亮度, 1为自动亮度.</p>
<h2>device.setBrightness(b)<span><a class="mark" href="#device_device_setbrightness_b" id="device_device_setbrightness_b">#</a></span></h2>
<div class="signature"><ul>
<li><code>b</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 亮度, 范围0~255</li>
</ul>
</div><p>设置当前手动亮度. 如果当前是自动亮度模式, 该函数不会影响屏幕的亮度.</p>
<p>此函数需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出SecurityException并跳转到权限设置界面.</p>
<h2>device.setBrightnessMode(mode)<span><a class="mark" href="#device_device_setbrightnessmode_mode" id="device_device_setbrightnessmode_mode">#</a></span></h2>
<div class="signature"><ul>
<li><code>mode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 亮度模式, 0为手动亮度, 1为自动亮度</li>
</ul>
</div><p>设置当前亮度模式.</p>
<p>此函数需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出SecurityException并跳转到权限设置界面.</p>
<h2>device.getMusicVolume()<span><a class="mark" href="#device_device_getmusicvolume" id="device_device_getmusicvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回当前媒体音量.</p>
<h2>device.getNotificationVolume()<span><a class="mark" href="#device_device_getnotificationvolume" id="device_device_getnotificationvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回当前通知音量.</p>
<h2>device.getAlarmVolume()<span><a class="mark" href="#device_device_getalarmvolume" id="device_device_getalarmvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回当前闹钟音量.</p>
<h2>device.getMusicMaxVolume()<span><a class="mark" href="#device_device_getmusicmaxvolume" id="device_device_getmusicmaxvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回媒体音量的最大值.</p>
<h2>device.getNotificationMaxVolume()<span><a class="mark" href="#device_device_getnotificationmaxvolume" id="device_device_getnotificationmaxvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回通知音量的最大值.</p>
<h2>device.getAlarmMaxVolume()<span><a class="mark" href="#device_device_getalarmmaxvolume" id="device_device_getalarmmaxvolume">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 整数值</li>
</ul>
</div><p>返回闹钟音量的最大值.</p>
<h2>device.setMusicVolume(volume)<span><a class="mark" href="#device_device_setmusicvolume_volume" id="device_device_setmusicvolume_volume">#</a></span></h2>
<div class="signature"><ul>
<li><code>volume</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 音量</li>
</ul>
</div><p>设置当前媒体音量.</p>
<p>此函数需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出SecurityException并跳转到权限设置界面.</p>
<h2>device.setNotificationVolume(volume)<span><a class="mark" href="#device_device_setnotificationvolume_volume" id="device_device_setnotificationvolume_volume">#</a></span></h2>
<div class="signature"><ul>
<li><code>volume</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 音量</li>
</ul>
</div><p>设置当前通知音量.</p>
<p>此函数需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出SecurityException并跳转到权限设置界面.</p>
<h2>device.setAlarmVolume(volume)<span><a class="mark" href="#device_device_setalarmvolume_volume" id="device_device_setalarmvolume_volume">#</a></span></h2>
<div class="signature"><ul>
<li><code>volume</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 音量</li>
</ul>
</div><p>设置当前闹钟音量.</p>
<p>此函数需要&quot;修改系统设置&quot;的权限. 如果没有该权限, 会抛出SecurityException并跳转到权限设置界面.</p>
<h2>device.getBattery()<span><a class="mark" href="#device_device_getbattery" id="device_device_getbattery">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 0.0~100.0的浮点数</li>
</ul>
</div><p>返回当前电量百分比.</p>
<h2>device.isCharging()<span><a class="mark" href="#device_device_ischarging" id="device_device_ischarging">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回设备是否正在充电.</p>
<h2>device.getTotalMem()<span><a class="mark" href="#device_device_gettotalmem" id="device_device_gettotalmem">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回设备内存总量, 单位字节(B). 1MB = 1024 * 1024B.</p>
<h2>device.getAvailMem()<span><a class="mark" href="#device_device_getavailmem" id="device_device_getavailmem">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回设备当前可用的内存, 单位字节(B).</p>
<h2>device.isScreenOn()<span><a class="mark" href="#device_device_isscreenon" id="device_device_isscreenon">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回设备屏幕是否是亮着的. 如果屏幕亮着, 返回<code>true</code>; 否则返回<code>false</code>.</p>
<p>需要注意的是, 类似于vivo xplay系列的息屏时钟不属于&quot;屏幕亮着&quot;的情况, 虽然屏幕确实亮着但只能显示时钟而且不可交互, 此时<code>isScreenOn()</code>也会返回<code>false</code>.</p>
<h2>device.wakeUp()<span><a class="mark" href="#device_device_wakeup" id="device_device_wakeup">#</a></span></h2>
<p>唤醒设备. 包括唤醒设备CPU、屏幕等. 可以用来点亮屏幕.</p>
<h2>device.wakeUpIfNeeded()<span><a class="mark" href="#device_device_wakeupifneeded" id="device_device_wakeupifneeded">#</a></span></h2>
<p>如果屏幕没有点亮, 则唤醒设备.</p>
<h2>device.keepScreenOn([timeout])<span><a class="mark" href="#device_device_keepscreenon_timeout" id="device_device_keepscreenon_timeout">#</a></span></h2>
<div class="signature"><ul>
<li><code>timeout</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 屏幕保持常亮的时间, 单位毫秒. 如果不加此参数, 则一直保持屏幕常亮.</li>
</ul>
</div><p>保持屏幕常亮.</p>
<p>此函数无法阻止用户使用锁屏键等正常关闭屏幕, 只能使得设备在无人操作的情况下保持屏幕常亮；同时, 如果此函数调用时屏幕没有点亮, 则会唤醒屏幕.</p>
<p>在某些设备上, 如果不加参数timeout, 只能在Auto.js的界面保持屏幕常亮, 在其他界面会自动失效, 这是因为设备的省电策略造成的. 因此, 建议使用比较长的时长来代替&quot;一直保持屏幕常亮&quot;的功能, 例如<code>device.keepScreenOn(3600 * 1000)</code>.</p>
<p>可以使用<code>device.cancelKeepingAwake()</code>来取消屏幕常亮.</p>
<pre><code>//一直保持屏幕常亮
device.keepScreenOn()
</code></pre><h2>device.keepScreenDim([timeout])<span><a class="mark" href="#device_device_keepscreendim_timeout" id="device_device_keepscreendim_timeout">#</a></span></h2>
<div class="signature"><ul>
<li><code>timeout</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 屏幕保持常亮的时间, 单位毫秒. 如果不加此参数, 则一直保持屏幕常亮.</li>
</ul>
</div><p>保持屏幕常亮, 但允许屏幕变暗来节省电量. 此函数可以用于定时脚本唤醒屏幕操作, 不需要用户观看屏幕, 可以让屏幕变暗来节省电量.</p>
<p>此函数无法阻止用户使用锁屏键等正常关闭屏幕, 只能使得设备在无人操作的情况下保持屏幕常亮；同时, 如果此函数调用时屏幕没有点亮, 则会唤醒屏幕.</p>
<p>可以使用<code>device.cancelKeepingAwake()</code>来取消屏幕常亮.</p>
<h2>device.cancelKeepingAwake()<span><a class="mark" href="#device_device_cancelkeepingawake" id="device_device_cancelkeepingawake">#</a></span></h2>
<p>取消设备保持唤醒状态. 用于取消<code>device.keepScreenOn()</code>, <code>device.keepScreenDim()</code>等函数设置的屏幕常亮.</p>
<h2>device.vibrate(millis)<span><a class="mark" href="#device_device_vibrate_millis" id="device_device_vibrate_millis">#</a></span></h2>
<div class="signature"><ul>
<li><code>millis</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 振动时间, 单位毫秒</li>
</ul>
</div><p>使设备振动一段时间.</p>
<pre><code>//振动两秒
device.vibrate(2000);
</code></pre><h2>device.cancelVibration()<span><a class="mark" href="#device_device_cancelvibration" id="device_device_cancelvibration">#</a></span></h2>
<p>如果设备处于振动状态, 则取消振动.</p>
<!-- [end-include:device.md] -->
<!-- [start-include:storages.md] -->
<h1>存储 (Storages)<span><a class="mark" href="#storages_storages" id="storages_storages">#</a></span></h1>
<p>storages 模块可用于保存 [ 简单数据 / 配置信息 / 列表清单 ] 等.<br>保存的数据在脚本间共享, 因此不适于敏感数据的存储.</p>
<p>保存数据时, 需要一个名称, 类似命名空间.<br>一个名称对应一个独立的本地存储.<br>但无法像 Web 开发中 LocalStorage 一样提供域名独立的存储, 因为脚本路径可能随时改变.</p>
<p>保存的数据仅在以下情况下会被删除:</p>
<ul>
<li>AutoJs6 应用被卸载或清除数据</li>
<li>使用 <a href="#all_m_remove">storages.remove</a> / <a href="storageType.html#storagetype_m_remove">Storage#remove</a> / <a href="storageType.html#storagetype_m_clear">Storage#clear</a> 等方法删除</li>
</ul>
<p>支持存入的数据类型:</p>
<ul>
<li><a href="dataTypes.html#datatypes_number">number</a></li>
<li><a href="dataTypes.html#datatypes_boolean">boolean</a></li>
<li><a href="dataTypes.html#datatypes_string">string</a></li>
<li><a href="dataTypes.html#datatypes_null">null</a></li>
<li><a href="dataTypes.html#datatypes_array">Array</a></li>
<li><a href="dataTypes.html#datatypes_object">Object</a></li>
<li>... ...</li>
</ul>
<p>具体的存入规则详见 <a href="storageType.html#storagetype_m_put">Storage#put</a> 小节.</p>
<p>存入时, 由 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON.stringify</a> 序列化数据为 <a href="dataTypes.html#datatypes_string">string</a> 类型后再存入,<br>读取时, 由 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a> 还原为原本的数据类型.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">storages</p>

<hr>
<h2>[m] create<span><a class="mark" href="#storages_m_create" id="storages_m_create">#</a></span></h2>
<h3>create(name)<span><a class="mark" href="#storages_create_name" id="storages_create_name">#</a></span></h3>
<div class="signature"><ul>
<li><strong>name</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 存储名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="storageType.html">Storage</a></span> }</li>
</ul>
</div><p>以 <code>name</code> 参数为名称创建一个本地存储, 并返回 <a href="storageType.html">Storage</a> 实例:</p>
<pre><code class="lang-js">/* 创建一个名为 fruit 的本地存储. */
let sto = storages.create(&#39;fruit&#39;);

/* 存入 &quot;键值对&quot; 数据. */
sto.put(&#39;apple&#39;, 10);
sto.put(&#39;banana&#39;, 20);

/* 访问数据. */
sto.get(&#39;apple&#39;); // 10
sto.get(&#39;banana&#39;); // 20
sto.get(&#39;cherry&#39;); // undefined
</code></pre>
<p>不同的 <code>name</code> 参数可以创建不同的本地存储:</p>
<pre><code class="lang-js">let stoFruit = storages.create(&#39;fruit&#39;);
let stoPhone = storages.create(&#39;phone&#39;);

/* &quot;键&quot; 名均为 apple, 不同的本地存储之间数据独立. */
stoFruit.put(&#39;apple&#39;, 7);
stoPhone.put(&#39;apple&#39;, 3);

/* 访问数据 */
stoFruit.get(&#39;apple&#39;) // 7
stoPhone.get(&#39;apple&#39;) // 3
</code></pre>
<p>如果 <code>name</code> 参数对应的本地存储已存在, 则返回一个本地存储副本:</p>
<pre><code class="lang-js">let sto = storages.create(&#39;fruit&#39;);
sto.put(&#39;apple&#39;, 10);

/* 名为 fruit 的本地存储已创建, 因此返回的是存储副本. */
let stoCopied = storages.create(&#39;fruit&#39;);

/* 虽然 stoCopied 没有存入 apple 数据, 但 fruit 本地存储中存在. */
stoCopied.get(&#39;apple&#39;); // 10

/* 副本与原始的本地存储并非引用关系. */
sto === stoCopied; // false
</code></pre>
<p>为保证数据安全及唯一性, <code>name</code> 参数应尽量具体:</p>
<pre><code class="lang-js">storages.create(&#39;project-publishing-schedule&#39;);
</code></pre>
<h2>[m] remove<span><a class="mark" href="#storages_m_remove" id="storages_m_remove">#</a></span></h2>
<h3>remove(name)<span><a class="mark" href="#storages_remove_name" id="storages_remove_name">#</a></span></h3>
<div class="signature"><ul>
<li><strong>name</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 存储名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - name 参数对应的本地存储是否存在</li>
</ul>
</div><p>清除名为 <code>name</code> 的本地存储包含的全部数据.</p>
<p>如果名为 <code>name</code> 的本地存储已存在, 返回 <code>true</code>, 否则返回 <code>false</code>.</p>
<pre><code class="lang-js">let sto = storages.create(&#39;fruit&#39;);
sto.put(&#39;apple&#39;, 10);
sto.get(&#39;apple&#39;); // 10

/* 相当于 storages.create(&#39;fruit&#39;).clear(); . */
storages.remove(&#39;fruit&#39;); // true

/* 执行 remove 方法后, sto 对象将不存在任何存储数据. */
sto.get(&#39;apple&#39;); // undefined

/* 但 sto 依然可以存放新的数据. */
sto.put(&#39;banana&#39;, 20);
sto.get(&#39;banana&#39;); // 20
</code></pre>
<!-- [end-include:storages.md] -->
<!-- [start-include:files.md] -->
<h1>文件 (Files)<span><a class="mark" href="#files_files" id="files_files">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>files模块提供了一些常见的文件处理, 包括文件读写、移动、复制、删掉等.</p>
<p>一次性的文件读写可以直接使用<code>files.read()</code>, <code>files.write()</code>, <code>files.append()</code>等方便的函数, 但如果需要频繁读写或随机读写, 则使用<code>open()</code>函数打开一个文件对象来操作文件, 并在操作完毕后调用<code>close()</code>函数关闭文件.</p>
<h2>files.isFile(path)<span><a class="mark" href="#files_files_isfile_path" id="files_files_isfile_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回路径path是否是文件.</p>
<pre><code>log(files.isDir(&quot;/sdcard/文件夹/&quot;)); //返回false
log(files.isDir(&quot;/sdcard/文件.txt&quot;)); //返回true
</code></pre><h2>files.isDir(path)<span><a class="mark" href="#files_files_isdir_path" id="files_files_isdir_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回路径path是否是文件夹.</p>
<pre><code>log(files.isDir(&quot;/sdcard/文件夹/&quot;)); //返回true
log(files.isDir(&quot;/sdcard/文件.txt&quot;)); //返回false
</code></pre><h2>files.isEmptyDir(path)<span><a class="mark" href="#files_files_isemptydir_path" id="files_files_isemptydir_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回文件夹path是否为空文件夹. 如果该路径并非文件夹, 则直接返回<code>false</code>.</p>
<h2>files.join(parent, child)<span><a class="mark" href="#files_files_join_parent_child" id="files_files_join_parent_child">#</a></span></h2>
<div class="signature"><ul>
<li><code>parent</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 父目录路径</li>
<li><code>child</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 子路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>连接两个路径并返回, 例如<code>files.join(&quot;/sdcard/&quot;, &quot;1.txt&quot;)</code>返回&quot;/sdcard/1.txt&quot;.</p>
<h2>files.create(path)<span><a class="mark" href="#files_files_create_path" id="files_files_create_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>创建一个文件或文件夹并返回是否创建成功. 如果文件已经存在, 则直接返回<code>false</code>.</p>
<pre><code>files.create(&quot;/sdcard/新文件夹/&quot;);
</code></pre><h2>files.createWithDirs(path)<span><a class="mark" href="#files_files_createwithdirs_path" id="files_files_createwithdirs_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>创建一个文件或文件夹并返回是否创建成功. 如果文件所在文件夹不存在, 则先创建他所在的一系列文件夹. 如果文件已经存在, 则直接返回<code>false</code>.</p>
<pre><code>files.createWithDirs(&quot;/sdcard/新文件夹/新文件夹/新文件夹/1.txt&quot;);
</code></pre><h2>files.exists(path)<span><a class="mark" href="#files_files_exists_path" id="files_files_exists_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回在路径path处的文件是否存在.</p>
<h2>files.ensureDir(path)<span><a class="mark" href="#files_files_ensuredir_path" id="files_files_ensuredir_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
</ul>
</div><p>确保路径path所在的文件夹存在. 如果该路径所在文件夹不存在, 则创建该文件夹.</p>
<p>例如对于路径&quot;/sdcard/Download/ABC/1.txt&quot;, 如果/Download/文件夹不存在, 则会先创建Download, 再创建ABC文件夹.</p>
<h2>files.read(path[, encoding = &quot;utf-8&quot;])<span><a class="mark" href="#files_files_read_path_encoding_utf_8" id="files_files_read_path_encoding_utf_8">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>encoding</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 字符编码, 可选, 默认为utf-8</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>读取文本文件path的所有内容并返回. 如果文件不存在, 则抛出<code>FileNotFoundException</code>.</p>
<pre><code>log(files.read(&quot;/sdcard/1.txt&quot;));
</code></pre><h2>files.readBytes(path)<span><a class="mark" href="#files_files_readbytes_path" id="files_files_readbytes_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <span class="type">byte[]</span> }</li>
</ul>
</div><p>读取文件path的所有内容并返回一个字节数组. 如果文件不存在, 则抛出<code>FileNotFoundException</code>.</p>
<p>注意, 该数组是Java的数组, 不具有JavaScript数组的forEach, slice等函数.</p>
<p>一个以16进制形式打印文件的例子如下:</p>
<pre><code>var data = files.readBytes(&quot;/sdcard/1.png&quot;);
var sb = new java.lang.StringBuilder();
for(var i = 0; i &lt; data.length; i++){
    sb.append(data[i].toString(16));
}
log(sb.toString());
</code></pre><h2>files.write(path, text[, encoding = &quot;utf-8&quot;])<span><a class="mark" href="#files_files_write_path_text_encoding_utf_8" id="files_files_write_path_text_encoding_utf_8">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要写入的文本内容</li>
<li><code>encoding</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 字符编码</li>
</ul>
</div><p>把text写入到文件path中. 如果文件存在则覆盖, 不存在则创建.</p>
<pre><code>var text = &quot;文件内容&quot;;
//写入文件
files.write(&quot;/sdcard/1.txt&quot;, text);
//用其他应用查看文件
app.viewFile(&quot;/sdcard/1.txt&quot;);
</code></pre><h2>files.writeBytes(path, bytes)<span><a class="mark" href="#files_files_writebytes_path_bytes" id="files_files_writebytes_path_bytes">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>bytes</code> { <span class="type">byte[]</span> } 字节数组, 要写入的二进制数据</li>
</ul>
</div><p>把bytes写入到文件path中. 如果文件存在则覆盖, 不存在则创建.</p>
<h2>files.append(path, text[, encoding = &#39;utf-8&#39;])<span><a class="mark" href="#files_files_append_path_text_encoding_utf_8" id="files_files_append_path_text_encoding_utf_8">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要写入的文本内容</li>
<li><code>encoding</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 字符编码</li>
</ul>
</div><p>把text追加到文件path的末尾. 如果文件不存在则创建.</p>
<pre><code>var text = &quot;追加的文件内容&quot;;
files.append(&quot;/sdcard/1.txt&quot;, text);
files.append(&quot;/sdcard/1.txt&quot;, text);
//用其他应用查看文件
app.viewFile(&quot;/sdcard/1.txt&quot;);
</code></pre><h2>files.appendBytes(path, text[, encoding = &#39;utf-8&#39;])<span><a class="mark" href="#files_files_appendbytes_path_text_encoding_utf_8" id="files_files_appendbytes_path_text_encoding_utf_8">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>bytes</code> { <span class="type">byte[]</span> } 字节数组, 要写入的二进制数据</li>
</ul>
</div><p>把bytes追加到文件path的末尾. 如果文件不存在则创建.</p>
<h2>files.copy(fromPath, toPath)<span><a class="mark" href="#files_files_copy_frompath_topath" id="files_files_copy_frompath_topath">#</a></span></h2>
<div class="signature"><ul>
<li><code>fromPath</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要复制的原文件路径</li>
<li><code>toPath</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 复制到的文件路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>复制文件, 返回是否复制成功. 例如<code>files.copy(&quot;/sdcard/1.txt&quot;, &quot;/sdcard/Download/1.txt&quot;)</code>.</p>
<h2>files.move(fromPath, toPath)<span><a class="mark" href="#files_files_move_frompath_topath" id="files_files_move_frompath_topath">#</a></span></h2>
<div class="signature"><ul>
<li><code>fromPath</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要移动的原文件路径</li>
<li><code>toPath</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 移动到的文件路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>移动文件, 返回是否移动成功. 例如<code>files.move(&quot;/sdcard/1.txt&quot;, &quot;/sdcard/Download/1.txt&quot;)</code>会把1.txt文件从sd卡根目录移动到Download文件夹.</p>
<h2>files.rename(path, newName)<span><a class="mark" href="#files_files_rename_path_newname" id="files_files_rename_path_newname">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要重命名的原文件路径</li>
<li><code>newName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要重命名的新文件名</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>重命名文件, 并返回是否重命名成功. 例如<code>files.rename(&quot;/sdcard/1.txt&quot;, &quot;2.txt&quot;)</code>.</p>
<h2>files.renameWithoutExtension(path, newName)<span><a class="mark" href="#files_files_renamewithoutextension_path_newname" id="files_files_renamewithoutextension_path_newname">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要重命名的原文件路径</li>
<li><code>newName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要重命名的新文件名</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>重命名文件, 不包含拓展名, 并返回是否重命名成功. 例如<code>files.rename(&quot;/sdcard/1.txt&quot;, &quot;2&quot;)</code>会把&quot;1.txt&quot;重命名为&quot;2.txt&quot;.</p>
<h2>files.getName(path)<span><a class="mark" href="#files_files_getname_path" id="files_files_getname_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回文件的文件名. 例如<code>files.getName(&quot;/sdcard/1.txt&quot;)</code>返回&quot;1.txt&quot;.</p>
<h2>files.getNameWithoutExtension(path)<span><a class="mark" href="#files_files_getnamewithoutextension_path" id="files_files_getnamewithoutextension_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回不含拓展名的文件的文件名. 例如<code>files.getName(&quot;/sdcard/1.txt&quot;)</code>返回&quot;1&quot;.</p>
<h2>files.getExtension(path)<span><a class="mark" href="#files_files_getextension_path" id="files_files_getextension_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回文件的拓展名. 例如<code>files.getExtension(&quot;/sdcard/1.txt&quot;)</code>返回&quot;txt&quot;.</p>
<h2>files.remove(path)<span><a class="mark" href="#files_files_remove_path" id="files_files_remove_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>删除文件或<strong>空文件夹</strong>, 返回是否删除成功.</p>
<h2>files.removeDir(path)<span><a class="mark" href="#files_files_removedir_path" id="files_files_removedir_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>删除文件夹, 如果文件夹不为空, 则删除该文件夹的所有内容再删除该文件夹, 返回是否全部删除成功.</p>
<h2>files.getSdcardPath()<span><a class="mark" href="#files_files_getsdcardpath" id="files_files_getsdcardpath">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回SD卡路径. 所谓SD卡, 即外部存储器.</p>
<h2>files.cwd()<span><a class="mark" href="#files_files_cwd" id="files_files_cwd">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回脚本的&quot;当前工作文件夹路径&quot;. 该路径指的是, 如果脚本本身为脚本文件, 则返回这个脚本文件所在目录；否则返回<code>null</code>获取其他设定路径.</p>
<p>例如, 对于脚本文件&quot;/sdcard/脚本/1.js&quot;运行<code>files.cwd()</code>返回&quot;/sdcard/脚本/&quot;.</p>
<h2>files.path(relativePath)<span><a class="mark" href="#files_files_path_relativepath" id="files_files_path_relativepath">#</a></span></h2>
<div class="signature"><ul>
<li><code>relativePath</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 相对路径</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回相对路径对应的绝对路径. 例如<code>files.path(&quot;./1.png&quot;)</code>, 如果运行这个语句的脚本位于文件夹&quot;/sdcard/脚本/&quot;中, 则返回<code>&quot;/sdcard/脚本/1.png&quot;</code>.</p>
<h2>files.listDir(path[, filter])<span><a class="mark" href="#files_files_listdir_path_filter" id="files_files_listdir_path_filter">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 路径</li>
<li><code>filter</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 过滤函数, 可选. 接收一个<code>string</code>参数（文件名）, 返回一个<code>boolean</code>值.</li>
</ul>
</div><p>列出文件夹path下的满足条件的文件和文件夹的名称的数组. 如果不加filter参数, 则返回所有文件和文件夹.</p>
<p>列出sdcard目录下所有文件和文件夹为:</p>
<pre><code>var arr = files.listDir(&quot;/sdcard/&quot;);
log(arr);
</code></pre><p>列出脚本目录下所有js脚本文件为:</p>
<pre><code>var dir = &quot;/sdcard/脚本/&quot;;
var jsFiles = files.listDir(dir, function(name){
    return name.endsWith(&quot;.js&quot;) &amp;&amp; files.isFile(files.join(dir, name));
});
log(jsFiles);
</code></pre><h2>open(path[, mode = &quot;r&quot;, encoding = &quot;utf-8&quot;, bufferSize = 8192])<span><a class="mark" href="#files_open_path_mode_r_encoding_utf_8_buffersize_8192" id="files_open_path_mode_r_encoding_utf_8_buffersize_8192">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文件路径, 例如&quot;/sdcard/1.txt&quot;.</li>
<li><code>mode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文件打开模式, 包括:<ul>
<li>&quot;r&quot;: 只读文本模式. 该模式下只能对文件执行<strong>文本</strong>读取操作.</li>
<li>&quot;w&quot;: 只写文本模式. 该模式下只能对文件执行<strong>文本</strong>覆盖写入操作.</li>
<li>&quot;a&quot;: 附加文本模式. 该模式下将会把写入的文本附加到文件末尾.</li>
<li>&quot;rw&quot;: 随机读写文本模式. 该模式下将会把写入的文本附加到文件末尾.<br>目前暂不支持二进制模式, 随机读写模式.</li>
</ul>
</li>
<li><code>encoding</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 字符编码.</li>
<li><code>bufferSize</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 文件读写的缓冲区大小.</li>
</ul>
</div><p>打开一个文件. 根据打开模式返回不同的文件对象. 包括：</p>
<ul>
<li>&quot;r&quot;: 返回一个ReadableTextFile对象.</li>
<li>&quot;w&quot;, &quot;a&quot;: 返回一个WritableTextFile对象.</li>
</ul>
<p>对于&quot;w&quot;模式, 如果文件并不存在, 则会创建一个, 已存在则会清空该文件内容；其他模式文件不存在会抛出FileNotFoundException.</p>
<h1>ReadableTextFile<span><a class="mark" href="#files_readabletextfile" id="files_readabletextfile">#</a></span></h1>
<p>可读文件对象.</p>
<h2>ReadableTextFile.read()<span><a class="mark" href="#files_readabletextfile_read" id="files_readabletextfile_read">#</a></span></h2>
<p>返回该文件剩余的所有内容的字符串.</p>
<h2>ReadableTextFile.read(maxCount)<span><a class="mark" href="#files_readabletextfile_read_maxcount" id="files_readabletextfile_read_maxcount">#</a></span></h2>
<div class="signature"><ul>
<li><code>maxCount</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">Number</a> } 最大读取的字符数量</li>
</ul>
</div><p>读取该文件接下来最长为maxCount的字符串并返回. 即使文件剩余内容不足maxCount也不会出错.</p>
<h2>ReadableTextFile.readline()<span><a class="mark" href="#files_readabletextfile_readline" id="files_readabletextfile_readline">#</a></span></h2>
<p>读取一行并返回（不包含换行符）.</p>
<h2>ReadableTextFile.readlines()<span><a class="mark" href="#files_readabletextfile_readlines" id="files_readabletextfile_readlines">#</a></span></h2>
<p>读取剩余的所有行, 并返回它们按顺序组成的字符串数组.</p>
<h2>close()<span><a class="mark" href="#files_close" id="files_close">#</a></span></h2>
<p>关闭该文件.</p>
<p><strong>打开一个文件不再使用时务必关闭</strong></p>
<h1>PWritableTextFile<span><a class="mark" href="#files_pwritabletextfile" id="files_pwritabletextfile">#</a></span></h1>
<p>可写文件对象.</p>
<h2>PWritableTextFile.write(text)<span><a class="mark" href="#files_pwritabletextfile_write_text" id="files_pwritabletextfile_write_text">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文本</li>
</ul>
</div><p>把文本内容text写入到文件中.</p>
<h2>PWritableTextFile.writeline(line)<span><a class="mark" href="#files_pwritabletextfile_writeline_line" id="files_pwritabletextfile_writeline_line">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 文本</li>
</ul>
</div><p>把文本line写入到文件中并写入一个换行符.</p>
<h2>PWritableTextFile.writelines(lines)<span><a class="mark" href="#files_pwritabletextfile_writelines_lines" id="files_pwritabletextfile_writelines_lines">#</a></span></h2>
<div class="signature"><ul>
<li><code>lines</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 字符串数组</li>
</ul>
</div><p>把很多行写入到文件中....</p>
<h2>PWritableTextFile.flush()<span><a class="mark" href="#files_pwritabletextfile_flush" id="files_pwritabletextfile_flush">#</a></span></h2>
<p>把缓冲区内容输出到文件中.</p>
<h2>PWritableTextFile.close()<span><a class="mark" href="#files_pwritabletextfile_close" id="files_pwritabletextfile_close">#</a></span></h2>
<p>关闭文件. 同时会被缓冲区内容输出到文件.</p>
<p><strong>打开一个文件写入后, 不再使用时务必关闭, 否则文件可能会丢失</strong></p>
<!-- [end-include:files.md] -->
<!-- [start-include:engines.md] -->
<h1>引擎 (Engines)<span><a class="mark" href="#engines_engines" id="engines_engines">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>engines模块包含了一些与脚本环境、脚本运行、脚本引擎有关的函数, 包括运行其他脚本, 关闭脚本等.</p>
<p>例如, 获取脚本所在目录：</p>
<pre><code>toast(engines.myEngine().cwd());
</code></pre><h2>engines.execScript(name, script[, config])<span><a class="mark" href="#engines_engines_execscript_name_script_config" id="engines_engines_execscript_name_script_config">#</a></span></h2>
<div class="signature"><ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要运行的脚本名称. 这个名称和文件名称无关, 只是在任务管理中显示的名称.</li>
<li><code>script</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要运行的脚本内容.</li>
<li><code>config</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 运行配置项<ul>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 延迟执行的毫秒数, 默认为0</li>
<li><code>loopTimes</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行次数, 默认为1. 0为无限循环.</li>
<li><code>interval</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行时两次运行之间的时间间隔, 默认为0</li>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 指定脚本运行的目录. 这些路径会用于require时寻找模块文件.</li>
</ul>
</li>
</ul>
</div><p>在新的脚本环境中运行脚本script. 返回一个<a href="#all_engines_scriptexecution">ScriptExectuion</a>对象.</p>
<p>所谓新的脚本环境, 指定是, 脚本中的变量和原脚本的变量是不共享的, 并且, 脚本会在新的线程中运行.</p>
<p>最简单的例子如下：</p>
<pre><code>engines.execScript(&quot;hello world&quot;, &quot;toast(&#39;hello world&#39;)&quot;);
</code></pre><p>如果要循环运行, 则：</p>
<pre><code>//每隔3秒运行一次脚本, 循环10次
engines.execScript(&quot;hello world&quot;, &quot;toast(&#39;hello world&#39;)&quot;, {
    loopTimes: 10,
    interval: 3000
});
</code></pre><p>用字符串来编写脚本非常不方便, 可以结合 <code>Function.toString()</code>的方法来执行特定函数:</p>
<pre><code>function helloWorld(){
    //注意, 这里的变量和脚本主体的变量并不共享
    toast(&quot;hello world&quot;);
}
engines.execScript(&quot;hello world&quot;, &quot;helloWorld();\n&quot; + helloWorld.toString());
</code></pre><p>如果要传递变量, 则可以把这些封装成一个函数：</p>
<pre><code>function exec(action, args){
    args = args || {};
    engines.execScript(action.name, action.name + &quot;(&quot; + JSON.stringify(args) + &quot;);\n&quot; + action.toString());
}

//要执行的函数, 是一个简单的加法
function add(args){
    toast(args.a + args.b);
}

//在新的脚本环境中执行 1 + 2
exec(add, {a: 1, b:2});
</code></pre><h2>engines.execScriptFile(path[, config])<span><a class="mark" href="#engines_engines_execscriptfile_path_config" id="engines_engines_execscriptfile_path_config">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要运行的脚本路径.</li>
<li><code>config</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 运行配置项<ul>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 延迟执行的毫秒数, 默认为0</li>
<li><code>loopTimes</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行次数, 默认为1. 0为无限循环.</li>
<li><code>interval</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行时两次运行之间的时间间隔, 默认为0</li>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 指定脚本运行的目录. 这些路径会用于require时寻找模块文件.</li>
</ul>
</li>
</ul>
</div><p>在新的脚本环境中运行脚本文件path. 返回一个<a href="#all_ScriptExecution">ScriptExecution</a>对象.</p>
<pre><code>engines.execScriptFile(&quot;/sdcard/脚本/1.js&quot;);
</code></pre><h2>engines.execAutoFile(path[, config])<span><a class="mark" href="#engines_engines_execautofile_path_config" id="engines_engines_execautofile_path_config">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要运行的录制文件路径.</li>
<li><code>config</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 运行配置项<ul>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 延迟执行的毫秒数, 默认为0</li>
<li><code>loopTimes</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行次数, 默认为1. 0为无限循环.</li>
<li><code>interval</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 循环运行时两次运行之间的时间间隔, 默认为0</li>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 指定脚本运行的目录. 这些路径会用于require时寻找模块文件.</li>
</ul>
</li>
</ul>
</div><p>在新的脚本环境中运行录制文件path. 返回一个<a href="#all_ScriptExecution">ScriptExecution</a>对象.</p>
<pre><code>engines.execAutoFile(&quot;/sdcard/脚本/1.auto&quot;);
</code></pre><h2>engines.stopAll()<span><a class="mark" href="#engines_engines_stopall" id="engines_engines_stopall">#</a></span></h2>
<p>停止所有正在运行的脚本. 包括当前脚本自身.</p>
<h2>engines.stopAllAndToast()<span><a class="mark" href="#engines_engines_stopallandtoast" id="engines_engines_stopallandtoast">#</a></span></h2>
<p>停止所有正在运行的脚本并显示停止的脚本数量. 包括当前脚本自身.</p>
<h2>engines.myEngine()<span><a class="mark" href="#engines_engines_myengine" id="engines_engines_myengine">#</a></span></h2>
<p>返回当前脚本的脚本引擎对象(<a href="#all_engines_scriptengine">ScriptEngine</a>)</p>
<p><strong>[v4.1.0新增]</strong>
特别的, 该对象可以通过<code>execArgv</code>来获取他的运行参数, 包括外部参数、intent等. 例如：</p>
<pre><code>log(engines.myEngine().execArgv);
</code></pre><p>普通脚本的运行参数通常为空, 通过定时任务的广播启动的则可以获取到启动的intent.</p>
<h2>engines.all()<span><a class="mark" href="#engines_engines_all" id="engines_engines_all">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> }</li>
</ul>
</div><p>返回当前所有正在运行的脚本的脚本引擎<a href="#all_engines_scriptengine">ScriptEngine</a>的数组.</p>
<pre><code>log(engines.all());
</code></pre><h1>ScriptExecution<span><a class="mark" href="#engines_scriptexecution" id="engines_scriptexecution">#</a></span></h1>
<p>执行脚本时返回的对象, 可以通过他获取执行的引擎、配置等, 也可以停止这个执行.</p>
<p>要停止这个脚本的执行, 使用<code>exectuion.getEngine().forceStop()</code>.</p>
<h2>ScriptExecution.getEngine()<span><a class="mark" href="#engines_scriptexecution_getengine" id="engines_scriptexecution_getengine">#</a></span></h2>
<p>返回执行该脚本的脚本引擎对象(<a href="#all_engines_scriptengine">ScriptEngine</a>)</p>
<h2>ScriptExecution.getConfig()<span><a class="mark" href="#engines_scriptexecution_getconfig" id="engines_scriptexecution_getconfig">#</a></span></h2>
<p>返回该脚本的运行配置(<a href="#all_engines_scriptconfig">ScriptConfig</a>)</p>
<h1>ScriptEngine<span><a class="mark" href="#engines_scriptengine" id="engines_scriptengine">#</a></span></h1>
<p>脚本引擎对象.</p>
<h2>ScriptEngine.forceStop()<span><a class="mark" href="#engines_scriptengine_forcestop" id="engines_scriptengine_forcestop">#</a></span></h2>
<p>停止脚本引擎的执行.</p>
<h2>ScriptEngine.cwd()<span><a class="mark" href="#engines_scriptengine_cwd" id="engines_scriptengine_cwd">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回脚本执行的路径. 对于一个脚本文件而言为这个脚本所在的文件夹；对于其他脚本, 例如字符串脚本, 则为<code>null</code>或者执行时的设置值.</p>
<h2>ScriptEngine.getSource()<span><a class="mark" href="#engines_scriptengine_getsource" id="engines_scriptengine_getsource">#</a></span></h2>
<div class="signature"><ul>
<li>返回 <a href="#all_engines_scriptsource">ScriptSource</a></li>
</ul>
</div><p>返回当前脚本引擎正在执行的脚本对象.</p>
<pre><code>log(engines.myEngine().getSource());
</code></pre><h2>ScriptEngine.emit(eventName[, ...args])<span><a class="mark" href="#engines_scriptengine_emit_eventname_args" id="engines_scriptengine_emit_eventname_args">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 事件名称</li>
<li><code>...args</code> { <span class="type">any</span> } 事件参数</li>
</ul>
</div><p>向该脚本引擎发送一个事件, 该事件可以在该脚本引擎对应的脚本的events模块监听到并在脚本主线程执行事件处理.</p>
<p>例如脚本receiver.js的内容如下：</p>
<pre><code>//监听say事件
events.on(&quot;say&quot;, function(words){
    toastLog(words);
});
//保持脚本运行
setInterval(()=&gt;{}, 1000);
</code></pre><p>同一目录另一脚本可以启动他并发送该事件：</p>
<pre><code>//运行脚本
var e = engines.execScriptFile(&quot;./receiver.js&quot;);
//等待脚本启动
sleep(2000);
//向该脚本发送事件
e.getEngine().emit(&quot;say&quot;, &quot;你好&quot;);
</code></pre><h1>ScriptConfig<span><a class="mark" href="#engines_scriptconfig" id="engines_scriptconfig">#</a></span></h1>
<p>脚本执行时的配置.</p>
<h2>delay<span><a class="mark" href="#engines_delay" id="engines_delay">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>延迟执行的毫秒数</p>
<h2>interval<span><a class="mark" href="#engines_interval" id="engines_interval">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>循环运行时两次运行之间的时间间隔</p>
<h2>loopTimes<span><a class="mark" href="#engines_looptimes" id="engines_looptimes">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>循环运行次数</p>
<h2>getPath()<span><a class="mark" href="#engines_getpath" id="engines_getpath">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> }</li>
</ul>
</div><p>返回一个字符串数组表示脚本运行时模块寻找的路径.</p>
<!-- [end-include:engines.md] -->
<!-- [start-include:tasks.md] -->
<h1>任务 (Tasks)<span><a class="mark" href="#tasks_tasks" id="tasks_tasks">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<!-- [end-include:tasks.md] -->
<!-- [start-include:modules.md] -->
<h1>模块 (Module)<span><a class="mark" href="#modules_module" id="modules_module">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>Auto.js 有一个简单的模块加载系统.  在 Auto.js 中, 文件和模块是一一对应的（每个文件被视为一个独立的模块）.</p>
<p>例子, 假设有一个名为 foo.js 的文件：</p>
<pre><code>var circle = require(&#39;circle.js&#39;);
console.log(&quot;半径为 4 的圆的面积是 %d&quot;, circle.area(4));
</code></pre><p>在第一行中, foo.js 加载了同一目录下的 circle.js 模块.</p>
<p>circle.js 文件的内容为：</p>
<pre><code>const PI = Math.PI;

var circle = {};

circle.area = function (r) {
  return PI * r * r;
};

circle.circumference = (r) =&gt; 2 * PI * r;

module.exports = circle;
</code></pre><p>circle.js 模块导出了 area() 和 circumference() 两个函数.  通过在特殊的 exports 对象上指定额外的属性, 函数和对象可以被添加到模块的根部.</p>
<p>模块内的本地变量是私有的.  在这个例子中, 变量 PI 是 circle.js 私有的, 不会影响到加载他的脚本的变量环境.</p>
<p>module.exports属性可以被赋予一个新的值（例如函数或对象）.</p>
<p>如下, bar.js 会用到 square 模块, square 导出一个构造函数：</p>
<pre><code>const square = require(&#39;square.js&#39;);
const mySquare = square(2);
console.log(&quot;正方形的面积是 %d&quot;, mySquare.area());
square 模块定义在 square.js 中：

// 赋值给 `exports` 不会修改模块, 必须使用 `module.exports`
module.exports = function(width) {
  return {
    area: () =&gt; width ** 2
  };
};
</code></pre><!-- [end-include:modules.md] -->
<!-- [start-include:plugins.md] -->
<h1>插件 (Plugins)<span><a class="mark" href="#plugins_plugins" id="plugins_plugins">#</a></span></h1>
<p>在 AutoJs6 中, 插件分为 [ 应用插件 / 项目插件 / 内置扩展插件 ].</p>
<p>plugins 模块主要用于插件及扩展模块的加载并使其功能生效.</p>
<h2>应用插件<span><a class="mark" href="#plugins" id="plugins">#</a></span></h2>
<p>应用插件通常是一个由开发者编写的可安装的 APK 文件, 安装插件后可由 AutoJs6 通过 <a href="#all_m_load">plugins.load</a> 方法加载并使用插件.</p>
<p>应用插件的使用步骤:</p>
<ul>
<li>按需寻找或自行开发插件 (APK 格式)</li>
<li>安装到指定设备</li>
<li>脚本中将插件包名以字符串形式传入 plugins.load 方法并赋值给一个变量</li>
<li>这个变量即指向插件的导出对象 (module.exports)</li>
</ul>
<p>加载及使用方式:</p>
<pre><code class="lang-js">let { exp } = plugins.load(&#39;org.autojs.autojs.plugin.demo&#39;);
exp.test(&#39;hello&#39;);
</code></pre>
<h2>项目插件<span><a class="mark" href="#plugins_1" id="plugins_1">#</a></span></h2>
<p>项目插件是依附于项目的一组 JavaScript 模块, 它们位于项目根目录的 <code>plugins</code> 文件夹中, 由 AutoJs6 通过 <a href="#all_m_load">plugins.load</a> 方法加载并使用.</p>
<p>例如项目结构 (部分) 如下:</p>
<pre><code class="lang-text">┌ modules ┬ moduleA.js
│         └ moduleB.js
│         ┌ pluginA.js
├ plugins ┼ pluginB.js
│         └ pluginC.js
└ main.js
</code></pre>
<p>对于此项目, <code>pluginA.js</code>, <code>pluginB.js</code> 及 <code>pluginC.js</code> 均称为项目插件, 加载方式如下:</p>
<pre><code class="lang-js">plugins.load(&#39;pluginA&#39;);
plugins.load(&#39;pluginA.js&#39;); /* 同上. */
</code></pre>
<h2>内置扩展插件<span><a class="mark" href="#plugins_2" id="plugins_2">#</a></span></h2>
<p>内置扩展插件相当于内置的项目插件, 它们是内置于 AutoJs6 软件中的, 可通过调用 <a href="#all_m_extend">plugins.extend</a> 等方法选择性地启用部分或全部内置扩展插件, 也称作内置扩展模块.</p>
<p>加载方式:</p>
<pre><code class="lang-js">/* 启用 Array 内置扩展插件. */
plugins.extend(&#39;Arrayx&#39;);

/* 启用全部内置扩展插件. */
plugins.extendAll();
</code></pre>
<p>截至 2023 年 2 月, AutoJs6 内置了以下扩展插件:</p>
<ul>
<li><a href="arrayx.html">Arrayx - Array 扩展</a></li>
<li><a href="numberx.html">Numberx - Number 扩展</a></li>
<li><a href="mathx.html">Mathx - Math 扩展</a></li>
</ul>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">plugins</p>

<hr>
<h2>[m] load<span><a class="mark" href="#plugins_m_load" id="plugins_m_load">#</a></span></h2>
<h3>load(appPluginPackageName)<span><a class="mark" href="#plugins_load_apppluginpackagename" id="plugins_load_apppluginpackagename">#</a></span></h3>
<p><strong><code>[6.2.0]</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 应用插件的包名</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> }</li>
</ul>
<p>加载 <a href="#all_应用插件">应用插件</a>.</p>
<pre><code class="lang-js">/* 一个可能的样例. */
plugins.load(&#39;org.autojs.autojs.plugin.demo&#39;);
</code></pre>
<h3>load(projectPluginName)<span><a class="mark" href="#plugins_load_projectpluginname" id="plugins_load_projectpluginname">#</a></span></h3>
<p><strong><code>6.2.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>packageName</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 项目插件名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_any">any</a></span> }</li>
</ul>
<p>加载 <a href="#all_项目插件">项目插件</a>.</p>
<h2>[m] extend<span><a class="mark" href="#plugins_m_extend" id="plugins_m_extend">#</a></span></h2>
<h3>extend(...moduleNames)<span><a class="mark" href="#plugins_extend_modulenames" id="plugins_extend_modulenames">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>moduleNames</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_extendmodulesnames">ExtendModulesNames</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - 内置扩展插件名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>加载指定的 <a href="#all_内置扩展插件">内置扩展插件</a>.</p>
<pre><code class="lang-js">/* 启用 Array 内置扩展插件. */
plugins.extend(&#39;Arrayx&#39;);

/* 启用 Array 和 Number 内置扩展插件. */
plugins.extend(&#39;Arrayx&#39;, &#39;Numberx&#39;);
</code></pre>
<h2>[m] extendAll<span><a class="mark" href="#plugins_m_extendall" id="plugins_m_extendall">#</a></span></h2>
<h3>extendAll()<span><a class="mark" href="#plugins_extendall" id="plugins_extendall">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>加载所有的 <a href="#all_内置扩展插件">内置扩展插件</a>.</p>
<pre><code class="lang-js">plugins.extendAll();
</code></pre>
<p>如需在所有脚本均自动加载所有内置扩展插件, 而无需每次使用 <code>plugins.extendAll()</code>, 可对 AutoJs6 进行如下设置:</p>
<pre><code class="lang-text">AutoJs6 应用设置 - 扩展性 - JavaScript 内置对象扩展 - [ 启用 ]
</code></pre>
<h2>[m] extendAllBut<span><a class="mark" href="#plugins_m_extendallbut" id="plugins_m_extendallbut">#</a></span></h2>
<h3>extendAllBut(...moduleNames)<span><a class="mark" href="#plugins_extendallbut_modulenames" id="plugins_extendallbut_modulenames">#</a></span></h3>
<p><strong><code>6.2.0</code></strong></p>
<ul>
<li><strong>moduleNames</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_extendmodulesnames">ExtendModulesNames</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - 内置扩展插件名称</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>加载所有的 <a href="#all_内置扩展插件">内置扩展插件</a>, 但排除指定的插件.</p>
<pre><code class="lang-js">plugins.extendAllBut(&#39;Mathx&#39;); /* 加载除 Math 外的全部内置扩展插件. */
</code></pre>
<!-- [end-include:plugins.md] -->
<!-- [start-include:toast.md] -->
<h1>消息浮动框 (Toast)<span><a class="mark" href="#toast_toast" id="toast_toast">#</a></span></h1>
<p>toast 模块用于 <a href="https://developer.android.com/guide/topics/ui/notifiers/toasts?hl=zh-cn">消息浮动框</a> 的 [ 显示 / 消除 / 定制 ] 等.</p>
<p>部分操作系统的 toast 消息可能无法按队列依次显示, 新的 toast 消息直接覆盖之前的 toast 消息.</p>
<p>可能出现上述异常的操作系统:</p>
<ul>
<li>API 级别 28 (安卓 9) [P]</li>
<li>鸿蒙 (HarmonyOS) 2</li>
</ul>
<p>部分机型需授予 &quot;后台弹出页面&quot; 权限才能正常显示 toast 消息.</p>
<p>可能依赖上述权限的设备及操作系统:</p>
<ul>
<li>小米 (XiaoMi / Redmi / BlackShark) - MIUI</li>
<li>维沃 (VIVO / IQOO) - Funtouch OS / OriginOS</li>
<li>欧珀 (OPPO / Realme) - ColorOS</li>
</ul>
<p>部分机型的 toast 消息正常显示依赖通知权限, 当未授予通知权限或通知被 <code>阻止 (block)</code> 时, toast 可能无法正常显示, 参阅 <a href="notice.html#notice_m_isenabled">notice.isEnabled</a> 小节.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">toast</p>

<hr>
<h2>[@] toast<span><a class="mark" href="#toast_toast_1" id="toast_toast_1">#</a></span></h2>
<p>toast 可作为全局对象使用:</p>
<pre><code class="lang-js">typeof toast; // &quot;function&quot;
typeof toast.dismissAll; // &quot;function&quot;
</code></pre>
<h3>toast(text)<span><a class="mark" href="#toast_toast_text" id="toast_toast_text">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 1/4</code></strong> <strong><code>Async</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>显示一个消息浮动框.</p>
<p>消息框的显示默认是依次进行的:</p>
<pre><code class="lang-js">/* 显示消息框 2 秒钟. */
toast(&quot;hello&quot;);
/* 显示消息框 2 秒钟, 且在前一个消息框消失后才显示. */
toast(&quot;world&quot;);
/* 显示消息框 2 秒钟, 且在前一个消息框消失后才显示. */
toast(&quot;hello world&quot;);
</code></pre>
<h3>toast(text, isLong)<span><a class="mark" href="#toast_toast_text_islong" id="toast_toast_text_islong">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 2/4</code></strong> <strong><code>Async</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><strong>isLong = false</strong> { <code>&#39;long&#39;</code> | <code>&#39;l&#39;</code> | <code>&#39;short&#39;</code> | <code>&#39;s&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否以较长时间显示</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>控制单个消息框显示时长:</p>
<pre><code class="lang-js">toast(&quot;hello&quot;, &#39;long&#39;); /* 显示消息框 3.5 秒钟. */
toast(&quot;hello&quot;, true); /* 同上. */
</code></pre>
<blockquote>
<p>注: 仅有 [ 长 / 短 ] 两种时长, 此时长由安卓系统决定.<br>通常, 短时为 2 秒, 长时为 3.5 秒.</p>
</blockquote>
<h3>toast(text, isLong, isForcible)<span><a class="mark" href="#toast_toast_text_islong_isforcible" id="toast_toast_text_islong_isforcible">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 3/4</code></strong> <strong><code>Async</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><strong>isLong = false</strong> { <code>&#39;long&#39;</code> | <code>&#39;l&#39;</code> | <code>&#39;short&#39;</code> | <code>&#39;s&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否以较长时间显示</li>
<li><strong>isForcible = false</strong> { <code>&#39;forcible&#39;</code> | <code>&#39;f&#39;</code> | <a href="dataTypes.html#datatypes_boolean">boolean</a> } - 是否强制覆盖显示</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>使用 &quot;强制覆盖显示&quot; 参数可立即显示消息框:</p>
<pre><code class="lang-js">toast(&quot;hello&quot;);
/* 显示消息框 2 秒钟, 且立即显示, 前一个消息框 &quot;hello&quot; 被 &quot;覆盖&quot;. */
toast(&quot;world&quot;, &quot;short&quot;, &quot;forcible&quot;);
</code></pre>
<blockquote>
<p>注: 强制覆盖仅对当前脚本有效, 对其他脚本及应用程序无效.</p>
</blockquote>
<h3>toast(text, isForcible)<span><a class="mark" href="#toast_toast_text_isforcible" id="toast_toast_text_isforcible">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>Overload 4/4</code></strong> <strong><code>Async</code></strong></p>
<ul>
<li><strong>text</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 消息内容</li>
<li><strong>isForcible</strong> { <code>&#39;forcible&#39;</code> | <code>&#39;f&#39;</code> } - 强制覆盖显示 (字符标识)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>此方法相当于忽略 isLong 参数:</p>
<pre><code class="lang-js">toast(&quot;hello&quot;);
/* 显示消息框 2 秒钟, 且立即显示, 前一个消息框 &quot;hello&quot; 被 &quot;覆盖&quot;. */
toast(&quot;world&quot;, &quot;forcible&quot;);
</code></pre>
<blockquote>
<p>注: 此方法的 isForcible 参数只能为具有明确意义的字符标识, 不能为 boolean 类型或其他类型, 否则 isForcible 将被视为 isLong.</p>
</blockquote>
<h2>[m] dismissAll<span><a class="mark" href="#toast_m_dismissall" id="toast_m_dismissall">#</a></span></h2>
<h3>dismissAll()<span><a class="mark" href="#toast_dismissall" id="toast_dismissall">#</a></span></h3>
<p><strong><code>Global</code></strong> - <ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</p>
<p>强制消除所有由 AutoJs6 产生的消息框, 包括正在显示的及等待显示的.</p>
<p>使用方式:</p>
<pre><code class="lang-js">toast.dismissAll(); /* 立即消除所有消息框. */
</code></pre>
<p>示例:</p>
<pre><code class="lang-js">toast(&quot;hello&quot;);
toast(&quot;world&quot;);
toast(&quot;of&quot;);
toast(&quot;JavaScript&quot;);

sleep(1e3);

/* &quot;hello&quot; 显示 1 秒后消失, &quot;world&quot; 及其他消息框均不再显示. */
/* 若无 sleep 语句, 由于 toast 是异步的, 上述消息框均不会显示. */
toast.dismissAll();

/* dismissAll 仅对已在队列中的消息框有效, 因此下述消息框正常显示. */
toast(&quot;forcibly dismissed&quot;);
</code></pre>
<blockquote>
<p>注: 强制取消显示仅对当前脚本有效, 对其他脚本及应用程序无效.
<!-- [end-include:toast.md] --></p>
</blockquote>
<!-- [start-include:notice.md] -->
<h1>消息通知 (Notice)<span><a class="mark" href="#notice_notice" id="notice_notice">#</a></span></h1>
<p>notice 模块用于创建并显示消息通知.</p>
<p>位于通知栏的消息, 可用于 [ 消息提醒 / 信息通信 / 执行操作 ] 等.</p>
<blockquote>
<p>注: 不同安卓系统的通知表现可能存在较大差异, 与文档描述也可能存在出入.</p>
</blockquote>
<h2>简单操作<span><a class="mark" href="#notice" id="notice">#</a></span></h2>
<p>显示一条通知:</p>
<pre><code class="lang-js">/* 内容为 hello (标题为空). */
notice(&#39;hello&#39;);

/* 标题为 new message, 内容为 hello. */
notice(&#39;new message&#39;, &#39;hello&#39;);

/* 标题为 new message, 内容为 hello. */
notice({ title: &#39;new message&#39;, content: &#39;hello&#39; });

/* 标题为 new message, 内容为 hello. */
notice(notice.getBuilder()
    .setContentTitle(&#39;new message&#39;)
    .setContentText(&#39;hello&#39;));
</code></pre>
<p>显示两条独立的通知:</p>
<pre><code class="lang-js">notice(&#39;hello&#39;);
notice(&#39;world&#39;);
</code></pre>
<p>显示两条可覆盖的通知:</p>
<pre><code class="lang-js">/* 方法 A: 通过指定相同的通知 ID 实现通知覆盖. */

let id = 5; /* 任意 ID 均可, 用于区分不同的通知. */

notice(&#39;hello&#39;, { notificationId: id }); /* 指定一个通知 ID. */
sleep(1e3); /* 阻塞 1 秒. */
notice(&#39;world&#39;, { notificationId: id }); /* 通知 ID 相同, 因此 1 秒后上一条通知被替代 (覆盖). */

/* 方法 B: 通过 notice.config 配置 notice 的默认选项. */

notice.config({ useDynamicDefaultNotificationId: false }); /* 禁用动态通知 ID 选项. */
notice(&#39;hello&#39;);
sleep(1e3); /* 阻塞 1 秒. */
notice(&#39;world&#39;); /* 1 秒后上一条通知被替代 (覆盖). */
</code></pre>
<p>显示一条定制通知:</p>
<pre><code class="lang-js">notice(&#39;hello&#39;, {
    bigContent: &#39;This is a message which says &quot;hello&quot;\n-- from AutoJs6&#39;, /* 设置长内容. */
    isSilent: true, /* 静音模式. */
    appendScriptName: &#39;content&#39;, /* 附加脚本名称到内容结尾. */
    intent: &#39;docs&#39;, /* 点击通知后跳转到 AutoJs6 的文档页面. */
    autoCancel: true, /* 点击通知后自动移除通知. */
});

/* 更多配置选项, 可参阅本章节后续内容. */
</code></pre>
<p>如果需要发送多条上述定制通知, 可将上述定制选项提取出来:</p>
<pre><code class="lang-js">/* 定义一个定制通知选项变量. */
let options = {
    bigContent: &#39;This is a message which says &quot;hello&quot;\n-- from AutoJs6&#39;, /* 设置长内容. */
    isSilent: true, /* 静音模式. */
    appendScriptName: &#39;content&#39;, /* 附加脚本名称到内容结尾. */
    intent: &#39;docs&#39;, /* 点击通知后跳转到 AutoJs6 的文档页面. */
    autoCancel: true, /* 点击通知后自动移除通知. */
};

/* 以上述定制选项发送三条通知. */

notice(&#39;hello&#39;, options);
notice(&#39;world&#39;, options);
notice(&#39;tour&#39;, options);
</code></pre>
<p>上述示例指定通知 ID 可实现通知覆盖:</p>
<pre><code class="lang-js">/* 指定一个通知 ID 为固定值. */
options.notificationId = 20;

/* 以上述定制选项发送三条可覆盖的通知. */

notice(&#39;hello&#39;, options);
sleep(1e3);
notice(&#39;world&#39;, options); /* 1 秒后覆盖 &#39;hello&#39;. */
sleep(1e3);
notice(&#39;tour&#39;, options); /* 1 秒后覆盖 &#39;world&#39;. */

/* options 可随时进行定制修改. */

delete options.bigContent; /* 删除长内容. */
sleep(1e3);
notice(&#39;movie&#39;, options); /* 1 秒后覆盖 &#39;tour&#39; */

options.intent = &#39;home&#39;; /* 修改 intent 属性. */
sleep(1e3);
notice(&#39;here&#39;, options); /* 1 秒后覆盖 &#39;movie&#39; */
</code></pre>
<h2>通知渠道<span><a class="mark" href="#notice_1" id="notice_1">#</a></span></h2>
<p><code>通知渠道 (Notification Channel)</code> 用于分类管理通知.</p>
<p>例如设置两个渠道, 水果和天气. 水果渠道用于发送与水果销量变化相关的通知, 天气渠道用于发送气象数据变化相关的通知.</p>
<p>不同渠道的通知可分别定制, 如是否弹出通知, 是否振动, 通知指示灯开关及颜色, 是否静音等. 渠道之间的设置是互相独立的.</p>
<blockquote>
<p>更多通知渠道的内容, 参阅 <a href="notificationChannelGlossary.html">通知渠道</a> 术语章节.</p>
</blockquote>
<blockquote>
<p>notice 模块的渠道相关方法, 参阅 <a href="#all_p_channel">notice.channel</a> 小节.</p>
</blockquote>
<h3>创建渠道<span><a class="mark" href="#notice_2" id="notice_2">#</a></span></h3>
<p>通知渠道使用 <code>渠道 ID (Channel ID)</code> 作为唯一标识.</p>
<p>以渠道 ID 名称 <code>&#39;my_channel_id&#39;</code> 为例, 当 ID 为 <code>&#39;my_channel_id&#39;</code> 的渠道从未创建时, <code>channel.create(&#39;my_channel_id&#39;, options)</code> 将创建一个新的渠道, 其 ID 为 <code>&#39;my_channel_id&#39;</code>.</p>
<pre><code class="lang-js">notice.channel.create(&#39;my_channel_id&#39;, {
    name: &#39;New message&#39;,
    description: &#39;Messages from David&#39;,
    importance: 3,
    enableLights: true,
    lightColor: &#39;blue&#39;,
    enableVibration: true,
});
</code></pre>
<p>上述示例代码创建了一个新渠道, 并进行了渠道配置, 包括 [ 名称 (name) / 描述 (description) / 优先级 (importance) / 启动指示灯且设置为蓝色 / 启用振动 ].</p>
<p>创建渠道后, 使用渠道 ID 可以在渠道内显示通知:</p>
<pre><code class="lang-js">/* 简单通知. */
notice(&#39;hello&#39;, { channelId: &#39;my_channel_id&#39; });

/* 设置一些选项. */
notice(&#39;hello&#39;, {
    channelId: &#39;my_channel_id&#39;,
    isSilent: true, /* 静音模式. */
    intent: &#39;homepage&#39;, /* 点击通知后跳转到 AutoJs6 的主页页面. */
    autoCancel: true, /* 点击通知后自动移除通知. */
});
</code></pre>
<h3>修改渠道<span><a class="mark" href="#notice_3" id="notice_3">#</a></span></h3>
<p>以渠道 ID 名称 <code>&#39;my_channel_id&#39;</code> 为例, 当 ID 为 <code>&#39;my_channel_id&#39;</code> 的渠道已存在 (且未经删除) 时, <code>channel.create(&#39;my_channel_id&#39;, options)</code> 将修改这个渠道的相关配置.</p>
<pre><code class="lang-js">notice.channel.create(&#39;my_channel_id&#39;, {
    name: &#39;New message&#39;,
    description: &#39;There is a new message from David&#39;,
    importance: 3,
});
</code></pre>
<p>上述示例代码修改了渠道配置, 包括 [ 名称 (name) / 描述 (description) / 优先级 (importance) ].</p>
<p>需额外留意, 渠道的修改并非总是生效的, 需满足以下规则:</p>
<ul>
<li>名称 (name) 允许修改</li>
<li>描述 (description) 允许修改</li>
<li>优先级 (importance) 需同时满足以下两个条件方可修改<ul>
<li>优先级降级修改</li>
<li>用户从未修改当前渠道的优先级</li>
</ul>
</li>
<li>除上述 [ 名称 / 描述 / 优先级 ] 外, 其他所有属性均无法修改</li>
</ul>
<h3>恢复渠道<span><a class="mark" href="#notice_4" id="notice_4">#</a></span></h3>
<p>以渠道 ID 名称 <code>&#39;my_channel_id&#39;</code> 为例, 当 ID 为 <code>&#39;my_channel_id&#39;</code> 的渠道通过 <code>channel.remove()</code> 被删除时, <code>channel.create(&#39;my_channel_id&#39;, options)</code> 将重新恢复之前被删除的渠道 (反删除), 且附带之前渠道的所有配置.</p>
<p>这样的设计是防止应用通过代码的方式恶意篡改用户对通知渠道的配置.</p>
<h3>渠道放权<span><a class="mark" href="#notice_5" id="notice_5">#</a></span></h3>
<p>使用代码创建渠道时, 可自定义渠道的默认通知行为, 如指示灯颜色及是否振动等.</p>
<p>但渠道创建后, 将无法通过代码更改这些设置 (除上面提到的名称, 描述, 和受条件限制的优先级之外).</p>
<p>对于渠道的设置, 用户拥有最终控制权.</p>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">notice</p>

<hr>
<h2>[@] notice<span><a class="mark" href="#notice_notice_1" id="notice_notice_1">#</a></span></h2>
<p>notice 可作为全局对象使用:</p>
<pre><code class="lang-js">typeof notice; // &quot;function&quot;
typeof notice.channel; // &quot;object&quot;
typeof notice.getBuilder; // &quot;function&quot;
</code></pre>
<h3>notice(content)<span><a class="mark" href="#notice_notice_content" id="notice_notice_content">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 1/8</code></strong></p>
<ul>
<li><strong>content</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的内容</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 包含内容.</p>
<pre><code class="lang-js">notice(&#39;hello&#39;);
</code></pre>
<h3>notice(title, content)<span><a class="mark" href="#notice_notice_title_content" id="notice_notice_title_content">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 2/8</code></strong></p>
<ul>
<li><strong>title</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的标题</li>
<li><strong>content</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的内容</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 包含标题及内容.</p>
<pre><code class="lang-js">notice(&#39;message&#39;, &#39;hello&#39;);
</code></pre>
<blockquote>
<p>注: 第 1 个 (索引 0) 参数代表标题, 第 2 个 (索引 1) 参数代表内容.</p>
</blockquote>
<h3>notice()<span><a class="mark" href="#notice_notice_2" id="notice_notice_2">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/8</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 主要用于测试.</p>
<p>该测试通知包含标题及内容.</p>
<pre><code class="lang-js">// 以 AutoJs6 语言为 English 为例, 
// 标题为 Script notification, 
// 内容为 Notification from script.
notice();
</code></pre>
<h3>notice(options)<span><a class="mark" href="#notice_notice_options" id="notice_notice_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 4/8</code></strong></p>
<ul>
<li><strong>options</strong> { <span class="type"><a href="noticeOptionsType.html">NoticeOptions</a></span> } - 通知选项配置</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 并进行选项配置.</p>
<pre><code class="lang-js">notice({
    bigContent: &#39;This is a message which says &quot;hello&quot;\n-- from AutoJs6&#39;, /* 设置长内容. */
    isSilent: true, /* 静音模式. */
    appendScriptName: &#39;content&#39;, /* 附加脚本名称到内容结尾. */
    intent: &#39;settings&#39;, /* 点击通知后跳转到 AutoJs6 的设置页面. */
    autoCancel: true, /* 点击通知后自动移除通知. */
});
</code></pre>
<p>更多配置选项, 可参阅 <a href="noticeOptionsType.html">NoticeOptions</a> 类型章节.</p>
<h3>notice(content, options)<span><a class="mark" href="#notice_notice_content_options" id="notice_notice_content_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 5/8</code></strong></p>
<ul>
<li><strong>content</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的内容</li>
<li><strong>options</strong> { <span class="type"><a href="noticeOptionsType.html">NoticeOptions</a></span> } - 通知选项配置</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 包含内容, 并进行选项配置.</p>
<p>与 <code>notice(options)</code> 类似, 但增加 <code>content</code> 参数.</p>
<pre><code class="lang-js">notice(&#39;hello&#39;, { isSilent: true });
</code></pre>
<blockquote>
<p>注: 内容参数可能重复指定.<br>出现重复指定时, 按以下优先级处理:<br>options.content &gt; content</p>
</blockquote>
<h3>notice(title, content, options)<span><a class="mark" href="#notice_notice_title_content_options" id="notice_notice_title_content_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 6/8</code></strong></p>
<ul>
<li><strong>title</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的标题</li>
<li><strong>content</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 通知消息的内容</li>
<li><strong>options</strong> { <span class="type"><a href="noticeOptionsType.html">NoticeOptions</a></span> } - 通知选项配置</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>发送通知, 包含标题及内容, 并进行选项配置.</p>
<p>与 <code>notice(options)</code> 类似, 但增加 <code>title</code> 和 <code>content</code> 参数.</p>
<pre><code class="lang-js">notice(&#39;message&#39;, &#39;hello&#39;, { isSilent: true });
</code></pre>
<blockquote>
<p>注: 标题参数与内容参数可能重复指定.<br>出现重复指定时, 按以下优先级处理:<br>options.title &gt; title
options.content &gt; content</p>
</blockquote>
<h3>notice(builder)<span><a class="mark" href="#notice_notice_builder" id="notice_notice_builder">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 7/8</code></strong></p>
<ul>
<li><strong>builder</strong> { <span class="type"><a href="noticeBuilderType.html">NoticeBuilder</a></span> } - 通知构建器</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>使用 <code>通知构建器 (Notice Builder)</code> 发送通知.</p>
<p>参阅 <a href="#all_m_getbuilder">getBuilder</a> 小节.</p>
<h3>notice(builder, options)<span><a class="mark" href="#notice_notice_builder_options" id="notice_notice_builder_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 8/8</code></strong></p>
<ul>
<li><strong>builder</strong> { <span class="type"><a href="noticeBuilderType.html">NoticeBuilder</a></span> } - 通知构建器</li>
<li><strong>options</strong> { <span class="type"><a href="noticeOptionsType.html">NoticeOptions</a></span> } - 通知选项配置</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
</ul>
<p>使用 <code>通知构建器 (Notice Builder)</code> 发送通知, 并进行选项配置.</p>
<pre><code class="lang-js">let notificationId = 12;
let progress = 0;
let progressMax = 100;

let builder = notice.getBuilder()
    .setSilent(true)
    .setContentTitle(&#39;正在下载应用&#39;);

while (progress &lt; progressMax) {
    builder
        .setProgress(progressMax, progress, false)
        .setContentText(`已完成 ${progress}%`);
    notice(builder, { notificationId });
    sleep(50);
    progress += Mathx.randInt(1, 4);
}
builder
    .setContentText(`已完成 ${progressMax}%`)
    .setContentTitle(&#39;下载完成&#39;)
notice(builder, { notificationId });
</code></pre>
<p>参阅 <a href="#all_m_getbuilder">getBuilder</a> 小节.</p>
<h2>[m] isEnabled<span><a class="mark" href="#notice_m_isenabled" id="notice_m_isenabled">#</a></span></h2>
<h3>isEnabled()<span><a class="mark" href="#notice_isenabled" id="notice_isenabled">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>检测 AutoJs6 的通知是否未被阻止 (not blocked).</p>
<p>通常的阻止 (block) 情况:</p>
<ul>
<li>通知全局开关默认未开启或被用户关闭</li>
<li>通知权限 <code>Manifest.permission.POST_NOTIFICATIONS</code> 未授予或被撤回</li>
</ul>
<pre><code class="lang-js">console.log(notice.isEnabled()); /* e.g. true */
</code></pre>
<p>部分机型的 toast 功能依赖通知权限, 如需在使用 toast 时检查通知权限是否被阻止, 可使用 <code>isEnabled</code> 或 <code>ensureEnabled</code> 方法:</p>
<pre><code class="lang-js">if (!notice.isEnabled()) {
    console.warn(&#39;通知被阻止, toast 可能无法正常显示&#39;);
}
toast(&#39;hello&#39;);

notice.ensureEnabled();
toast(&#39;hello&#39;);
</code></pre>
<p>结合 <a href="#all_m_launchsettings">notice.launchSettings</a> 可辅助用户跳转至通知设置页面:</p>
<pre><code class="lang-js">if (!notice.isEnabled()) {
    notice.launchSettings();
}
</code></pre>
<h2>[m] ensureEnabled<span><a class="mark" href="#notice_m_ensureenabled" id="notice_m_ensureenabled">#</a></span></h2>
<h3>ensureEnabled()<span><a class="mark" href="#notice_ensureenabled" id="notice_ensureenabled">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>确保 AutoJs6 的通知未被阻止 (not blocked).</p>
<p>当通知被阻止时将抛出 <code>Exception</code> 异常.</p>
<h2>[m] launchSettings<span><a class="mark" href="#notice_m_launchsettings" id="notice_m_launchsettings">#</a></span></h2>
<h3>launchSettings()<span><a class="mark" href="#notice_launchsettings" id="notice_launchsettings">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>跳转至 AutoJs6 的通知设置页面.</p>
<pre><code class="lang-js">notice.launchSettings();
</code></pre>
<h2>[m] cancel<span><a class="mark" href="#notice_m_cancel" id="notice_m_cancel">#</a></span></h2>
<h3>cancel(id)<span><a class="mark" href="#notice_cancel_id" id="notice_cancel_id">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>id</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 通知 ID</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>消除通知.</p>
<pre><code class="lang-js">let id = notice({ title: &#39;New message&#39; });
/* 2 秒后自动消除通知. */
setTimeout(() =&gt; notice.cancel(id), 2e3);
</code></pre>
<h2>[m] getBuilder<span><a class="mark" href="#notice_m_getbuilder" id="notice_m_getbuilder">#</a></span></h2>
<h3>getBuilder()<span><a class="mark" href="#notice_getbuilder" id="notice_getbuilder">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="noticeBuilderType.html">NoticeBuilder</a></span> }</li>
</ul>
<p>获取一个简单通知构建器.</p>
<p>简单通知构建器包含以下默认设置:</p>
<ul>
<li><code>setSmallIcon(R.drawable.autojs6_material)</code> # AutoJs6 应用图标作为 smallIcon</li>
<li><code>setPriority(NotificationCompat.PRIORITY_HIGH)</code> # 高优先级 (仅针对 Android 7.1 及以下)</li>
</ul>
<p>构建器通常配合 <code>notice</code> 方法作为 第 1 个 (索引 0) 参数使用, 即 <code>notice(notice.getBuilder())</code>:</p>
<pre><code class="lang-js">let builder = notice.getBuilder();
builder.setContentTitle(&#39;Weather condition&#39;);
builder.setContentText(&#39;The sky is getting dark&#39;);
notice(builder);

/* 链式调用使代码更简洁. */

notice(notice.getBuilder()
    .setContentTitle(&#39;Weather condition&#39;)
    .setContentText(&#39;The sky is getting dark&#39;));
</code></pre>
<p>构建器可用于设置更多通知行为, 如 <a href="noticeBuilderType.html#noticebuildertype_m_setstyle">setStyle</a>, <a href="noticeBuilderType.html#noticebuildertype_m_settimeoutafter">setTimeoutAfter</a>, <a href="noticeBuilderType.html#noticebuildertype_m_setprogress">setProgress</a> 等.</p>
<p>但需要注意参数类型需严格符合要求, AutoJs6 内置的 <a href="omniTypes.html">全能类型</a> 是不可用的.</p>
<p>关于通知构建器的更多用法, 参阅 <a href="noticeBuilderType.html">NoticeBuilder</a> 类型章节.</p>
<h2>[m] config<span><a class="mark" href="#notice_m_config" id="notice_m_config">#</a></span></h2>
<p>config 方法用于修改默认配置, 即用于配置通知渠道与通知发送的默认行为.</p>
<p>例如 <code>notice(&#39;hello&#39;)</code> 会发送一个内容为 &quot;hello&quot; 的通知, 但其中隐含了许多默认的通知行为.</p>
<blockquote>
<p>注: 初次使用 notice 模块时, 建议先跳过此小节内容, 待了解包括 <a href="#all_p_channel">channel</a> 等在内的相关内容后再继续阅读当前小节.</p>
</blockquote>
<p>例如, <code>isSilent</code> 默认为 <code>false</code>, 表示不进行强制静音.<br>通过 <code>notice.config</code> 可配置所有通知发送时, 默认启用强制静音:</p>
<pre><code class="lang-js">notice.config({ defaultIsSilent: true }); /* 通知发送时, 默认强制静音. */
</code></pre>
<p>执行上述示例代码后, <code>notice(&#39;hello&#39;)</code> 将会静音发送通知.</p>
<p>如果不执行上述代码, 则需要在每一个 notice 方法中加入 <code>isSilent</code> 选项设置:</p>
<pre><code class="lang-js">notice(&#39;hello&#39;, { isSilent: true });
notice(&#39;message&#39;, { isSilent: true });
notice(&#39;finished&#39;, { isSilent: true });
/* ... ... */
</code></pre>
<p>因此, <code>notice.config</code> 适用于在同一个脚本或项目中, 有多次使用 <code>notice</code> 需求的场景.</p>
<blockquote>
<p>注: notice.config 配置的是默认行为, 当通过参数明确指定了某个行为时, 默认行为将不会生效.</p>
</blockquote>
<h3>config(preset)<span><a class="mark" href="#notice_config_preset" id="notice_config_preset">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>preset</strong> { <span class="type"><a href="noticePresetConfigurationType.html">NoticePresetConfiguration</a></span> } - 通知预设配置对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>配置通知渠道与通知发送的默认行为.</p>
<pre><code class="lang-js">notice.config({
    useDynamicDefaultNotificationId: false, /* 禁用动态通知 ID. */
    useScriptNameAsDefaultChannelId: false, /* 禁用以脚本名称作为渠道 ID. */
    enableChannelInvalidModificationWarnings: false, /* 禁用渠道修改无效的警告消息. */
    defaultTitle: &#39;NEW MESSAGE&#39;, /* 修改默认通知标题. */
    /* ... ... */
});
</code></pre>
<p>更多可用的默认行为配置, 参阅 <a href="noticePresetConfigurationType.html">NoticePresetConfiguration</a> 类型章节.</p>
<h2>[p+] channel<span><a class="mark" href="#notice_p_channel" id="notice_p_channel">#</a></span></h2>
<h3>[m] create<span><a class="mark" href="#notice_m_create" id="notice_m_create">#</a></span></h3>
<p><code>channel.create</code> 可用于 [ <a href="#all_创建渠道">创建</a> / <a href="#all_修改渠道">修改</a> / <a href="#all_恢复渠道">恢复</a> ] 某个特定 <code>渠道 ID (Channel ID)</code> 的通知渠道.</p>
<p>详见 <a href="#all_通知渠道">通知渠道</a> 小节.</p>
<h4>create(channelId)<span><a class="mark" href="#notice_create_channelid" id="notice_create_channelid">#</a></span></h4>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>channelId</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 渠道 ID</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 渠道 ID</li>
</ul>
<p>创建通知渠道, 并指定渠道 ID.</p>
<pre><code class="lang-js">let id = &#39;my_channel_id&#39;;
notice.channel.create(id); /* 创建渠道. */
notice(&#39;hello&#39;, { channelId: id }); /* 发送通知. */
</code></pre>
<h4>create(channelId, options)<span><a class="mark" href="#notice_create_channelid_options" id="notice_create_channelid_options">#</a></span></h4>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>channelId</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 渠道 ID</li>
<li><strong>options</strong> { <span class="type"><a href="noticeChannelOptionsType.html">NoticeChannelOptions</a></span> } - 渠道创建选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 渠道 ID</li>
</ul>
<p>创建通知渠道, 指定渠道 ID 并进行渠道配置.</p>
<pre><code class="lang-js">notice.channel.create(&#39;my_channel_id&#39;, {
    name: &#39;New message&#39;, /* 渠道名称. */
    description: &#39;Messages from David&#39;, /* 渠道描述. */
    importance: 3, /* 渠道优先级. */
    enableLights: true, /* 启用指示灯. */
    lightColor: &#39;blue&#39;, /* 设置指示灯颜色. */
    enableVibration: true, /* 启用振动. */
});
</code></pre>
<p>更多渠道配置相关信息, 参阅 <a href="noticeChannelOptionsType.html">NoticeChannelOptions</a> 类型章节.</p>
<blockquote>
<p>注: 渠道 ID 可能重复指定.<br>出现重复指定时, 按以下优先级处理:<br>options.id &gt; channelId</p>
</blockquote>
<h4>create(options)<span><a class="mark" href="#notice_create_options" id="notice_create_options">#</a></span></h4>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 3/3</code></strong></p>
<ul>
<li><strong>options</strong> { <span class="type"><a href="noticeChannelOptionsType.html">NoticeChannelOptions</a></span> } - 渠道创建选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 渠道 ID</li>
</ul>
<p>创建通知渠道, 与 <code>create(channelId, options)</code> 方法类似, 但省略 <code>channelId</code> 参数.</p>
<p>如需指定渠道 ID, 可在 <code>options</code> 参数中使用 <code>id</code> 属性:</p>
<pre><code class="lang-js">notice.channel.create({ id: &#39;my_channel_id&#39; });
</code></pre>
<p>当不指定 <code>id</code> 时, 渠道 ID 将使用当前运行脚本的脚本名称.</p>
<p>更多渠道配置相关信息, 参阅 <a href="noticeChannelOptionsType.html">NoticeChannelOptions</a> 类型章节.</p>
<h3>[m] contains<span><a class="mark" href="#notice_m_contains" id="notice_m_contains">#</a></span></h3>
<h4>contains(channelId)<span><a class="mark" href="#notice_contains_channelid" id="notice_contains_channelid">#</a></span></h4>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>channelId</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 渠道 ID</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 当前渠道 ID 是否已被创建</li>
</ul>
<p>返回指定 <code>渠道 ID (Channel ID)</code> 的 AutoJs6 渠道是否存在.</p>
<pre><code class="lang-js">notice.channel.contains(&#39;my_channel_id&#39;); /* e.g. false */
</code></pre>
<h3>[m] remove<span><a class="mark" href="#notice_m_remove" id="notice_m_remove">#</a></span></h3>
<h4>remove(channelId)<span><a class="mark" href="#notice_remove_channelid" id="notice_remove_channelid">#</a></span></h4>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>channelId</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 渠道 ID</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 删除前, 当前渠道 ID 是否已被创建</li>
</ul>
<p>根据 <code>渠道 ID (Channel ID)</code> 删除 AutoJs6 的渠道实例.</p>
<p>删除前, 若渠道已被创建且未被删除, 则返回 <code>true</code>, 否则返回 <code>false</code>.</p>
<pre><code class="lang-js">let id = &#39;my_channel_id&#39;;
if (notice.channel.contains(id)) {
    notice.channel.remove(id); // true
}
</code></pre>
<h3>[m] get<span><a class="mark" href="#notice_m_get" id="notice_m_get">#</a></span></h3>
<h4>get(channelId)<span><a class="mark" href="#notice_get_channelid" id="notice_get_channelid">#</a></span></h4>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="https://developer.android.com/reference/android/app/NotificationChannel">android.app.NotificationChannel</a></span> | <span class="type"><a href="dataTypes.html#datatypes_null">null</a></span> } - 渠道实例</li>
</ul>
<p>根据 <code>渠道 ID (Channel ID)</code> 获取 AutoJs6 的渠道实例, 不存在时返回 <code>null</code>.</p>
<pre><code class="lang-js">let id = &#39;my_channel_id&#39;;
if (notice.channel.contains(id)) {
    console.log(notice.channel.get(id)); /* 打印通知渠道信息. */
} else {
    console.log(`ID &quot;${id}&quot; 对应的通知渠道不存在`);
}

/* 不使用 contains 也可以判断 Channel ID 的存在性. */

let channel = notice.channel.get(id);
if (channel !== null) {
    /* ... */
}
</code></pre>
<h3>[m] getAll<span><a class="mark" href="#notice_m_getall" id="notice_m_getall">#</a></span></h3>
<h4>getAll()<span><a class="mark" href="#notice_getall" id="notice_getall">#</a></span></h4>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="https://developer.android.com/reference/android/app/NotificationChannel">android.app.NotificationChannel</a><a href="dataTypes.html#datatypes_array">[]</a></span> } - 渠道实例数组</li>
</ul>
<p>获取 AutoJs6 的所有通知渠道实例 (不包含已被删除的).</p>
<pre><code class="lang-js">console.log(`当前共计渠道 ${notice.channel.getAll().length} 个`);
notice.channel.getAll().map(ch =&gt; ch.getId()); /* 获取所有渠道的 ID. */
</code></pre>
<!-- [end-include:notice.md] -->
<!-- [start-include:console.md] -->
<h1>控制台 (Console)<span><a class="mark" href="#console_console" id="console_console">#</a></span></h1>
<p>AutoJs6 的控制台类似 Web 浏览器的调试控制台, 用于信息输出或辅助代码调试.</p>
<h2>显示控制台<span><a class="mark" href="#console" id="console">#</a></span></h2>
<p>AutoJs6 支持以下几种方式显示控制台:</p>
<ul>
<li>点击 AutoJs6 应用主页右上区域 &quot;日志&quot; 图标 - 显示控制台 Activity 活动页面.</li>
<li>使用代码 <code>console.launch()</code> - 显示控制台 Activity 活动页面.</li>
<li>使用代码 <code>console.show()</code> - 显示控制台 <code>浮动窗口 (Floating Window)</code>.</li>
</ul>
<h2>模块作用<span><a class="mark" href="#console_1" id="console_1">#</a></span></h2>
<p>console 模块的主要作用:</p>
<ul>
<li>控制台日志内容的管理 - [ 按分级显示内容 / 内容清空 / 时间跟踪 / 栈追踪 / 存入文件 ] 等<ul>
<li><a href="#all_m_log">console.log</a></li>
<li><a href="#all_m_setgloballogconfig">console.setGlobalLogConfig</a></li>
</ul>
</li>
<li>控制台浮动窗口的管理 - [ 窗口样式 / 文字样式 / 窗口显示与隐藏 / 窗口位置与尺寸 ] 等<ul>
<li><a href="#all_m_show">console.show</a></li>
</ul>
</li>
<li>控制台 Activity 活动窗口管理<ul>
<li><a href="#all_m_launch">console.launch</a></li>
</ul>
</li>
</ul>
<p>控制台浮动窗口的相关方法仅对浮动窗口有效, 而对 Activity 活动窗口无效:</p>
<pre><code class="lang-js">/* 浮动窗口日志文本字体大小修改为 23sp, */
/* 但 Activity 活动窗口的日志字体不受影响. */

console.setContentTextSize(23);
console.show(); /* 浮动窗口日志字体 23sp. */

console.launch(); /* Activity 活动窗口的日志字体仍为默认大小. */
</code></pre>
<h2>浮动窗口<span><a class="mark" href="#console_2" id="console_2">#</a></span></h2>
<p>使用 <a href="#all_m_show">console.show</a> 可显示控制台的浮动窗口.</p>
<ul>
<li>浮动窗口右上区域有三个操作按钮<ul>
<li>最小化按钮 - 收起浮动窗口并显示一个浮动按钮</li>
<li>空间状态配置按钮 - 显示或隐藏空间状态 (位置及尺寸) 配置按钮</li>
<li>关闭按钮 - 隐藏浮动窗口</li>
</ul>
</li>
<li>拖动标题栏区域也可实现浮动窗口的位置移动</li>
<li>日志显示区域支持双指缩放改变文本字体大小</li>
</ul>
<p>如需使用代码配置浮动窗口的外观与样式, 参阅 <a href="#all_m_build">console.build</a> 小节.</p>
<p>一个简单的浮动窗口配置示例, 以便快速了解浮动窗口的配置方式:</p>
<ul>
<li>尺寸 - 宽 80% 屏幕宽度, 高 60% 屏幕高度</li>
<li>位置 - X 坐标 10% 屏幕宽度, Y 坐标 15% 屏幕高度</li>
<li>标题 - HELLO WORLD</li>
<li>标题字号 - 18sp</li>
<li>标题背景颜色 - 900 号深橙色, 80% 透明度</li>
<li>日志字号 - 16sp</li>
<li>日志背景颜色 - 与标题背景颜色相同, 50% 透明度</li>
<li>浮动窗口在脚本结束后 6 秒钟自动隐藏</li>
</ul>
<pre><code class="lang-js">/* 使用构建器方式. */

console.build({
    size: [ 0.8, 0.6 ],
    position: [ 0.1, 0.15 ],
    title: &#39;HELLO WORLD&#39;,
    titleTextSize: 18,
    contentTextSize: 16,
    backgroundColor: &#39;deep-orange-900&#39;,
    titleBackgroundAlpha: 0.8,
    contentBackgroundAlpha: 0.5,
    exitOnClose: 6e3,
}).show();

/* 使用链式配置方式. */

console
    .setSize(0.8, 0.6)
    .setPosition(0.1, 0.15)
    .setTitle(&#39;HELLO WORLD&#39;)
    .setTitleTextSize(18)
    .setContentTextSize(16)
    .setBackgroundColor(&#39;deep-orange-900&#39;)
    .setTitleBackgroundAlpha(0.8)
    .setContentBackgroundAlpha(0.5)
    .setExitOnClose(6e3)
    .show();

/* 使用传统分步配置方式. */

console.setSize(0.8, 0.6);
console.setPosition(0.1, 0.15);
console.setTitle(&#39;HELLO WORLD&#39;);
console.setTitleTextSize(18);
console.setContentTextSize(16);
console.setBackgroundColor(&#39;deep-orange-900&#39;);
console.setTitleBackgroundAlpha(0.8);
console.setContentBackgroundAlpha(0.5);
console.setExitOnClose(6e3);
console.show();
</code></pre>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">console</p>

<hr>
<h2>[m] show<span><a class="mark" href="#console_m_show" id="console_m_show">#</a></span></h2>
<h3>show()<span><a class="mark" href="#console_show" id="console_show">#</a></span></h3>
<p><strong><code>[6.3.0]</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>显示控制台浮动窗口.</p>
<p>窗口显示之前或之后, 均可设置浮动窗口的样式及空间状态.<br>如将窗口尺寸设置为 <code>500</code> × <code>800</code>:</p>
<pre><code class="lang-js">/* 在 show 之前设置尺寸. */

console.setSize(500, 800);
console.show();

/* 在 show 之后设置尺寸. */

console.show();
console.setSize(500, 800);

/* 上述两个示例均支持链式调用. */
console.show().setSize(500, 800);
console.setSize(500, 800).show();
</code></pre>
<h2>[m] isShowing<span><a class="mark" href="#console_m_isshowing" id="console_m_isshowing">#</a></span></h2>
<h3>isShowing()<span><a class="mark" href="#console_isshowing" id="console_isshowing">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> }</li>
</ul>
<p>返回控制台浮动窗口是否未处于隐藏状态.</p>
<p>未隐藏状态包含以下情况:</p>
<ul>
<li>浮动窗口展开显示</li>
<li>浮动窗口折叠显示 (最小化)</li>
</ul>
<pre><code class="lang-js">console.show();
console.isShowing(); // true

console.collapse(); /* 折叠 (最小化) 浮动窗口. */
console.isShowing(); /* 依然为 true. */

console.hide(); /* 隐藏浮动窗口. */
console.isShowing(); // false
</code></pre>
<h2>[m] hide<span><a class="mark" href="#console_m_hide" id="console_m_hide">#</a></span></h2>
<h3>hide()<span><a class="mark" href="#console_hide" id="console_hide">#</a></span></h3>
<p><strong><code>[6.3.0]</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>隐藏控制台浮动窗口.</p>
<p>窗口隐藏后, 其样式及空间状态均被保留, 即使在脚本结束后:</p>
<pre><code class="lang-js">console.show();
console.setSize(500, 800);
console.hide();
</code></pre>
<p>此时在另一个脚本运行如下代码:</p>
<pre><code class="lang-js">console.show();
</code></pre>
<p>显示浮动窗口后, 窗口尺寸依然为 <code>500</code> × <code>800</code>, 之前的窗口配置被还原.</p>
<p>如需在显示之前恢复窗口配置默认值, 可使用 <code>console.reset()</code>:</p>
<pre><code class="lang-js">console.reset();
console.show();
</code></pre>
<h2>[m] reset<span><a class="mark" href="#console_m_reset" id="console_m_reset">#</a></span></h2>
<h3>reset()<span><a class="mark" href="#console_reset" id="console_reset">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>重置控制台浮动窗口的样式及空间状态, 恢复其默认值.</p>
<p><code>reset</code> 方法在浮动窗口显示时也可使用:</p>
<pre><code class="lang-js">console.setSize(500, 800).show();
setTimeout(console.reset, 2e3); /* 2 秒钟后重置. */
</code></pre>
<h2>[m] collapse<span><a class="mark" href="#console_m_collapse" id="console_m_collapse">#</a></span></h2>
<h3>collapse()<span><a class="mark" href="#console_collapse" id="console_collapse">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>折叠显示控制台浮动窗口, 即最小化窗口.</p>
<h2>[m] expand<span><a class="mark" href="#console_m_expand" id="console_m_expand">#</a></span></h2>
<h3>expand()<span><a class="mark" href="#console_expand" id="console_expand">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>展开显示控制台浮动窗口.</p>
<p>使用 <a href="#all_m_show">console.show</a> 显示窗口时, 默认为展开显示状态.</p>
<h2>[m] launch<span><a class="mark" href="#console_m_launch" id="console_m_launch">#</a></span></h2>
<h3>launch()<span><a class="mark" href="#console_launch" id="console_launch">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>启动控制台 Activity 活动窗口.</p>
<p>此方法相当于是 AutoJs6 首页右上区域点击 &quot;日志&quot; 图标的代码实现.</p>
<h2>[m] build<span><a class="mark" href="#console_m_build" id="console_m_build">#</a></span></h2>
<h3>build(options)<span><a class="mark" href="#console_build_options" id="console_build_options">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>options</strong> { <span class="type"><a href="consoleBuildOptionsType.html">ConsoleBuildOptions</a></span> } - 构建器选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type">{ show(): <a href="dataTypes.html#datatypes_void">void</a></span> }}</li>
</ul>
<p>构建控制台浮动窗口的配置.</p>
<p>构建后使用 <code>show</code> 方法显示控制台浮动窗口, 即 <code>console.build({ ... }).show()</code>.</p>
<p>构建器支持一次性配置多个浮动窗口样式选项:</p>
<pre><code class="lang-js">console.build({
    size: [ 0.8, 0.6 ], /* 窗口大小, 80% 屏幕宽度 × 60% 屏幕高度. */
    position: [ 0.1, 0.15 ], /* 窗口位置, X 坐标 10% 屏幕宽度, Y 坐标 15% 屏幕高度. */
    title: &#39;HELLO WORLD&#39;, /* 窗口标题文本. */
    titleTextSize: 18, /* 窗口标题字号, 单位为 sp. */
    contentTextSize: 16, /* 窗口日志字号, 单位 sp. */
    backgroundColor: &#39;deep-orange-900&#39;, /* 窗口标题及日志区域的背景色, 900 号深橙色. */
    titleBackgroundAlpha: 0.8, /* 窗口标题区域背景透明度, 90%. */
    contentBackgroundAlpha: 0.5, /* 窗口日志区域背景透明度, 50%. */
    exitOnClose: 6e3, /* 脚本运行结束时 6 秒钟后自动关闭窗口. */
}).show(); /* 使用 show 方法显示浮动窗口. */
</code></pre>
<p>更多构建参数及使用方法, 参阅 <a href="consoleBuildOptionsType.html">ConsoleBuildOptions</a> 类型章节.</p>
<h2>[m] setSize<span><a class="mark" href="#console_m_setsize" id="console_m_setsize">#</a></span></h2>
<h3>setSize(width, height)<span><a class="mark" href="#console_setsize_width_height" id="console_setsize_width_height">#</a></span></h3>
<p><strong><code>[6.3.0]</code></strong></p>
<ul>
<li><strong>width</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口宽度值 (像素值/百分数)</li>
<li><strong>height</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口高度值 (像素值/百分数)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的尺寸.</p>
<pre><code class="lang-js">console.setSize(0.8, 700).show(); /* 80% 屏幕宽度, 700 像素高度. */
console.build({ size: [ 0.8, 700 ] }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setPosition<span><a class="mark" href="#console_m_setposition" id="console_m_setposition">#</a></span></h2>
<h3>setPosition(x, y)<span><a class="mark" href="#console_setposition_x_y" id="console_setposition_x_y">#</a></span></h3>
<p><strong><code>[6.3.0]</code></strong></p>
<ul>
<li><strong>x</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口位置 X 坐标 (像素值/百分数)</li>
<li><strong>y</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口位置 Y 坐标 (像素值/百分数)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的位置.</p>
<pre><code class="lang-js">console.setPosition(0.1, 0.15).show(); /* X: 10% 屏幕宽度, Y: 15% 屏幕高度. */
console.build({ position: [ 0.1, 0.15 ] }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setExitOnClose<span><a class="mark" href="#console_m_setexitonclose" id="console_m_setexitonclose">#</a></span></h2>
<h3>setExitOnClose(exitOnClose?)<span><a class="mark" href="#console_setexitonclose_exitonclose" id="console_setexitonclose_exitonclose">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li>[ <code>true</code> ] <strong>exitOnClose</strong> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 浮动窗口是否自动关闭</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口在脚本结束时是否自动关闭.</p>
<pre><code class="lang-js">console.setExitOnClose(true).show(); /* 自动关闭启用, 脚本结束后 5 秒钟自动关闭浮动窗口. */
console.setExitOnClose().show(); /* 省略参数, 效果同上. */
console.build({ exitOnClose: true }).show(); /* 效果同上. */

console.setExitOnClose(false).show(); /* 禁用自动关闭. */
console.build({ exitOnClose: false }).show(); /* 效果同上. */
</code></pre>
<h3>setExitOnClose(timeout)<span><a class="mark" href="#console_setexitonclose_timeout" id="console_setexitonclose_timeout">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>timeout</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口自动关闭的超时时间 (毫秒)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口在脚本结束时自动关闭的超时时间, 单位为毫秒.</p>
<pre><code class="lang-js">console.setExitOnClose(6e3).show(); /* 脚本结束后 6 秒钟自动关闭浮动窗口. */
console.build({ exitOnClose: 6e3 }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setTitle<span><a class="mark" href="#console_m_settitle" id="console_m_settitle">#</a></span></h2>
<h3>setTitle(title)<span><a class="mark" href="#console_settitle_title" id="console_settitle_title">#</a></span></h3>
<p><strong><code>[6.3.0]</code></strong></p>
<ul>
<li><strong>title</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 浮动窗口标题文本</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题文本.</p>
<pre><code class="lang-js">console.setTitle(&#39;空调温度监测&#39;).show();
console.build({ title: &#39;空调温度监测&#39; }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setTitleTextSize<span><a class="mark" href="#console_m_settitletextsize" id="console_m_settitletextsize">#</a></span></h2>
<h3>setTitleTextSize(size)<span><a class="mark" href="#console_settitletextsize_size" id="console_settitletextsize_size">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>size</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口标题文本字体大小</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题文本字体大小, 单位 <code>sp</code>.</p>
<pre><code class="lang-js">console.setTitleTextSize(20).show(); /* 设置标题字体大小为 20sp. */
console.build({ titleTextSize: 20 }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setTitleTextColor<span><a class="mark" href="#console_m_settitletextcolor" id="console_m_settitletextcolor">#</a></span></h2>
<h3>setTitleTextColor(color)<span><a class="mark" href="#console_settitletextcolor_color" id="console_settitletextcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口标题文本字体颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题文本字体颜色.</p>
<pre><code class="lang-js">console.setTitleTextColor(&#39;dark-orange&#39;).show(); /* 设置标题字体颜色为深橙色. */
console.build({ titleTextColor: &#39;dark-orange&#39; }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setTitleBackgroundColor<span><a class="mark" href="#console_m_settitlebackgroundcolor" id="console_m_settitlebackgroundcolor">#</a></span></h2>
<h3>setTitleBackgroundColor(color)<span><a class="mark" href="#console_settitlebackgroundcolor_color" id="console_settitlebackgroundcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口标题显示区域背景颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题显示区域背景颜色.</p>
<pre><code class="lang-js">/* 设置标题显示区域背景颜色为深蓝色. */
console.setTitleBackgroundColor(&#39;dark-blue&#39;).show();
console.build({ titleBackgroundColor: &#39;dark-blue&#39; }).show(); /* 效果同上. */

/* 设置标题显示区域背景颜色为半透明深蓝色. */
console.setTitleBackgroundColor(Color(&#39;dark-blue&#39;).setAlpha(0.5)).show();
console.setTitleBackgroundColor(&#39;#8000008B&#39;).show(); /* 效果同上. */

/* 透明度也可使用 setTitleBackgroundAlpha 单独设置. */
console
    .setTitleBackgroundColor(&#39;dark-blue&#39;)
    .setTitleBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] setTitleBackgroundAlpha<span><a class="mark" href="#console_m_settitlebackgroundalpha" id="console_m_settitlebackgroundalpha">#</a></span></h2>
<h3>setTitleBackgroundAlpha(alpha)<span><a class="mark" href="#console_settitlebackgroundalpha_alpha" id="console_settitlebackgroundalpha_alpha">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口标题显示区域背景颜色透明度</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题显示区域背景颜色透明度.</p>
<pre><code class="lang-js">/* 设置标题显示区域背景颜色为半透明. */
console.setTitleBackgroundAlpha(0.5).show();
console.build({ titleBackgroundAlpha: 0.5 }).show(); /* 效果同上. */

/* 设置标题显示区域背景颜色为半透明深蓝色. */
console
    .setTitleBackgroundColor(&#39;dark-blue&#39;)
    .setTitleBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] setTitleIconsTint<span><a class="mark" href="#console_m_settitleiconstint" id="console_m_settitleiconstint">#</a></span></h2>
<h3>setTitleIconsTint(color)<span><a class="mark" href="#console_settitleiconstint_color" id="console_settitleiconstint_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口操作按钮着色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的操作按钮着色.</p>
<pre><code class="lang-js">/* 设置操作按钮着色为绿色. */
console.setTitleIconsTint(&#39;green&#39;).show();
console.build({ titleIconsTint: &#39;green&#39; }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setContentTextSize<span><a class="mark" href="#console_m_setcontenttextsize" id="console_m_setcontenttextsize">#</a></span></h2>
<h3>setContentTextSize(size: number)<span><a class="mark" href="#console_setcontenttextsize_size_number" id="console_setcontenttextsize_size_number">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>param</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口日志文本字体大小</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的日志文本字体大小, 单位 <code>sp</code>.</p>
<pre><code class="lang-js">/* 设置日志文本字体大小为 18sp. */
console.setContentTextSize(18).show();
console.build({ contentTextSize: 18 }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setContentTextColor<span><a class="mark" href="#console_m_setcontenttextcolor" id="console_m_setcontenttextcolor">#</a></span></h2>
<h3>setContentTextColor(colorMap)<span><a class="mark" href="#console_setcontenttextcolor_colormap" id="console_setcontenttextcolor_colormap">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 1/2</code></strong></p>
<ul>
<li><strong>colorMap</strong> {{<ul>
<li>verbose?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
<li>log?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
<li>info?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
<li>warn?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
<li>error?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
<li>assert?: <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a>;</li>
</ul>
</li>
<li>}} - 浮动窗口日志文本字体颜色表</li>
</ul>
<p>设置控制台浮动窗口的日志文本字体颜色, 按日志等级设置一个或多个不同的字体颜色.</p>
<pre><code class="lang-js">/* 设置 LOG 等级日志字体颜色为深橙色. */
console.setContentTextColor({ log: &#39;dark-orange&#39; }).show();
console.log(&#39;content text color test for console.log&#39;);

/* 设置 ERROR 等级日志字体颜色为深红色. */
console.setContentTextColor({ error: &#39;dark-red&#39; }).show();
console.error(&#39;content text color test for console.error&#39;);

/* 设置多个不同等级日志的字体颜色. */
console.setContentTextColor({
    verbose: &#39;gray&#39;,
    log: &#39;white&#39;,
    info: &#39;light-green&#39;,
    warn: &#39;light-blue&#39;,
    error: &#39;red&#39;,
}).show();
[ &#39;verbose&#39;, &#39;log&#39;, &#39;info&#39;, &#39;warn&#39;, &#39;error&#39; ].forEach((fName) =&gt; {
    console[fName].call(console, `content text color test for console.${fName}`);
});
</code></pre>
<h3>setContentTextColor(color)<span><a class="mark" href="#console_setcontenttextcolor_color" id="console_setcontenttextcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload 2/2</code></strong></p>
<ul>
<li><strong>colors</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口日志文本字体统一颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的日志文本字体的统一颜色.</p>
<p>此方法设置颜色时不区分日志等级, 统一设置所有日志的文本颜色.</p>
<pre><code class="lang-js">/* 所有日志本文的颜色统一设置为深绿色. */
console.setContentTextColor(&#39;dark-green&#39;).show();
[ &#39;verbose&#39;, &#39;log&#39;, &#39;info&#39;, &#39;warn&#39;, &#39;error&#39; ].forEach((fName) =&gt; {
    console[fName].call(console, `content text color test for console.${fName}`);
});
</code></pre>
<h2>[m] setContentBackgroundColor<span><a class="mark" href="#console_m_setcontentbackgroundcolor" id="console_m_setcontentbackgroundcolor">#</a></span></h2>
<h3>setContentBackgroundColor(color)<span><a class="mark" href="#console_setcontentbackgroundcolor_color" id="console_setcontentbackgroundcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口日志显示区域背景颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的日志显示区域背景颜色.</p>
<pre><code class="lang-js">/* 设置日志显示区域背景颜色为深蓝色. */
console.setContentBackgroundColor(&#39;dark-blue&#39;).show();
console.build({ contentBackgroundColor: &#39;dark-blue&#39; }).show(); /* 效果同上. */

/* 设置日志显示区域背景颜色为半透明深蓝色. */
console.setContentBackgroundColor(Color(&#39;dark-blue&#39;).setAlpha(0.5)).show();
console.setContentBackgroundColor(&#39;#8000008B&#39;).show(); /* 效果同上. */

/* 透明度也可使用 setContentBackgroundAlpha 单独设置. */
console
    .setContentBackgroundColor(&#39;dark-blue&#39;)
    .setContentBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] setContentBackgroundAlpha<span><a class="mark" href="#console_m_setcontentbackgroundalpha" id="console_m_setcontentbackgroundalpha">#</a></span></h2>
<h3>setContentBackgroundAlpha(alpha)<span><a class="mark" href="#console_setcontentbackgroundalpha_alpha" id="console_setcontentbackgroundalpha_alpha">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口日志显示区域背景颜色透明度</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的日志显示区域背景颜色透明度.</p>
<pre><code class="lang-js">/* 设置日志显示区域背景颜色为半透明. */
console.setContentBackgroundAlpha(0.5).show();
console.build({ contentBackgroundAlpha: 0.5 }).show(); /* 效果同上. */

/* 设置日志显示区域背景颜色为半透明深蓝色. */
console
    .setContentBackgroundColor(&#39;dark-blue&#39;)
    .setContentBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] setTextSize<span><a class="mark" href="#console_m_settextsize" id="console_m_settextsize">#</a></span></h2>
<h3>setTextSize(size)<span><a class="mark" href="#console_settextsize_size" id="console_settextsize_size">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>size</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口标题及日志文本字体大小</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题及日志文本字体大小, 单位 <code>sp</code>.</p>
<p>相当于 <a href="#all_m_settitletextsize">setTitleTextSize</a> 和 <a href="#all_m_setcontenttextsize">setContentTextSize</a> 的集成.</p>
<pre><code class="lang-js">/* 设置标题及日志文本字体大小为 18sp. */
console.setTextSize(18).show();
console.build({ textSize: 18 }).show(); /* 效果同上. */
</code></pre>
<h2>[m] setTextColor<span><a class="mark" href="#console_m_settextcolor" id="console_m_settextcolor">#</a></span></h2>
<h3>setTextColor(color)<span><a class="mark" href="#console_settextcolor_color" id="console_settextcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> <a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a> } - 浮动窗口标题及日志文本字体颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题及日志文本字体颜色.</p>
<p>对于日志文本, 不区分等级, 统一设置字体颜色.</p>
<p>相当于 <a href="#all_m_settitletextcolor">setTitleTextColor</a> 和 <a href="#all_m_setcontenttextcolor">setContentTextColor</a> 的集成.</p>
<pre><code class="lang-js">/* 所有标题及日志本文的颜色统一设置为浅蓝色. */
console.setTextColor(&#39;light-blue&#39;).show();
[ &#39;verbose&#39;, &#39;log&#39;, &#39;info&#39;, &#39;warn&#39;, &#39;error&#39; ].forEach((fName) =&gt; {
    console[fName].call(console, ` text color test for console.${fName}`);
});
</code></pre>
<h2>[m] setBackgroundColor<span><a class="mark" href="#console_m_setbackgroundcolor" id="console_m_setbackgroundcolor">#</a></span></h2>
<h3>setBackgroundColor(color)<span><a class="mark" href="#console_setbackgroundcolor_color" id="console_setbackgroundcolor_color">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>color</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnicolor">OmniColor</a></span> } - 浮动窗口标题及日志显示区域背景颜色</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题及日志显示区域背景颜色.</p>
<p>相当于 <a href="#all_m_settitlebackgroundcolor">setTitleBackgroundColor</a> 和 <a href="#all_m_setcontentbackgroundcolor">setContentBackgroundColor</a> 的集成.</p>
<pre><code class="lang-js">/* 设置标题及日志显示区域背景颜色为浅黄色. */
console.setBackgroundColor(&#39;light-yellow&#39;).show();
console.build({ backgroundColor: &#39;light-yellow&#39; }).show(); /* 效果同上. */

/* 设置标题及日志显示区域背景颜色为半透明浅黄色. */
console.setBackgroundColor(Color(&#39;light-yellow&#39;).setAlpha(0.5)).show();
console.setBackgroundColor(&#39;#80FFFFE0&#39;).show(); /* 效果同上. */

/* 透明度也可使用 backgroundAlpha 单独设置. */
console
    .setBackgroundColor(&#39;light-yellow&#39;)
    .setBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] setBackgroundAlpha<span><a class="mark" href="#console_m_setbackgroundalpha" id="console_m_setbackgroundalpha">#</a></span></h2>
<h3>setBackgroundAlpha(alpha)<span><a class="mark" href="#console_setbackgroundalpha_alpha" id="console_setbackgroundalpha_alpha">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>alpha</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 浮动窗口标题及日志显示区域背景颜色透明度</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>设置控制台浮动窗口的标题及日志显示区域背景颜色透明度.</p>
<p>相当于 <a href="#all_m_settitlebackgroundalpha">setTitleBackgroundAlpha</a> 和 <a href="#all_m_setcontentbackgroundalpha">setContentBackgroundAlpha</a> 的集成.</p>
<pre><code class="lang-js">/* 设置标题及日志显示区域背景颜色为半透明. */
console.setBackgroundAlpha(0.5).show();
console.build({ backgroundAlpha: 0.5 }).show(); /* 效果同上. */

/* 设置标题及日志显示区域背景颜色为半透明浅黄色. */
console
    .setBackgroundColor(&#39;light-yellow&#39;)
    .setBackgroundAlpha(0.5)
    .show();
</code></pre>
<h2>[m] verbose<span><a class="mark" href="#console_m_verbose" id="console_m_verbose">#</a></span></h2>
<h3>verbose(data, ...args)<span><a class="mark" href="#console_verbose_data_args" id="console_verbose_data_args">#</a></span></h3>
<p><strong><code>Global</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>输出参数内容到控制台.</p>
<p>主要用途: 测试消息 / 调试消息 / 重要性级别最低的消息</p>
<p>优先级: <strong>verbose</strong> &lt; log &lt; info &lt; warn &lt; error &lt; assert</p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #E0E0E0">◑</span> ] - #E0E0E0</li>
<li>Activity 活动窗口<ul>
<li>亮色主题 - [ <span style="color: #C0C0C0">◑</span> ] - #DFC0C0C0</li>
<li>暗色主题 - [ <span style="color: #7F7F80">◑</span> ] - #7F7F80</li>
</ul>
</li>
</ul>
<blockquote>
<p>注: 此方法将自动添加末尾换行符.</p>
</blockquote>
<h2>[m] log<span><a class="mark" href="#console_m_log" id="console_m_log">#</a></span></h2>
<h3>log(data, ...args)<span><a class="mark" href="#console_log_data_args" id="console_log_data_args">#</a></span></h3>
<p><strong><code>Global</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>输出参数内容到控制台.</p>
<p>主要用途: 普通消息</p>
<p>优先级: verbose &lt; <strong>log</strong> &lt; info &lt; warn &lt; error &lt; assert</p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #FFFFFF">◑</span> ] - #FFFFFF</li>
<li>Activity 活动窗口<ul>
<li>亮色主题 - [ <span style="color: #000000">◑</span> ] - #CC000000</li>
<li>暗色主题 - [ <span style="color: #E0E0E0">◑</span> ] - #DFE0E0E0</li>
</ul>
</li>
</ul>
<blockquote>
<p>注: 此方法将自动添加末尾换行符.</p>
</blockquote>
<h2>[m] info<span><a class="mark" href="#console_m_info" id="console_m_info">#</a></span></h2>
<h3>info(data, ...args)<span><a class="mark" href="#console_info_data_args" id="console_info_data_args">#</a></span></h3>
<div class="signature"><ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>输出参数内容到控制台.</p>
<p>主要用途: 重要消息 / 值得注意的消息</p>
<p>优先级: verbose &lt; log &lt; <strong>info</strong> &lt; warn &lt; error &lt; assert</p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #DCEDC8">◑</span> ] - #DCEDC8</li>
<li>Activity 活动窗口 - [ <span style="color: #43A047">◑</span> ] - #43A047</li>
</ul>
<blockquote>
<p>注: 此方法将自动添加末尾换行符.</p>
</blockquote>
<h2>[m] warn<span><a class="mark" href="#console_m_warn" id="console_m_warn">#</a></span></h2>
<h3>warn(data, ...args)<span><a class="mark" href="#console_warn_data_args" id="console_warn_data_args">#</a></span></h3>
<p><strong><code>Global</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>输出参数内容到控制台.</p>
<p>主要用途: 警告消息 / 隐患消息</p>
<p>优先级: verbose &lt; log &lt; info &lt; <strong>warn</strong> &lt; error &lt; assert</p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #B3E5FC">◑</span> ] - #B3E5FC</li>
<li>Activity 活动窗口 - [ <span style="color: #1976D2">◑</span> ] - #1976D2</li>
</ul>
<blockquote>
<p>注: 此方法将自动添加末尾换行符.</p>
</blockquote>
<h2>[m] error<span><a class="mark" href="#console_m_error" id="console_m_error">#</a></span></h2>
<h3>error(data, ...args)<span><a class="mark" href="#console_error_data_args" id="console_error_data_args">#</a></span></h3>
<div class="signature"><ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>输出参数内容到控制台.</p>
<p>主要用途: 错误消息 / 异常消息</p>
<p>优先级: verbose &lt; log &lt; info &lt; warn &lt; <strong>error</strong> &lt; assert</p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #FFCDD2">◑</span> ] - #FFCDD2</li>
<li>Activity 活动窗口 - [ <span style="color: #C62828">◑</span> ] - #C62828</li>
</ul>
<blockquote>
<p>注: 此方法将自动添加末尾换行符.</p>
</blockquote>
<h2>[m] assert<span><a class="mark" href="#console_m_assert" id="console_m_assert">#</a></span></h2>
<h3>assert(bool, message?)<span><a class="mark" href="#console_assert_bool_message" id="console_assert_bool_message">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [1-2]/4</code></strong></p>
<ul>
<li><strong>bool</strong> { <span class="type"><a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 断言值</li>
<li><strong>[ message ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 断言失败时的消息</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>断言 <code>bool</code> 参数为真.</p>
<p>断言失败时, 脚本停止运行, 输出失败消息及调用栈信息到控制台.</p>
<p>主要用途: 断言一个变量</p>
<p>优先级: verbose &lt; log &lt; info &lt; warn &lt; error &lt; <strong>assert</strong></p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #FCE4EC">◑</span> ] - #FCE4EC</li>
<li>Activity 活动窗口 - [ <span style="color: #E254FF">◑</span> ] - #E254FF</li>
</ul>
<pre><code class="lang-js">console.assert(new Date().getSeconds() &lt; 30, &#39;断言失败, 当前时间秒数不小于 30&#39;);
</code></pre>
<blockquote>
<p>注: 此方法将自动在控制台消息中添加末尾换行符.</p>
</blockquote>
<h3>assert(func, message?)<span><a class="mark" href="#console_assert_func_message" id="console_assert_func_message">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Overload [3-4]/4</code></strong></p>
<ul>
<li><strong>func</strong> { <span class="type"><a href="#all_function">() =&gt;</a> <a href="dataTypes.html#datatypes_boolean">boolean</a></span> } - 断言值</li>
<li><strong>[ message ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 断言失败时的消息</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>断言 <code>func</code> 参数的执行结果为真.</p>
<p>断言失败时, 脚本停止运行, 输出失败消息及调用栈信息到控制台.</p>
<p>主要用途: 断言一个函数</p>
<p>优先级: verbose &lt; log &lt; info &lt; warn &lt; error &lt; <strong>assert</strong></p>
<p>字体颜色:</p>
<ul>
<li>浮动窗口 - [ <span style="color: #FCE4EC">◑</span> ] - #FCE4EC</li>
<li>Activity 活动窗口 - [ <span style="color: #E254FF">◑</span> ] - #E254FF</li>
</ul>
<pre><code class="lang-js">console.assert(function () {
    return new Date().getSeconds() &lt; 30;
}, &#39;断言失败, 当前时间秒数不小于 30&#39;);
</code></pre>
<blockquote>
<p>注: 此方法将自动在控制台消息中添加末尾换行符.</p>
</blockquote>
<h2>[m] clear<span><a class="mark" href="#console_m_clear" id="console_m_clear">#</a></span></h2>
<h3>clear()<span><a class="mark" href="#console_clear" id="console_clear">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="console.html">this</a></span> }</li>
</ul>
<p>清空控制台日志内容.</p>
<h2>[m] print<span><a class="mark" href="#console_m_print" id="console_m_print">#</a></span></h2>
<h3>print(data, ...args)<span><a class="mark" href="#console_print_data_args" id="console_print_data_args">#</a></span></h3>
<p><strong><code>Global</code></strong> <strong><code>DEPRECATED</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>等效于 <a href="#all_m_log">console.log</a>.</p>
<blockquote>
<p>注: AutoJs6 的 <code>print</code> 方法在功能上更接近其他语言的 <code>printLn</code>, 而且在浏览器中, 全局方法 <code>print</code> 用于打印当前页面. 因此 <code>print</code> 全局方法被弃用, 不推荐使用.</p>
</blockquote>
<h2>[m] printAllStackTrace<span><a class="mark" href="#console_m_printallstacktrace" id="console_m_printallstacktrace">#</a></span></h2>
<h3>printAllStackTrace(e)<span><a class="mark" href="#console_printallstacktrace_e" id="console_printallstacktrace_e">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>e</strong> { <span class="type"><a href="omniTypes.html#omnitypes_omnithrowable">OmniThrowable</a></span> } - 异常参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>在控制台打印详细的栈追踪信息.</p>
<pre><code class="lang-js">try {
    null.toString()
} catch (e) {
    /* 打印简单的错误消息. */
    /* 通常只有 1 行消息. */
    console.error(e.message);

    /* 使用 exit 方法抛出异常. */
    /* 通常有不到 10 行消息. */
    exit(e);

    /* 使用 console.printAllStackTrace 打印完整栈追踪信息. */
    /* 通常有几十行消息. */
    console.printAllStackTrace(e);
}
</code></pre>
<h2>[m] trace<span><a class="mark" href="#console_m_trace" id="console_m_trace">#</a></span></h2>
<h3>trace(message, level?)<span><a class="mark" href="#console_trace_message_level" id="console_trace_message_level">#</a></span></h3>
<p><strong><code>6.3.0</code></strong></p>
<ul>
<li><strong>message</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 追踪消息</li>
<li><strong>[ level = &quot;debug&quot; ]</strong> { <code>&#39;verbose&#39;</code> | <code>&#39;debug&#39;</code> | <code>&#39;info&#39;</code> | <code>&#39;warn&#39;</code> | <code>&#39;error&#39;</code> | <a href="dataTypes.html#datatypes_number">number</a> } - 消息输出等级</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>输出当前位置调用栈的追踪信息到控制台.</p>
<p><code>level</code> 参数接收由整形常量转化而来的字符串简化形式:</p>
<table>
<thead>
<tr>
<th>字符串</th>
<th>整形常量</th>
<th>简述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#39;verbose&#39;</td>
<td><span style="white-space:nowrap">Log.VERBOSE = 2</span></td>
<td><span style="white-space:nowrap">对应 <a href="#all_m_verbose">console.verbose</a> 输出等级.</span></td>
</tr>
<tr>
<td><strong>&#39;debug&#39;</strong></td>
<td><span style="white-space:nowrap">Log.DEBUG = 3</span></td>
<td><span style="white-space:nowrap">对应 <a href="#all_m_log">console.log</a> 输出等级.</span></td>
</tr>
<tr>
<td>&#39;info&#39;</td>
<td><span style="white-space:nowrap">Log.INFO = 4</span></td>
<td><span style="white-space:nowrap">对应 <a href="#all_m_info">console.info</a> 输出等级.</span></td>
</tr>
<tr>
<td>&#39;warn&#39;</td>
<td><span style="white-space:nowrap">Log.WARN = 5</span></td>
<td><span style="white-space:nowrap">对应 <a href="#all_m_warn">console.warn</a> 输出等级.</span></td>
</tr>
<tr>
<td>&#39;error&#39;</td>
<td><span style="white-space:nowrap">Log.ERROR = 6</span></td>
<td><span style="white-space:nowrap">对应 <a href="#all_m_error">console.error</a> 输出等级.</span></td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">function printMessages() {
    console.trace(&#39;This is a &quot;normal&quot; message for test&#39;);
    console.trace(&#39;This is an &quot;info&quot; message for test&#39;, &#39;info&#39;);
    console.trace(&#39;This is a &quot;warn&quot; message for test&#39;, &#39;warn&#39;);
    console.trace(&#39;This is an &quot;error&quot; message for test&#39;, &#39;error&#39;);
    console.launch();
}

({
    init() {
        this.intermediate();
    },
    intermediate() {
        printMessages();
    },
}).init();

// Error 等级的追踪信息输出样例:
// 20:46:00.709/E: This is an &quot;error&quot; message for test
//     at consoleTrace.js:5 (printMessages)
//     at consoleTrace.js:14
//     at consoleTrace.js:11
//     at consoleTrace.js:9
</code></pre>
<h2>[m] time<span><a class="mark" href="#console_m_time" id="console_m_time">#</a></span></h2>
<h3>time(label?)<span><a class="mark" href="#console_time_label" id="console_time_label">#</a></span></h3>
<div class="signature"><ul>
<li><strong>[ label ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 计时标签</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>启动计时器, 用以计算以 <code>label</code> 参数标记的时间间隔.</p>
<p><a href="#all_m_timeend">console.timeEnd</a> 传入与 <code>label</code> 参数相同的值时, 计时器停止, 并输出时间间隔信息到控制台.</p>
<p>多次使用 time 方法传入相同 <code>label</code> 时, 将重置其关联的计时器.</p>
<pre><code class="lang-js">console.time(&#39;fruit&#39;);
sleep(2e3);
console.timeEnd(&#39;fruit&#39;);
</code></pre>
<h2>[m] timeEnd<span><a class="mark" href="#console_m_timeend" id="console_m_timeend">#</a></span></h2>
<h3>timeEnd(label?)<span><a class="mark" href="#console_timeend_label" id="console_timeend_label">#</a></span></h3>
<div class="signature"><ul>
<li><strong>[ label ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 计时标签</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>与 console.time 配合使用, 用以计算以 <code>label</code> 参数标记的时间间隔.</p>
<p><code>label</code> 关联的计时器不存在时, 打印 <code>NaNms</code>.</p>
<pre><code class="lang-js">console.time(&#39;fruit&#39;);
sleep(2e3);
console.timeEnd(&#39;fruit&#39;);
</code></pre>
<h2>[m] setGlobalLogConfig<span><a class="mark" href="#console_m_setgloballogconfig" id="console_m_setgloballogconfig">#</a></span></h2>
<h3>setGlobalLogConfig(config)<span><a class="mark" href="#console_setgloballogconfig_config" id="console_setgloballogconfig_config">#</a></span></h3>
<div class="signature"><ul>
<li><strong>config</strong> {{<ul>
<li>[ file = <code>&#39;android-log4j.log&#39;</code> ]?: <a href="dataTypes.html#datatypes_string">string</a> - 待写入日志的文件路径, 支持绝对路径及相对路径</li>
<li>[ maxFileSize = <code>512 * 1024</code> ]?: <a href="dataTypes.html#datatypes_number">number</a> - 文件的分卷阈值容量 (单位为字节)</li>
<li>[ maxBackupSize = <code>5</code> ]?: <a href="dataTypes.html#datatypes_number">number</a> - 文件最大备份数量, 达到上限后将替换最旧文件</li>
<li>[ rootLevel = <code>&#39;all&#39;</code> ]?: <code>&#39;all&#39;</code> | <code>&#39;off&#39;</code> | <code>&#39;debug&#39;</code> | <code>&#39;info&#39;</code> | <code>&#39;warn&#39;</code> | <code>&#39;error&#39;</code> | <code>&#39;fatal&#39;</code> - 日志写入级别</li>
<li>[ filePattern = <code>&#39;%d - [%p::%c::%C] - %m%n&#39;</code> ]?: <a href="dataTypes.html#datatypes_string">string</a> - 日志写入格式, 参阅 <a href="https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html">PatternLayout</a></li>
</ul>
</li>
<li>}} - 日志输出至文件的配置选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
</div><p>设置将全局日志写入文件的配置选项.</p>
<p>该方法会影响所有脚本的日志记录.</p>
<pre><code class="lang-js">console.setGlobalLogConfig({
    file: `./log/${Date.now()}.log`,
    filePattern: &#39;%d{yyyy-MM-dd/}%m%n&#39;,
    maxBackupSize: 16,
    maxFileSize: 384 &lt;&lt; 10, /* 384 KB. */
});
</code></pre>
<h2>[m] resetGlobalLogConfig<span><a class="mark" href="#console_m_resetgloballogconfig" id="console_m_resetgloballogconfig">#</a></span></h2>
<h3>resetGlobalLogConfig()<span><a class="mark" href="#console_resetgloballogconfig" id="console_resetgloballogconfig">#</a></span></h3>
<p><strong><code>6.3.1</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>重置全局日志写入配置.</p>
<p>此方法可重置 <a href="#all_m_setgloballogconfig">setGlobalLogConfig</a> 的全部选项配置.</p>
<h2>[m] input<span><a class="mark" href="#console_m_input" id="console_m_input">#</a></span></h2>
<h3>input(data, ...args)<span><a class="mark" href="#console_input_data_args" id="console_input_data_args">#</a></span></h3>
<p><strong><code>ABANDONED</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>此方法已于 <code>6.3.1</code> 版本被废弃, 使用后将无任何效果.</p>
<h2>[m] rawInput<span><a class="mark" href="#console_m_rawinput" id="console_m_rawinput">#</a></span></h2>
<h3>rawInput(data, ...args)<span><a class="mark" href="#console_rawinput_data_args" id="console_rawinput_data_args">#</a></span></h3>
<p><strong><code>ABANDONED</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 可包含占位符的待格式化对象</li>
<li><strong>args</strong> { <span class="type"><a href="documentation.html#documentation_可变参数">...</a><a href="dataTypes.html#datatypes_any">any</a><a href="documentation.html#documentation_可变参数">[]</a></span> } - <a href="glossaries.html#glossaries_占位符替换参数">占位符替换参数</a></li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_void">void</a></span> }</li>
</ul>
<p>此方法已于 <code>6.3.1</code> 版本被废弃, 使用后将无任何效果.
<!-- [end-include:console.md] --></p>
<!-- [start-include:shell.md] -->
<h1>Shell<span><a class="mark" href="#shell_shell" id="shell_shell">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>shell即Unix Shell, 在类Unix系统提供与操作系统交互的一系列命令.</p>
<p>很多程序可以用来执行shell命令, 例如终端模拟器.</p>
<p>在Auto.js大致等同于用adb执行命令&quot;adb shell&quot;. 其实现包括两种方式：</p>
<ul>
<li>通过<code>java.lang.Runtime.exec</code>执行(shell, Tap, Home等函数)</li>
<li>通过内嵌终端模拟器执行(RootAutomator, Shell等对象)</li>
</ul>
<h1>shell函数<span><a class="mark" href="#shell_shell_1" id="shell_shell_1">#</a></span></h1>
<h2>shell(cmd[, root])<span><a class="mark" href="#shell_shell_cmd_root" id="shell_shell_cmd_root">#</a></span></h2>
<div class="signature"><ul>
<li>cmd { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要执行的命令</li>
<li>root { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">Boolean</a> } 是否以root权限运行, 默认为false.</li>
</ul>
</div><p>一次性执行命令cmd, 并返回命令的执行结果. 返回对象的其属性如下:</p>
<ul>
<li>code { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 返回码. 执行成功时为0, 失败时为非0的数字.</li>
<li>result { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 运行结果(stdout输出结果)</li>
<li>error { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 运行的错误信息(stderr输出结果). 例如执行需要root权限的命令但没有授予root权限会返回错误信息&quot;Permission denied&quot;.</li>
</ul>
<p>示例(强制停止微信) ：</p>
<pre><code>var result = shell(&quot;am force-stop com.tencent.mm&quot;, true);
log(result);
console.show();
if(result.code == 0){
  toast(&quot;执行成功&quot;);
}else{
  toast(&quot;执行失败！请到控制台查看错误信息&quot;);
}
</code></pre><h1>Shell<span><a class="mark" href="#shell_shell_2" id="shell_shell_2">#</a></span></h1>
<p>shell函数通过用来一次性执行单条命令并获取结果. 如果有多条命令需要执行, 用Shell对象的效率更高. 这是因为, 每次运行shell函数都会打开一个单独的shell进程并在运行结束后关闭他, 这个过程需要一定的时间；而Shell对象自始至终使用同一个shell进程.</p>
<h2>new Shell(root)<span><a class="mark" href="#shell_new_shell_root" id="shell_new_shell_root">#</a></span></h2>
<div class="signature"><ul>
<li>root { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">Boolean</a> } 是否以root权限运行一个shell进程, 默认为false. 这将会影响其后使用该Shell对象执行的命令的权限</li>
</ul>
</div><p>Shell对象的&quot;构造函数&quot;.</p>
<pre><code>var sh = new Shell(true);
//强制停止微信
sh.exec(&quot;am force-stop com.tencent.mm&quot;);
sh.exit();
</code></pre><h2>Shell.exec(cmd)<span><a class="mark" href="#shell_shell_exec_cmd" id="shell_shell_exec_cmd">#</a></span></h2>
<div class="signature"><ul>
<li><code>cmd</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要执行的命令</li>
</ul>
</div><p>执行命令cmd. 该函数不会返回任何值.</p>
<p>注意, 命令执行是&quot;异步&quot;的、非阻塞的. 也就是不会等待命令完成后才继续向下执行.</p>
<p>尽管这样的设计使用起来有很多不便之处, 但受限于终端模拟器, 暂时没有解决方式；如果后续能找到解决方案, 则将提供<code>Shell.execAndWaitFor</code>函数.</p>
<h2>Shell.exit()<span><a class="mark" href="#shell_shell_exit" id="shell_shell_exit">#</a></span></h2>
<p>直接退出shell. 正在执行的命令会被强制退出.</p>
<h2>Shell.exitAndWaitFor()<span><a class="mark" href="#shell_shell_exitandwaitfor" id="shell_shell_exitandwaitfor">#</a></span></h2>
<p>执行&quot;exit&quot;命令并等待执行命令执行完成、退出shell.</p>
<p>此函数会执行exit命令来正常退出shell.</p>
<h2>Shell.setCallback(callback)<span><a class="mark" href="#shell_shell_setcallback_callback" id="shell_shell_setcallback_callback">#</a></span></h2>
<div class="signature"><ul>
<li>callback { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 回调函数</li>
</ul>
</div><p>设置该Shell的回调函数, 以便监听Shell的输出. 可以包括以下属性：</p>
<ul>
<li>onOutput { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 每当shell有新的输出时便会调用该函数. 其参数是一个字符串.</li>
<li>onNewLine { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 每当shell有新的一行输出时便会调用该函数. 其参数是一个字符串(不包括最后的换行符).</li>
</ul>
<p>例如:</p>
<pre><code>var sh = new Shell();
sh.setCallback({
    onNewLine: function(line){
        //有新的一行输出时打印到控制台
        log(line);
    }
})
while(true){
    //循环输入命令
    var cmd = dialogs.rawInput(&quot;请输入要执行的命令, 输入exit退出&quot;);
    if(cmd == &quot;exit&quot;){
        break;
    }
    //执行命令
    sh.exec(cmd);
}
sh.exit();
</code></pre><h1>附录: shell命令简介<span><a class="mark" href="#shell_shell_3" id="shell_shell_3">#</a></span></h1>
<p>以下关于shell命令的资料来自<a href="https://developer.android.com/studio/command_line/adb.html#https://developer.android.com/studio/command_line/adb_shellcommands/">AndroidStudio用户指南：Shell命令</a>.</p>
<h2>am命令<span><a class="mark" href="#shell_am" id="shell_am">#</a></span></h2>
<p>am命令即Activity Manager命令, 用于管理应用程序活动、服务等.</p>
<p><strong>以下命令均以&quot;am &quot;开头, 例如<code>shell(&#39;am start -p com.tencent.mm&#39;);</code>(启动微信)</strong></p>
<h3>start [options] intent<span><a class="mark" href="#shell_start_options_intent" id="shell_start_options_intent">#</a></span></h3>
<p>启动 intent 指定的 Activity(应用程序活动).<br>请参阅 <a href="#all_shell_intent">intent 参数的规范</a>.</p>
<p>选项包括：</p>
<ul>
<li>-D：启用调试.</li>
<li>-W：等待启动完成.</li>
<li>--start-profiler file：启动分析器并将结果发送到 file.</li>
<li>-P file：类似于 --start-profiler, 但当应用进入空闲状态时分析停止.</li>
<li>-R count：重复 Activity 启动 count 次数. 在每次重复前, 将完成顶部 Activity.</li>
<li>-S：启动 Activity 前强行停止目标应用.</li>
<li>--opengl-trace：启用 OpenGL 函数的跟踪.</li>
<li>--user user_id | current：指定要作为哪个用户运行；如果未指定, 则作为当前用户运行.</li>
</ul>
<h3>startservice [options] intent<span><a class="mark" href="#shell_startservice_options_intent" id="shell_startservice_options_intent">#</a></span></h3>
<p>启动 intent 指定的 Service(服务).<br>请参阅 <a href="#all_shell_intent">intent 参数的规范</a>.<br>选项包括：</p>
<ul>
<li>--user user_id | current：指定要作为哪个用户运行；如果未指定, 则作为当前用户运行.</li>
</ul>
<h3>force-stop package<span><a class="mark" href="#shell_force_stop_package" id="shell_force_stop_package">#</a></span></h3>
<p>强行停止与 package（<a href="#all_应用包名">应用包名</a>）关联的所有应用.</p>
<h3>kill [options] package<span><a class="mark" href="#shell_kill_options_package" id="shell_kill_options_package">#</a></span></h3>
<p>终止与 package（<a href="#all_应用包名">应用包名</a>）关联的所有进程. 此命令仅终止可安全终止且不会影响用户体验的进程.<br>选项包括：</p>
<ul>
<li>--user user_id | all | current：指定将终止其进程的用户；如果未指定, 则终止所有用户的进程.</li>
</ul>
<h3>kill-all<span><a class="mark" href="#shell_kill_all" id="shell_kill_all">#</a></span></h3>
<p>终止所有后台进程.</p>
<h3>broadcast [options] intent<span><a class="mark" href="#shell_broadcast_options_intent" id="shell_broadcast_options_intent">#</a></span></h3>
<p>发出广播 intent.
请参阅 <a href="#all_shell_intent">intent 参数的规范</a>.</p>
<p>选项包括：</p>
<ul>
<li>[--user user_id | all | current]：指定要发送到的用户；如果未指定, 则发送到所有用户.</li>
</ul>
<h3>instrument [options] component<span><a class="mark" href="#shell_instrument_options_component" id="shell_instrument_options_component">#</a></span></h3>
<p>使用 Instrumentation 实例启动监控. 通常, 目标 component 是表单 test_package/runner_class.<br>选项包括：</p>
<ul>
<li>-r：输出原始结果（否则对 report_key_streamresult 进行解码）. 与 [-e perf true] 结合使用以生成性能测量的原始输出.</li>
<li>-e name value：将参数 name 设为 value. 对于测试运行器, 通用表单为 -e testrunner_flag value[,value...].</li>
<li>-p file：将分析数据写入 file.</li>
<li>-w：先等待仪器完成, 然后再返回. 测试运行器需要使用此选项.</li>
<li>--no-window-animation：运行时关闭窗口动画.</li>
<li>--user user_id | current：指定仪器在哪个用户中运行；如果未指定, 则在当前用户中运行.</li>
<li>profile start process file 启动 process 的分析器, 将结果写入 file.</li>
<li>profile stop process 停止 process 的分析器.</li>
</ul>
<h3>dumpheap [options] process file<span><a class="mark" href="#shell_dumpheap_options_process_file" id="shell_dumpheap_options_process_file">#</a></span></h3>
<p>转储 process 的堆, 写入 file.</p>
<p>选项包括：</p>
<ul>
<li>--user [user_id|current]：提供进程名称时, 指定要转储的进程用户；如果未指定, 则使用当前用户.</li>
<li>-n：转储原生堆, 而非托管堆.</li>
<li>set-debug-app [options] package 将应用 package 设为调试.</li>
</ul>
<p>选项包括：</p>
<ul>
<li>-w：应用启动时等待调试程序.</li>
<li>--persistent：保留此值.</li>
<li>clear-debug-app 使用 set-debug-app 清除以前针对调试用途设置的软件包.</li>
</ul>
<h3>monitor [options]    启动对崩溃或 ANR 的监控.<span><a class="mark" href="#shell_monitor_options_anr" id="shell_monitor_options_anr">#</a></span></h3>
<p>选项包括：</p>
<ul>
<li>--gdb：在崩溃/ANR 时在给定端口上启动 gdbserv.</li>
</ul>
<h3>screen-compat { <span class="type">on</span> | <span class="type">off</span> } package<span><a class="mark" href="#shell_screen_compat_span_class_type_on_span_span_class_type_off_span_package" id="shell_screen_compat_span_class_type_on_span_span_class_type_off_span_package">#</a></span></h3>
<p>控制 package 的屏幕兼容性模式.</p>
<h3>display-size [reset|widthxheight]<span><a class="mark" href="#shell_display_size_reset_widthxheight" id="shell_display_size_reset_widthxheight">#</a></span></h3>
<p>替换模拟器/设备显示尺寸. 此命令对于在不同尺寸的屏幕上测试您的应用非常有用, 它支持使用大屏设备模仿小屏幕分辨率（反之亦然）.<br>示例：</p>
<pre><code>shell(&quot;am display-size 1280x800&quot;, true);

</code></pre><h3>display-density dpi<span><a class="mark" href="#shell_display_density_dpi" id="shell_display_density_dpi">#</a></span></h3>
<p>替换模拟器/设备显示密度. 此命令对于在不同密度的屏幕上测试您的应用非常有用, 它支持使用低密度屏幕在高密度环境环境上进行测试（反之亦然）.<br>示例：</p>
<pre><code>shell(&quot;am display-density 480&quot;, true);
</code></pre><h3>to-uri intent<span><a class="mark" href="#shell_to_uri_intent" id="shell_to_uri_intent">#</a></span></h3>
<p>将给定的 intent 规范以 URI 的形式输出.
请参阅  <a href="#all_shell_intent">intent 参数的规范</a>.</p>
<h3>to-intent-uri intent<span><a class="mark" href="#shell_to_intent_uri_intent" id="shell_to_intent_uri_intent">#</a></span></h3>
<p>将给定的 intent 规范以 intent:URI 的形式输出.
请参阅 intent 参数的规范.</p>
<h3>intent参数的规范<span><a class="mark" href="#shell_intent" id="shell_intent">#</a></span></h3>
<p>对于采用 intent 参数的 am 命令, 您可以使用以下选项指定 intent：</p>
<ul>
<li>-a action<br>指定 intent 操作, 如“android.intent.action.VIEW”. 此指定只能声明一次.</li>
<li>-d data_uri<br>指定 intent 数据 URI, 如“content://contacts/people/1”. 此指定只能声明一次.</li>
<li>-t mime_type<br>指定 intent MIME 类型, 如“image/png”. 此指定只能声明一次.</li>
<li>-c category<br>指定 intent 类别, 如“android.intent.category.APP_CONTACTS”.</li>
<li>-n component<br>指定带有软件包名称前缀的组件名称以创建显式 intent, 如“com.example.app/.ExampleActivity”.</li>
<li>-f flags<br>将标志添加到 setFlags() 支持的 intent.</li>
<li>--esn extra_key<br>添加一个 null extra. URI intent 不支持此选项.</li>
<li>-e|--es extra_key extra_string_value<br>添加字符串数据作为键值对.</li>
<li>--ez extra_key extra_boolean_value<br>添加布尔型数据作为键值对.</li>
<li>--ei extra_key extra_int_value<br>添加整数型数据作为键值对.</li>
<li>--el extra_key extra_long_value<br>添加长整型数据作为键值对.</li>
<li>--ef extra_key extra_float_value<br>添加浮点型数据作为键值对.</li>
<li>--eu extra_key extra_uri_value<br>添加 URI 数据作为键值对.</li>
<li>--ecn extra_key extra_component_name_value<br>添加组件名称, 将其作为 ComponentName 对象进行转换和传递.</li>
<li>--eia extra_key extra_int_value[,extra_int_value...]<br>添加整数数组.</li>
<li>--ela extra_key extra_long_value[,extra_long_value...]<br>添加长整型数组.</li>
<li>--efa extra_key extra_float_value[,extra_float_value...]<br>添加浮点型数组.</li>
<li>--grant-read-uri-permission<br>包含标志 FLAG_GRANT_READ_URI_PERMISSION.</li>
<li>--grant-write-uri-permission<br>包含标志 FLAG_GRANT_WRITE_URI_PERMISSION.</li>
<li>--debug-log-resolution<br>包含标志 FLAG_DEBUG_LOG_RESOLUTION.</li>
<li>--exclude-stopped-packages<br>包含标志 FLAG_EXCLUDE_STOPPED_PACKAGES.</li>
<li>--include-stopped-packages<br>包含标志 FLAG_INCLUDE_STOPPED_PACKAGES.</li>
<li>--activity-brought-to-front<br>包含标志 FLAG_ACTIVITY_BROUGHT_TO_FRONT.</li>
<li>--activity-clear-top<br>包含标志 FLAG_ACTIVITY_CLEAR_TOP.</li>
<li>--activity-clear-when-task-reset<br>包含标志 FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET.</li>
<li>--activity-exclude-from-recents<br>包含标志 FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS.</li>
<li>--activity-launched-from-history<br>包含标志 FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY.</li>
<li>--activity-multiple-task<br>包含标志 FLAG_ACTIVITY_MULTIPLE_TASK.</li>
<li>--activity-no-animation<br>包含标志 FLAG_ACTIVITY_NO_ANIMATION.</li>
<li>--activity-no-history<br>包含标志 FLAG_ACTIVITY_NO_HISTORY.</li>
<li>--activity-no-user-action<br>包含标志 FLAG_ACTIVITY_NO_USER_ACTION.</li>
<li>--activity-previous-is-top<br>包含标志 FLAG_ACTIVITY_PREVIOUS_IS_TOP.</li>
<li>--activity-reorder-to-front<br>包含标志 FLAG_ACTIVITY_REORDER_TO_FRONT.</li>
<li>--activity-reset-task-if-needed<br>包含标志 FLAG_ACTIVITY_RESET_TASK_IF_NEEDED.</li>
<li>--activity-single-top<br>包含标志 FLAG_ACTIVITY_SINGLE_TOP.</li>
<li>--activity-clear-task<br>包含标志 FLAG_ACTIVITY_CLEAR_TASK.</li>
<li>--activity-task-on-home<br>包含标志 FLAG_ACTIVITY_TASK_ON_HOME.</li>
<li>--receiver-registered-only<br>包含标志 FLAG_RECEIVER_REGISTERED_ONLY.</li>
<li>--receiver-replace-pending<br>包含标志 FLAG_RECEIVER_REPLACE_PENDING.</li>
<li>--selector<br>需要使用 -d 和 -t 选项以设置 intent 数据和类型.</li>
</ul>
<h4>URI component package<span><a class="mark" href="#shell_uri_component_package" id="shell_uri_component_package">#</a></span></h4>
<p>如果不受上述某一选项的限制, 您可以直接指定 URI、软件包名称和组件名称. 当参数不受限制时, 如果参数包含一个“:”（冒号）, 则此工具假定参数是一个 URI；如果参数包含一个“/”（正斜杠）, 则此工具假定参数是一个组件名称；否则, 此工具假定参数是一个软件包名称.</p>
<h2>应用包名<span><a class="mark" href="#shell" id="shell">#</a></span></h2>
<p>所谓应用包名, 是唯一确定应用的标识. 例如微信的包名是&quot;com.tencent.mm&quot;, QQ的包名是&quot;com.tencent.mobileqq&quot;.<br>要获取一个应用的包名, 可以通过函数<code>getPackageName(appName)</code>获取. 参见帮助-&gt;其他一般函数.</p>
<h2>pm命令<span><a class="mark" href="#shell_pm" id="shell_pm">#</a></span></h2>
<p>pm命令用于管理应用程序, 例如卸载应用、冻结应用等.<br><strong>以下命令均以&quot;pm &quot;开头, 例如&quot;shell(\&quot;pm disable com.tencent.mm\&quot;);&quot;(冻结微信)</strong></p>
<h3>list packages [options] filter<span><a class="mark" href="#shell_list_packages_options_filter" id="shell_list_packages_options_filter">#</a></span></h3>
<p>输出所有软件包, 或者, 仅输出包名称包含 filter 中的文本的软件包.<br>选项：</p>
<ul>
<li>-f：查看它们的关联文件.</li>
<li>-d：进行过滤以仅显示已停用的软件包.</li>
<li>-e：进行过滤以仅显示已启用的软件包.</li>
<li>-s：进行过滤以仅显示系统软件包.</li>
<li>-3：进行过滤以仅显示第三方软件包.</li>
<li>-i：查看软件包的安装程序.</li>
<li>-u：也包括卸载的软件包.</li>
<li>--user user_id：要查询的用户空间.</li>
</ul>
<h3>list permission-groups<span><a class="mark" href="#shell_list_permission_groups" id="shell_list_permission_groups">#</a></span></h3>
<p>输出所有已知的权限组.</p>
<h3>list permissions [options] group<span><a class="mark" href="#shell_list_permissions_options_group" id="shell_list_permissions_options_group">#</a></span></h3>
<p>输出所有已知权限, 或者, 仅输出 group 中的权限.<br>选项：</p>
<ul>
<li>-g：按组加以组织.</li>
<li>-f：输出所有信息.</li>
<li>-s：简短摘要.</li>
<li>-d：仅列出危险权限.</li>
<li>-u：仅列出用户将看到的权限.</li>
</ul>
<h3>list instrumentation [options]<span><a class="mark" href="#shell_list_instrumentation_options" id="shell_list_instrumentation_options">#</a></span></h3>
<p>列出所有测试软件包.<br>选项：</p>
<ul>
<li>-f：列出用于测试软件包的 APK 文件.</li>
<li>target_package：列出仅用于此应用的测试软件包.</li>
</ul>
<h3>list features<span><a class="mark" href="#shell_list_features" id="shell_list_features">#</a></span></h3>
<p>输出系统的所有功能.</p>
<h3>list libraries<span><a class="mark" href="#shell_list_libraries" id="shell_list_libraries">#</a></span></h3>
<p>输出当前设备支持的所有库.</p>
<h3>list users<span><a class="mark" href="#shell_list_users" id="shell_list_users">#</a></span></h3>
<p>输出系统上的所有用户.</p>
<h3>path package<span><a class="mark" href="#shell_path_package" id="shell_path_package">#</a></span></h3>
<p>输出给定 package 的 APK 的路径.</p>
<h3>install [options] path<span><a class="mark" href="#shell_install_options_path" id="shell_install_options_path">#</a></span></h3>
<p>将软件包（通过 path 指定）安装到系统.<br>选项：</p>
<ul>
<li>-l：安装具有转发锁定功能的软件包.</li>
<li>-r：重新安装现有应用, 保留其数据.</li>
<li>-t：允许安装测试 APK.</li>
<li>-i installer_package_name：指定安装程序软件包名称.</li>
<li>-s：在共享的大容量存储（如 sdcard）上安装软件包.</li>
<li>-f：在内部系统内存上安装软件包.</li>
<li>-d：允许版本代码降级.</li>
<li>-g：授予应用清单文件中列出的所有权限.</li>
</ul>
<h3>uninstall [options] package<span><a class="mark" href="#shell_uninstall_options_package" id="shell_uninstall_options_package">#</a></span></h3>
<p>从系统中卸载软件包.<br>选项：</p>
<ul>
<li>-k：移除软件包后保留数据和缓存目录.</li>
</ul>
<h3>clear package<span><a class="mark" href="#shell_clear_package" id="shell_clear_package">#</a></span></h3>
<p>删除与软件包关联的所有数据.</p>
<h3>enable package_or_component<span><a class="mark" href="#shell_enable_package_or_component" id="shell_enable_package_or_component">#</a></span></h3>
<p>启用给定软件包或组件（作为“package/class”写入）.</p>
<h3>disable package_or_component<span><a class="mark" href="#shell_disable_package_or_component" id="shell_disable_package_or_component">#</a></span></h3>
<p>停用给定软件包或组件（作为“package/class”写入）.</p>
<h3>disable-user [options] package_or_component<span><a class="mark" href="#shell_disable_user_options_package_or_component" id="shell_disable_user_options_package_or_component">#</a></span></h3>
<p>选项：</p>
<ul>
<li>--user user_id：要停用的用户.</li>
</ul>
<h3>grant package_name permission<span><a class="mark" href="#shell_grant_package_name_permission" id="shell_grant_package_name_permission">#</a></span></h3>
<p>向应用授予权限. 在运行 Android 6.0（API 级别 23）及更高版本的设备上, 可以是应用清单中声明的任何权限. 在运行 Android 5.1（API 级别 22）和更低版本的设备上, 必须是应用定义的可选权限.</p>
<h3>revoke package_name permission<span><a class="mark" href="#shell_revoke_package_name_permission" id="shell_revoke_package_name_permission">#</a></span></h3>
<p>从应用中撤销权限. 在运行 Android 6.0（API 级别 23）及更高版本的设备上, 可以是应用清单中声明的任何权限. 在运行 Android 5.1（API 级别 22）和更低版本的设备上, 必须是应用定义的可选权限.</p>
<h3>set-install-location location<span><a class="mark" href="#shell_set_install_location_location" id="shell_set_install_location_location">#</a></span></h3>
<p>更改默认安装位置. 位置值：</p>
<ul>
<li>0：自动—让系统决定最佳位置.</li>
<li>1：内部—安装在内部设备存储上.</li>
<li>2：外部—安装在外部介质上.</li>
</ul>
<blockquote>
<p>注：此命令仅用于调试目的；使用此命令会导致应用中断和其他意外行为.</p>
</blockquote>
<h3>get-install-location<span><a class="mark" href="#shell_get_install_location" id="shell_get_install_location">#</a></span></h3>
<p>返回当前安装位置. 返回值：</p>
<ul>
<li>0 [auto]：让系统决定最佳位置.</li>
<li>1 [internal]：安装在内部设备存储上</li>
<li>2 [external]：安装在外部介质上</li>
</ul>
<h3>set-permission-enforced permission [true|false]<span><a class="mark" href="#shell_set_permission_enforced_permission_true_false" id="shell_set_permission_enforced_permission_true_false">#</a></span></h3>
<p>指定是否应强制执行给定的权限.</p>
<h3>trim-caches desired_free_space<span><a class="mark" href="#shell_trim_caches_desired_free_space" id="shell_trim_caches_desired_free_space">#</a></span></h3>
<p>减少缓存文件以达到给定的可用空间.</p>
<h3>create-user user_name<span><a class="mark" href="#shell_create_user_user_name" id="shell_create_user_user_name">#</a></span></h3>
<p>使用给定的 user_name 创建新用户, 输出新用户的标识符.</p>
<h3>remove-user user_id<span><a class="mark" href="#shell_remove_user_user_id" id="shell_remove_user_user_id">#</a></span></h3>
<p>移除具有给定的 user_id 的用户, 删除与该用户关联的所有数据.</p>
<h3>get-max-users<span><a class="mark" href="#shell_get_max_users" id="shell_get_max_users">#</a></span></h3>
<p>输出设备支持的最大用户数.</p>
<h2>其他命令<span><a class="mark" href="#shell_1" id="shell_1">#</a></span></h2>
<h3>进行屏幕截图<span><a class="mark" href="#shell_2" id="shell_2">#</a></span></h3>
<p>screencap 命令是一个用于对设备显示屏进行屏幕截图的 shell 实用程序. 在 shell 中, 此语法为：</p>
<pre><code>screencap filename
</code></pre><p>例如：</p>
<pre><code>$ shell(&quot;screencap /sdcard/screen.png&quot;);
</code></pre><h3>列表文件<span><a class="mark" href="#shell_3" id="shell_3">#</a></span></h3>
<pre><code>ls filepath
</code></pre><p>例如:</p>
<pre><code>log(shell(&quot;ls /system/bin&quot;).result);
</code></pre><!-- [end-include:shell.md] -->
<!-- [start-include:media.md] -->
<h1>多媒体 (Media)<span><a class="mark" href="#media_media" id="media_media">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>media模块提供多媒体编程的支持. 目前仅支持音乐播放和媒体文件扫描. 后续会结合UI加入视频播放等功能.</p>
<p>需要注意是, 使用该模块播放音乐时是在后台异步播放的, 在脚本结束后会自动结束播放, 因此可能需要插入诸如<code>sleep()</code>的语句来使脚本保持运行. 例如：</p>
<pre><code>//播放音乐
media.playMusic(&quot;/sdcard/1.mp3&quot;);
//让音乐播放完
sleep(media.getMusicDuration());
</code></pre><h2>media.scanFile(path)<span><a class="mark" href="#media_media_scanfile_path" id="media_media_scanfile_path">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 媒体文件路径</li>
</ul>
</div><p>扫描路径path的媒体文件, 将它加入媒体库中；或者如果该文件以及被删除, 则通知媒体库移除该文件.</p>
<p>媒体库包括相册、音乐库等, 因此该函数可以用于把某个图片文件加入相册.</p>
<pre><code>//请求截图
requestScreenCapture(false);
//截图
var im = captureScreen();
var path = &quot;/sdcard/screenshot.png&quot;;
//保存图片
im.saveTo(path);
//把图片加入相册
media.scanFile(path);
</code></pre><h2>media.playMusic(path[, volume, looping])<span><a class="mark" href="#media_media_playmusic_path_volume_looping" id="media_media_playmusic_path_volume_looping">#</a></span></h2>
<div class="signature"><ul>
<li><code>path</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 音乐文件路径</li>
<li><code>volume</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 播放音量, 为0~1的浮点数, 默认为1</li>
<li><code>looping</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 是否循环播放, 如果looping为<code>true</code>则循环播放, 默认为<code>false</code></li>
</ul>
</div><p>播放音乐文件path. 该函数不会显示任何音乐播放界面. 如果文件不存在或者文件不是受支持的音乐格式, 则抛出<code>UncheckedIOException</code>异常.</p>
<pre><code>//播放音乐
media.playMusic(&quot;/sdcard/1.mp3&quot;);
//让音乐播放完
sleep(media.getMusicDuration());
</code></pre><p>如果要循环播放音乐, 则使用looping参数：</p>
<pre><code>
</code></pre><p>//传递第三个参数为true以循环播放音乐
media.playMusic(&quot;/sdcard/1.mp3&quot;, 1, true);
//等待三次播放的时间
sleep(media.getMusicDuration() * 3);</p>
<pre><code>
</code></pre><p>如果要使用音乐播放器播放音乐, 调用<code>app.viewFile(path)</code>函数.</p>
<h2>media.musicSeekTo(msec)<span><a class="mark" href="#media_media_musicseekto_msec" id="media_media_musicseekto_msec">#</a></span></h2>
<div class="signature"><ul>
<li><code>msec</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 毫秒数, 表示音乐进度</li>
</ul>
</div><p>把当前播放进度调整到时间msec的位置. 如果当前没有在播放音乐, 则调用函数没有任何效果.</p>
<p>例如, 要把音乐调到1分钟的位置, 为<code>media.musicSeekTo(60 * 1000)</code>.</p>
<pre><code>//播放音乐
media.playMusic(&quot;/sdcard/1.mp3&quot;);
//调整到30秒的位置
media.musicSeekTo(30 * 1000);
//等待音乐播放完成
sleep(media.getMusicDuration() - 30 * 1000);
</code></pre><h2>media.pauseMusic()<span><a class="mark" href="#media_media_pausemusic" id="media_media_pausemusic">#</a></span></h2>
<p>暂停音乐播放. 如果当前没有在播放音乐, 则调用函数没有任何效果.</p>
<h2>media.resumeMusic()<span><a class="mark" href="#media_media_resumemusic" id="media_media_resumemusic">#</a></span></h2>
<p>继续音乐播放. 如果当前没有播放过音乐, 则调用该函数没有任何效果.</p>
<h2>media.stopMusic()<span><a class="mark" href="#media_media_stopmusic" id="media_media_stopmusic">#</a></span></h2>
<p>停止音乐播放. 如果当前没有在播放音乐, 则调用函数没有任何效果.</p>
<h2>media.isMusicPlaying()<span><a class="mark" href="#media_media_ismusicplaying" id="media_media_ismusicplaying">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回当前是否正在播放音乐.</p>
<h2>media.getMusicDuration()<span><a class="mark" href="#media_media_getmusicduration" id="media_media_getmusicduration">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回当前音乐的时长. 单位毫秒.</p>
<h2>media.getMusicCurrentPosition()<span><a class="mark" href="#media_media_getmusiccurrentposition" id="media_media_getmusiccurrentposition">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回当前音乐的播放进度(已经播放的时间), 单位毫秒.
<!-- [end-include:media.md] --></p>
<!-- [start-include:sensors.md] -->
<h1>传感器 (Sensors)<span><a class="mark" href="#sensors_sensors" id="sensors_sensors">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>sensors模块提供了获取手机上的传感器的信息的支持, 这些传感器包括距离传感器、光线光感器、重力传感器、方向传感器等. 需要指出的是, 脚本只能获取传感器的数据, <strong>不能模拟或伪造传感器的数据和事件</strong>, 因此诸如模拟摇一摇的功能是无法实现的.</p>
<p>要监听一个传感器时, 需要使用<code>sensors.register()</code>注册监听器, 之后才能开始监听；不需要监听时则调用<code>sensors.unregister()</code>注销监听器. 在脚本结束时会自动注销所有的监听器. 同时, 这种监听会使脚本保持运行状态, 如果不注销监听器, 脚本会一直保持运行状态.</p>
<p>例如, 监听光线传感器的代码为：</p>
<pre><code>//光线传感器监听
sensors.register(&quot;light&quot;).on(&quot;change&quot;, (event, light)=&gt;{
    log(&quot;当前光强度为&quot;, light);
});
</code></pre><p>要注意的是, 每个传感器的数据并不相同, 所以对他们调用<code>on()</code>监听事件时的回调函数参数也不是相同, 例如光线传感器参数为<code>(event, light)</code>, 加速度传感器参数为<code>(event, ax, ay, az)</code>. 甚至在某些设备上的传感器参数有所增加, 例如华为手机的距离传感器为三个参数, 一般手机只有一个参数.</p>
<p>常用的传感器及其事件参数如下表：</p>
<ul>
<li><p><code>accelerometer</code> 加速度传感器, 参数<code>(event, ax, ay, az)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>ax</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x轴上的加速度, 单位m/s^2</li>
<li><code>ay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y轴上的加速度, 单位m/s^2</li>
<li><code>az</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } z轴上的加速度, 单位m/s^2
这里的x轴, y轴, z轴所属的坐标系统如下图(其中z轴垂直于设备屏幕表面):</li>
</ul>
<p>!<img src="#images/axis_device.png" alt="axis_device"></p>
</li>
<li><p><code>orientation</code> 方向传感器, 参数<code>(event, azimuth, pitch, roll)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>azimuth</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 方位角, 从地磁指北方向线起, 依顺时针方向到y轴之间的水平夹角, 单位角度, 范围0~359</li>
<li><code>pitch</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绕x轴旋转的角度, 当设备水平放置时该值为0, 当设备顶部翘起时该值为正数, 当设备尾部翘起时该值为负数, 单位角度, 范围-180~180</li>
<li><code>roll</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绕y轴顺时针旋转的角度, 单位角度, 范围-90~90</li>
</ul>
</li>
<li><p><code>gyroscope</code> 陀螺仪传感器, 参数<code>(event, wx, wy, wz)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>wx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绕x轴的角速度, 单位弧度/s</li>
<li><code>wy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绕y轴的角速度, 单位弧度/s</li>
<li><code>wz</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绕z轴的角速度, 单位弧度/s</li>
</ul>
</li>
<li><p><code>magnetic_field</code> 磁场传感器, 参数<code>(event, bx, by, bz)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>bx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x轴上的磁场强度, 单位uT</li>
<li><code>by</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y轴上的磁场强度, 单位uT</li>
<li><code>bz</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } z轴上的磁场强度, 单位uT</li>
</ul>
</li>
<li><p><code>gravity</code> 重力传感器, 参数<code>(event, gx, gy, gz)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>gx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x轴上的重力加速度, 单位m/s^2</li>
<li><code>gy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y轴上的重力加速度, 单位m/s^2</li>
<li><code>gz</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } z轴上的重力加速度, 单位m/s^2</li>
</ul>
</li>
<li><p><code>linear_acceleration</code> 线性加速度传感器, 参数<code>(event, ax, ay, az)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>ax</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x轴上的线性加速度, 单位m/s^2</li>
<li><code>ay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y轴上的线性加速度, 单位m/s^2</li>
<li><code>az</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } z轴上的线性加速度, 单位m/s^2</li>
</ul>
</li>
<li><p><code>ambient_temperature</code> 环境温度传感器, 大部分设备并不支持, 参数<code>(event, t)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>t</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 环境温度, 单位摄氏度.</li>
</ul>
</li>
<li><p><code>light</code> 光线传感器, 参数<code>(event, light)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>light</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 环境光强度, 单位lux</li>
</ul>
</li>
<li><p><code>pressure</code> 压力传感器, 参数<code>(event, p)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>p</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 大气压, 单位hPa</li>
</ul>
</li>
<li><p><code>proximity</code> 距离传感器, 参数<code>(event, distance)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>distance</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 一般指设备前置摄像头旁边的距离传感器到前方障碍物的距离, 并且很多设备上这个值只有两种情况：当障碍物较近时该值为0, 当障碍物较远或在范围内没有障碍物时该值为5</li>
</ul>
</li>
<li><p><code>relative_humidity</code> 湿度传感器, 大部分设备并不支持, 参数<code>(event, rh)</code>:</p>
<ul>
<li><code>event</code> <a href="#all_sensors_sensorevent">SensorEvent</a> 传感器事件, 用于获取传感器数据变化时的所有信息</li>
<li><code>rh</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 相对湿度, 范围为0~100（百分比）</li>
</ul>
</li>
</ul>
<h2>sensors.register(sensorName[, delay])<span><a class="mark" href="#sensors_sensors_register_sensorname_delay" id="sensors_sensors_register_sensorname_delay">#</a></span></h2>
<div class="signature"><ul>
<li><code>sensorName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 传感器名称, 常用的传感器名称如上面所述</li>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 传感器数据更新频率, 可选, 默认为<code>sensors.delay.normal</code>. 可用的值如下：<ul>
<li><code>sensors.delay.normal</code> 正常频率</li>
<li><code>sensors.delay.ui</code> 适合于用户界面的更新频率</li>
<li><code>sensors.delay.game</code> 适合于游戏的更新频率</li>
<li><code>sensors.delay.fastest</code> 最快的更新频率】</li>
</ul>
</li>
<li>返回 <a href="#all_sensors_sensoreventemitter">SensorEventEmiiter</a></li>
</ul>
</div><p>注册一个传感器监听并返回<a href="#all_sensors_sensoreventemitter">SensorEventEmitter</a>.</p>
<p>例如:</p>
<pre><code>console.show();
//注册传感器监听
var sensor = sensors.register(&quot;gravity&quot;);
if(sensor == null){
    toast(&quot;不支持重力传感器&quot;);
    exit();
}
//监听数据
sensor.on(&quot;change&quot;, (gx, gy, gz)=&gt;{
    log(&quot;重力加速度: %d, %d, %d&quot;, gx, gy, gz);
});
</code></pre><p>可以通过delay参数来指定传感器数据的更新频率, 例如：</p>
<pre><code>var sensor = sensors.register(&quot;gravity&quot;, sensors.delay.game);
</code></pre><p>另外, 如果不支持<code>sensorName</code>所指定的传感器, 那么该函数将返回<code>null</code>；但如果<code>sensors.ignoresUnsupportedSensor</code>的值被设置为<code>true</code>, 则该函数会返回一个不会分发任何传感器事件的<a href="#all_sensors_sensoreventemitter">SensorEventEmitter</a>.</p>
<p>例如:</p>
<pre><code>sensors.ignoresUnsupportedSensor = true;
//无需null判断
sensors.register(&quot;gravity&quot;).on(&quot;change&quot;, (gx, gy, gz)=&gt;{
    log(&quot;重力加速度: %d, %d, %d&quot;, gx, gy, gz);
});
</code></pre><p>更多信息, 参见<a href="#all_sensors_sensoreventemitter">SensorEventEmitter</a>和<a href="#all_sensors_sensors_ignoresUnsupportedSensor">sensors.ignoresUnsupportedSensor</a>.</p>
<h2>sensors.unregister(emitter)<span><a class="mark" href="#sensors_sensors_unregister_emitter" id="sensors_sensors_unregister_emitter">#</a></span></h2>
<div class="signature"><ul>
<li><code>emiiter</code> <a href="#all_sensors_sensoreventemitter">SensorEventEmitter</a></li>
</ul>
</div><p>注销该传感器监听器. 被注销的监听器将不再能监听传感器数据.</p>
<pre><code>//注册一个传感器监听器
var sensor = sensors.register(&quot;gravity&quot;);
if(sensor == null){
    exit();
}
//2秒后注销该监听器
setTimeout(()=&gt; {
    sensors.unregister(sensor);
}, 2000);
</code></pre><h2>sensors.unregisterAll()<span><a class="mark" href="#sensors_sensors_unregisterall" id="sensors_sensors_unregisterall">#</a></span></h2>
<p>注销所有传感器监听器.</p>
<h2>sensors.ignoresUnsupportedSensor<span><a class="mark" href="#sensors_sensors_ignoresunsupportedsensor" id="sensors_sensors_ignoresunsupportedsensor">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>表示是否忽略不支持的传感器. 如果该值被设置为<code>true</code>, 则函数<code>sensors.register()</code>即使对不支持的传感器也会返回一个无任何数据的虚拟传感器监听, 也就是<code>sensors.register()</code>不会返回<code>null</code>从而避免非空判断, 并且此时会触发<code>sensors</code>的&quot;unsupported_sensor&quot;事件.</p>
<pre><code>//忽略不支持的传感器
sensors.ignoresUnsupportedSensor = true;
//监听有不支持的传感器时的事件
sensors.on(&quot;unsupported_sensor&quot;, function(sensorName){
    toastLog(&quot;不支持的传感器: &quot; + sensorName);
});
//随便注册一个不存在的传感器.
log(sensors.register(&quot;aaabbb&quot;));
</code></pre><h2>事件: &#39;unsupported_sensor&#39;<span><a class="mark" href="#sensors_unsupported_sensor" id="sensors_unsupported_sensor">#</a></span></h2>
<div class="signature"><ul>
<li><code>sensorName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 不支持的传感器名称</li>
</ul>
</div><p>当<code>sensors.ignoresUnsupportedSensor</code>被设置为<code>true</code>并且有不支持的传感器被注册时触发该事件. 事件参数的传感器名称.</p>
<h1>SensorEventEmitter<span><a class="mark" href="#sensors_sensoreventemitter" id="sensors_sensoreventemitter">#</a></span></h1>
<p>注册传感器返回的对象, 其本身是一个EventEmmiter, 用于监听传感器事件.</p>
<h2>事件: &#39;change&#39;<span><a class="mark" href="#sensors_change" id="sensors_change">#</a></span></h2>
<div class="signature"><ul>
<li><code>..args</code> { <span class="type">Any</span> } 传感器参数</li>
</ul>
</div><p>当传感器数据改变时触发该事件；该事件触发的最高频繁由<code>sensors.register()</code>指定的delay参数决定.</p>
<p>事件参数根据传感器类型不同而不同, 具体参见本章最前面的列表.</p>
<p>一个监听光线传感器和加速度传感器并且每0.5秒获取一个数据并最终写入一个csv表格文件的例子如下：</p>
<pre><code>//csv文件路径
cosnt csvPath = &quot;/sdcard/sensors_data.csv&quot;;
//记录光线传感器的数据
var light = 0;
//记录加速度传感器的数据
var ax = 0;
var ay = 0;
var az = 0;
//监听光线传感器
sensors.register(&quot;light&quot;, sensors.delay.fastest)
    .on(&quot;change&quot;, l =&gt; {
        light = l;
    });
//监听加速度传感器
sensors.register(&quot;accelerometer&quot;, sensors.delay.fastest)
    .on(&quot;change&quot;, (ax0, ay0, az0) =&gt; {
        ax = ax0;
        ay = ay0;
        az = az0;
    });

var file = open(csvPath, &quot;w&quot;);
//写csv表格头
file.writeline(&quot;light,ax,ay,az&quot;)
//每0.5秒获取一次数据并写入文件
setInterval(()=&gt;{
    file.writeline(util.format(&quot;%d,%d,%d,%d&quot;, light, ax, ay, az));
}, 500);
//10秒后退出并打开文件
setTimeout(()=&gt;{
    file.close();
    sensors.unregsiterAll();
    app.viewFile(csvPath);
}, 10 * 1000);

</code></pre><h2>事件: &#39;accuracy_change&#39;<span><a class="mark" href="#sensors_accuracy_change" id="sensors_accuracy_change">#</a></span></h2>
<div class="signature"><ul>
<li><code>accuracy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 表示传感器精度. 为以下值之一:<ul>
<li>-1 传感器未连接</li>
<li>0 传感器不可读</li>
<li>1 低精度</li>
<li>2 中精度</li>
<li>3 高精度</li>
</ul>
</li>
</ul>
</div><p>当传感器精度改变时会触发的事件. 比较少用.</p>
<!-- [end-include:sensors.md] -->
<!-- [start-include:recorder.md] -->
<h1>记录器 (Recorder)<span><a class="mark" href="#recorder_recorder" id="recorder_recorder">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>记录器用于计时.</p>
<blockquote>
<p>注: 为避免与 Timers (定时器) 混淆, 本条目不采用 &quot;计时器&quot; 定义.</p>
</blockquote>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">recorder</p>

<hr>
<h2>[@] recorder<span><a class="mark" href="#recorder_recorder_1" id="recorder_recorder_1">#</a></span></h2>
<h3>recorder()<span><a class="mark" href="#recorder_recorder_2" id="recorder_recorder_2">#</a></span></h3>
<h3>recorder(key)<span><a class="mark" href="#recorder_recorder_key" id="recorder_recorder_key">#</a></span></h3>
<h3>recorder(key, timestamp)<span><a class="mark" href="#recorder_recorder_key_timestamp" id="recorder_recorder_key_timestamp">#</a></span></h3>
<h3>recorder(func)<span><a class="mark" href="#recorder_recorder_func" id="recorder_recorder_func">#</a></span></h3>
<h3>recorder(func, thisType)<span><a class="mark" href="#recorder_recorder_func_thistype" id="recorder_recorder_func_thistype">#</a></span></h3>
<h2>[m] save<span><a class="mark" href="#recorder_m_save" id="recorder_m_save">#</a></span></h2>
<h3>save()<span><a class="mark" href="#recorder_save" id="recorder_save">#</a></span></h3>
<h3>save(key)<span><a class="mark" href="#recorder_save_key" id="recorder_save_key">#</a></span></h3>
<h3>save(key, timestamp)<span><a class="mark" href="#recorder_save_key_timestamp" id="recorder_save_key_timestamp">#</a></span></h3>
<h2>[m] load<span><a class="mark" href="#recorder_m_load" id="recorder_m_load">#</a></span></h2>
<h3>load()<span><a class="mark" href="#recorder_load" id="recorder_load">#</a></span></h3>
<h3>load(key)<span><a class="mark" href="#recorder_load_key" id="recorder_load_key">#</a></span></h3>
<h3>load(key, timestamp)<span><a class="mark" href="#recorder_load_key_timestamp" id="recorder_load_key_timestamp">#</a></span></h3>
<h2>[m] isLessThan<span><a class="mark" href="#recorder_m_islessthan" id="recorder_m_islessthan">#</a></span></h2>
<h3>isLessThan(key, compare)<span><a class="mark" href="#recorder_islessthan_key_compare" id="recorder_islessthan_key_compare">#</a></span></h3>
<h2>[m] isGreaterThan<span><a class="mark" href="#recorder_m_isgreaterthan" id="recorder_m_isgreaterthan">#</a></span></h2>
<h3>isGreaterThan(key, compare)<span><a class="mark" href="#recorder_isgreaterthan_key_compare" id="recorder_isgreaterthan_key_compare">#</a></span></h3>
<h2>[m] has<span><a class="mark" href="#recorder_m_has" id="recorder_m_has">#</a></span></h2>
<h3>has(key)<span><a class="mark" href="#recorder_has_key" id="recorder_has_key">#</a></span></h3>
<h2>[m] remove<span><a class="mark" href="#recorder_m_remove" id="recorder_m_remove">#</a></span></h2>
<h3>remove(key)<span><a class="mark" href="#recorder_remove_key" id="recorder_remove_key">#</a></span></h3>
<h2>[m] clear<span><a class="mark" href="#recorder_m_clear" id="recorder_m_clear">#</a></span></h2>
<h3>clear()<span><a class="mark" href="#recorder_clear" id="recorder_clear">#</a></span></h3>
<!-- [end-include:recorder.md] -->
<!-- [start-include:timers.md] -->
<h1>定时器 (Timers)<span><a class="mark" href="#timers_timers" id="timers_timers">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>timers 模块暴露了一个全局的 API, 用于在某个未来时间段调用调度函数.  因为定时器函数是全局的, 所以使用该 API 无需调用 timers.***</p>
<p>Auto.js 中的计时器函数实现了与 Web 浏览器提供的定时器类似的 API, 除了它使用了一个不同的内部实现, 它是基于 Android Looper-Handler消息循环机制构建的. 其实现机制与Node.js比较相似.</p>
<p>例如, 要在5秒后发出消息&quot;hello&quot;:</p>
<pre><code>setTimeout(function(){
    toast(&quot;hello&quot;)
}, 5000);
</code></pre><p>需要注意的是, 这些定时器仍然是单线程的. 如果脚本主体有耗时操作或死循环, 则设定的定时器不能被及时执行, 例如：</p>
<pre><code>setTimeout(function(){
    //这里的语句会在15秒后执行而不是5秒后
    toast(&quot;hello&quot;)
}, 5000);
//暂停10秒
sleep(10000);
</code></pre><p>再如：</p>
<pre><code>setTimeout(function(){
    //这里的语句永远不会被执行
    toast(&quot;hello&quot;)
}, 5000);
//死循环
while(true);
</code></pre><h2>setInterval(callback, delay[, ...args])<span><a class="mark" href="#timers_setinterval_callback_delay_args" id="timers_setinterval_callback_delay_args">#</a></span></h2>
<div class="signature"><ul>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 当定时器到点时要调用的函数.</li>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 调用 callback 之前要等待的毫秒数.</li>
<li><code>...args</code> { <span class="type">any</span> } 当调用 callback 时要传入的可选参数.</li>
</ul>
</div><p>预定每隔 delay 毫秒重复执行的 callback.  返回一个用于 clearInterval() 的 id.</p>
<p>当 delay 小于 0 时, delay 会被设为 0.</p>
<h2>setTimeout(callback, delay[, ...args])<span><a class="mark" href="#timers_settimeout_callback_delay_args" id="timers_settimeout_callback_delay_args">#</a></span></h2>
<div class="signature"><ul>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 当定时器到点时要调用的函数.</li>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 调用 callback 之前要等待的毫秒数.</li>
<li><code>...args</code> { <span class="type">any</span> } 当调用 callback 时要传入的可选参数.</li>
</ul>
</div><p>预定在 delay 毫秒之后执行的单次 callback.  返回一个用于 clearTimeout() 的 id.</p>
<p>callback 可能不会精确地在 delay 毫秒被调用.  Auto.js 不能保证回调被触发的确切时间, 也不能保证它们的顺序.  回调会在尽可能接近所指定的时间上调用.</p>
<p>当 delay 小于 0 时, delay 会被设为 0.</p>
<h2>setImmediate(callback[, ...args])<span><a class="mark" href="#timers_setimmediate_callback_args" id="timers_setimmediate_callback_args">#</a></span></h2>
<div class="signature"><ul>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 在Looper循环的当前回合结束时要调用的函数.</li>
<li><code>...args</code> { <span class="type">any</span> } 当调用 callback 时要传入的可选参数.</li>
</ul>
</div><p>预定立即执行的 callback, 它是在 I/O 事件的回调之后被触发.  返回一个用于 clearImmediate() 的 id.</p>
<p>当多次调用 setImmediate() 时, callback 函数会按照它们被创建的顺序依次执行.  每次事件循环迭代都会处理整个回调队列.  如果一个立即定时器是被一个正在执行的回调排入队列的, 则该定时器直到下一次事件循环迭代才会被触发.</p>
<p>setImmediate()、setInterval() 和 setTimeout() 方法每次都会返回表示预定的计时器的id.  它们可用于取消定时器并防止触发.</p>
<h2>clearInterval(id)<span><a class="mark" href="#timers_clearinterval_id" id="timers_clearinterval_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 一个 setInterval() 返回的 id.</li>
</ul>
</div><p>取消一个由 setInterval() 创建的循环定时任务.</p>
<p>例如：</p>
<pre><code>//每5秒就发出一次hello
var id = setInterval(function(){
    toast(&quot;hello&quot;);
}, 5000);
//1分钟后取消循环
setTimeout(function(){
    clearInterval(id);
}, 60 * 1000);
</code></pre><h2>clearTimeout(id)<span><a class="mark" href="#timers_cleartimeout_id" id="timers_cleartimeout_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 一个 setTimeout() 返回的 id.</li>
</ul>
</div><p>取消一个由 setTimeout() 创建的定时任务.</p>
<h2>clearImmediate(id)<span><a class="mark" href="#timers_clearimmediate_id" id="timers_clearimmediate_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 一个 setImmediate() 返回的 id.</li>
</ul>
</div><p>取消一个由 setImmediate() 创建的 Immediate 对象.</p>
<!-- [end-include:timers.md] -->
<!-- [start-include:threads.md] -->
<h1>线程 (Threads)<span><a class="mark" href="#threads_threads" id="threads_threads">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>threads模块提供了多线程支持, 可以启动新线程来运行脚本.</p>
<p>脚本主线程会等待所有子线程执行完成后才停止执行, 因此如果子线程中有死循环, 请在必要的时候调用<code>exit()</code>来直接停止脚本或<code>threads.shutDownAll()</code>来停止所有子线程.</p>
<p>通过<code>threads.start()</code>启动的所有线程会在脚本被强制停止时自动停止.</p>
<p>由于JavaScript自身没有多线程的支持, 因此您可能会遇到意料之外的问题.</p>
<h2>threads.start(action)<span><a class="mark" href="#threads_threads_start_action" id="threads_threads_start_action">#</a></span></h2>
<div class="signature"><ul>
<li><code>action</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 要在新线程执行的函数</li>
<li>返回 <a href="#all_threads_thread">Thread</a></li>
</ul>
</div><p>启动一个新线程并执行action.</p>
<p>例如:</p>
<pre><code>threads.start(function(){
    //在新线程执行的代码
    while(true){
        log(&quot;子线程&quot;);
    }
});
while(true){
    log(&quot;脚本主线程&quot;);
}
</code></pre><p>通过该函数返回的<a href="#all_threads_thread">Thread</a>对象可以获取该线程的状态, 控制该线程的运行中. 例如:</p>
<pre><code>var thread = threads.start(function(){
    while(true){
        log(&quot;子线程&quot;);
    }
});
//停止线程执行
thread.interrupt();
</code></pre><p>更多信息参见<a href="#all_threads_thread">Thread</a>.</p>
<h2>threads.shutDownAll()<span><a class="mark" href="#threads_threads_shutdownall" id="threads_threads_shutdownall">#</a></span></h2>
<p>停止所有通过<code>threads.start()</code>启动的子线程.</p>
<h2>threads.currentThread()<span><a class="mark" href="#threads_threads_currentthread" id="threads_threads_currentthread">#</a></span></h2>
<div class="signature"><ul>
<li>返回 <a href="#all_threads_thread">Thread</a></li>
</ul>
</div><p>返回当前线程.</p>
<h2>threads.disposable()<span><a class="mark" href="#threads_threads_disposable" id="threads_threads_disposable">#</a></span></h2>
<div class="signature"><ul>
<li>返回 <a href="#all_threads_disposable">Disposable</a></li>
</ul>
</div><p>新建一个Disposable对象, 用于等待另一个线程的某个一次性结果. 更多信息参见<a href="#all_threads_线程通信">线程通信</a>以及<a href="#all_threads_disposable">Disposable</a>.</p>
<h2>threads.atomic([initialValue])<span><a class="mark" href="#threads_threads_atomic_initialvalue" id="threads_threads_atomic_initialvalue">#</a></span></h2>
<div class="signature"><ul>
<li><code>initialValue</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 初始整数值, 默认为0</li>
<li>返回<a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a></li>
</ul>
</div><p>新建一个整数原子变量. 更多信息参见<a href="#all_threads_线程安全">线程安全</a>以及<a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a>.</p>
<h2>threads.lock()<span><a class="mark" href="#threads_threads_lock" id="threads_threads_lock">#</a></span></h2>
<div class="signature"><ul>
<li>返回<a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html">ReentrantLock</a></li>
</ul>
</div><p>新建一个可重入锁. 更多信息参见<a href="#all_threads_线程安全">线程安全</a>以及<a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html">ReentrantLock</a>.</p>
<h1>Thread<span><a class="mark" href="#threads_thread" id="threads_thread">#</a></span></h1>
<p>线程对象, <code>threads.start()</code>返回的对象, 用于获取和控制线程的状态, 与其他线程交互等.</p>
<p>Thread对象提供了和timers模块一样的API, 例如<code>setTimeout()</code>, <code>setInterval()</code>等, 用于在该线程执行相应的定时回调, 从而使线程之间可以直接交互. 例如：</p>
<pre><code>var thread = threads.start(function(){
    //在子线程执行的定时器
    setInterval(function(){
        log(&quot;子线程:&quot; + threads.currentThread());
    }, 1000);
});

log(&quot;当前线程为主线程:&quot; + threads.currentThread());

//等待子线程启动
thread.waitFor();
//在子线程执行的定时器
thread.setTimeout(function(){
    //这段代码会在子线程执行
    log(&quot;当前线程为子线程:&quot; + threads.currentThread());
}, 2000);

sleep(30 * 1000);
thread.interrupt();
</code></pre><h2>Thread.interrupt()<span><a class="mark" href="#threads_thread_interrupt" id="threads_thread_interrupt">#</a></span></h2>
<p>中断线程运行.</p>
<h2>Thread.join([timeout])<span><a class="mark" href="#threads_thread_join_timeout" id="threads_thread_join_timeout">#</a></span></h2>
<div class="signature"><ul>
<li><code>timeout</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 等待时间, 单位毫秒</li>
</ul>
</div><p>等待线程执行完成. 如果timeout为0, 则会一直等待直至该线程执行完成；否则最多等待timeout毫秒的时间.</p>
<p>例如:</p>
<pre><code>var sum = 0;
//启动子线程计算1加到10000
var thread = threads.start(function(){
    for(var i = 0; i &lt; 10000; i++){
        sum += i;
    }
});
//等待该线程完成
thread.join();
toast(&quot;sum = &quot; + sum);
</code></pre><h2>isAlive()<span><a class="mark" href="#threads_isalive" id="threads_isalive">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回线程是否存活. 如果线程仍未开始或已经结束, 返回<code>false</code>; 如果线程已经开始或者正在运行中, 返回<code>true</code>.</p>
<h2>waitFor()<span><a class="mark" href="#threads_waitfor" id="threads_waitfor">#</a></span></h2>
<p>等待线程开始执行. 调用<code>threads.start()</code>以后线程仍然需要一定时间才能开始执行, 因此调用此函数会等待线程开始执行；如果线程已经处于执行状态则立即返回.</p>
<pre><code>var thread = threads.start(function(){
    //do something
});
thread.waitFor();
thread.setTimeout(function(){
    //do something
}, 1000);
</code></pre><h2>Thread.setTimeout(callback, delay[, ...args])<span><a class="mark" href="#threads_thread_settimeout_callback_delay_args" id="threads_thread_settimeout_callback_delay_args">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_settimeout_callback_delay_args">timers.setTimeout()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<pre><code>log(&quot;当前线程(主线程):&quot; + threads.currentThread());

var thread = threads.start(function(){
    //设置一个空的定时来保持线程的运行状态
    setInterval(function(){}, 1000);
});

sleep(1000);
thread.setTimeout(function(){
    log(&quot;当前线程(子线程):&quot; + threads.currentThread());
    exit();
}, 1000);
</code></pre><h2>Thread.setInterval(callback, delay[, ...args])<span><a class="mark" href="#threads_thread_setinterval_callback_delay_args" id="threads_thread_setinterval_callback_delay_args">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_setinterval_callback_delay_args">timers.setInterval()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<h2>Thread.setImmediate(callback[, ...args])<span><a class="mark" href="#threads_thread_setimmediate_callback_args" id="threads_thread_setimmediate_callback_args">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_setimmediate_callback_delay_args">timers.setImmediate()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<h2>Thread.clearInterval(id)<span><a class="mark" href="#threads_thread_clearinterval_id" id="threads_thread_clearinterval_id">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_clearinterval_id">timers.clearInterval()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<h2>Thread.clearTimeout(id)<span><a class="mark" href="#threads_thread_cleartimeout_id" id="threads_thread_cleartimeout_id">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_cleartimeout_id">timers.clearTimeout()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<h2>Thread.clearImmediate(id)<span><a class="mark" href="#threads_thread_clearimmediate_id" id="threads_thread_clearimmediate_id">#</a></span></h2>
<p>参见<a href="timers.html#timers_timers_clearimmediate_id">timers.clearImmediate()</a>.</p>
<p>区别在于, 该定时器会在该线程执行. 如果当前线程仍未开始执行或已经执行结束, 则抛出<code>IllegalStateException</code>.</p>
<h1>线程安全<span><a class="mark" href="#threads" id="threads">#</a></span></h1>
<p>线程安全问题是一个相对专业的编程问题, 本章节只提供给有需要的用户.</p>
<p>引用维基百科的解释：</p>
<blockquote>
<p>线程安全是编程中的术语, 指某个函数、函数库在多线程环境中被调用时, 能够正确地处理多个线程之间的共享变量, 使程序功能正确完成.</p>
</blockquote>
<p>在Auto.js中, 线程间变量在符合JavaScript变量作用域规则的前提下是共享的, 例如全局变量在所有线程都能访问, 并且保证他们在所有线程的可见性. 但是, 不保证任何操作的原子性. 例如经典的自增&quot;i++&quot;将不是原子性操作.</p>
<p>Rhino和Auto.js提供了一些简单的设施来解决简单的线程安全问题, 如锁<code>threads.lock()</code>, 函数同步锁<code>sync()</code>, 整数原子变量<code>threads.atomic()</code>等.</p>
<p>例如, 对于多线程共享下的整数的自增操作(自增操作会导致问题, 是因为自增操作实际上为<code>i = i + 1</code>, 也就是先读取i的值, 把他加1, 再赋值给i, 如果两个线程同时进行自增操作, 可能出现i的值只增加了1的情况), 应该使用<code>threads.atomic()</code>函数来新建一个整数原子变量, 或者使用锁<code>threads.lock()</code>来保证操作的原子性, 或者用<code>sync()</code>来增加同步锁.</p>
<p>线程不安全的代码如下：</p>
<pre><code>var i = 0;
threads.start(function(){
    while(true){
        log(i++);
    }
});
while(true){
    log(i++);
}
</code></pre><p>此段代码运行后打开日志, 可以看到日志中有重复的值出现.</p>
<p>使用<code>threads.atomic()</code>的线程安全的代码如下:</p>
<pre><code>//atomic返回的对象保证了自增的原子性
var i = threads.atomic();
threads.start(function(){
    while(true){
        log(i.getAndIncrement());
    }
});
while(true){
    log(i.getAndIncrement());
}
</code></pre><p>或者:</p>
<pre><code>//锁保证了操作的原子性
var lock = threads.lock();
var i = 0;
threads.start(function(){
    while(true){
        lock.lock();
        log(i++);
        lock.unlock();
    }
});
while(true){
    lock.lock();
    log(i++);
    lock.unlock();
}
</code></pre><p>或者:</p>
<pre><code>//sync函数会把里面的函数加上同步锁, 使得在同一时刻最多只能有一个线程执行这个函数
var i = 0;
var getAndIncrement = sync(function(){
    return i++;
});
threads.start(function(){
    while(true){
        log(getAndIncrement());
    }
});
while(true){
    log(getAndIncrement());
}
</code></pre><p>另外, 数组Array不是线程安全的, 如果有这种复杂的需求, 请用Android和Java相关API来实现. 例如<code>CopyOnWriteList</code>, <code>Vector</code>等都是代替数组的线程安全的类, 用于不同的场景. 例如:</p>
<pre><code>var nums = new java.util.Vector();
nums.add(123);
nums.add(456);
toast(&quot;长度为&quot; + nums.size());
toast(&quot;第一个元素为&quot; + nums.get(0));
</code></pre><p>但很明显的是, 这些类不像数组那样简便易用, 也不能使用诸如<code>slice()</code>之类的方便的函数. 在未来可能会加入线程安全的数组来解决这个问题. 当然您也可以为每个数组的操作加锁来解决线程安全问题：</p>
<pre><code>var nums = [];
var numsLock = threads.lock();
threads.start(function(){
    //向数组添加元素123
    numsLock.lock();
    nums.push(123);
    log(&quot;线程: %s, 数组: %s&quot;, threads.currentThread(), nums);
    numsLock.unlock();
});

threads.start(function(){
    //向数组添加元素456
    numsLock.lock();
    nums.push(456);
    log(&quot;线程: %s, 数组: %s&quot;, threads.currentThread(), nums);
    numsLock.unlock();
});

//删除数组最后一个元素
numsLock.lock();
nums.pop();
log(&quot;线程: %s, 数组: %s&quot;, threads.currentThread(), nums);
numsLock.unlock();
</code></pre><h2>sync(func)<span><a class="mark" href="#threads_sync_func" id="threads_sync_func">#</a></span></h2>
<div class="signature"><ul>
<li><code>func</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 函数</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> }</li>
</ul>
</div><p>给函数func加上同步锁并作为一个新函数返回.</p>
<pre><code>var i = 0;
function add(x){
    i += x;
}

var syncAdd = sync(add);
syncAdd(10);
toast(i);
</code></pre><h1>线程通信<span><a class="mark" href="#threads_1" id="threads_1">#</a></span></h1>
<p>Auto.js提供了一些简单的设施来支持简单的线程通信. <code>threads.disposable()</code>用于一个线程等待另一个线程的(一次性)结果, 同时<code>Lock.newCondition()</code>提供了Condition对象用于一般的线程通信(await, signal). 另外, <code>events</code>模块也可以用于线程通信, 通过指定<code>EventEmiiter</code>的回调执行的线程来实现.</p>
<p>使用<code>threads.disposable()</code>可以简单地等待和获取某个线程的执行结果. 例如要等待某个线程计算&quot;1+.....+10000&quot;:</p>
<pre><code>var sum = threads.disposable();
//启动子线程计算
threads.start(function(){
    var s = 0;
    //从1加到10000
    for(var i = 1; i &lt;= 10000; i++){
        s += i;
    }
    //通知主线程接收结果
    sum.setAndNotify(s);
});
//blockedGet()用于等待结果
toast(&quot;sum = &quot; + sum.blockedGet());
</code></pre><p>如果上述代码用<code>Condition</code>实现：</p>
<pre><code>//新建一个锁
var lock = threads.lock();
//新建一个条件, 即&quot;计算完成&quot;
var complete = lock.newCondition();
var sum = 0;
threads.start(function(){
    //从1加到10000
    for(var i = 1; i &lt;= 10000; i++){
        sum += i;
    }
    //通知主线程接收结果
    lock.lock();
    complete.signal();
    lock.unlock();
});
//等待计算完成
lock.lock();
complete.await();
lock.unlock();
//打印结果
toast(&quot;sum = &quot; + sum);
</code></pre><p>如果上诉代码用<code>events</code>模块实现：</p>
<pre><code>//新建一个emitter, 并指定回调执行的线程为当前线程
var sum = events.emitter(threads.currentThread());
threads.start(function(){
    var s = 0;
    //从1加到10000
    for(var i = 1; i &lt;= 10000; i++){
        s += i;
    }
    //发送事件result通知主线程接收结果
    sum.emit(&#39;result&#39;, s);
});
sum.on(&#39;result&#39;, function(s){
    toastLog(&quot;sum = &quot; + s + &quot;, 当前线程: &quot; + threads.currentThread());
});
</code></pre><p>有关线程的其他问题, 例如生产者消费者等问题, 请用Java相关方法解决, 例如<code>java.util.concurrent.BlockingQueue</code>.
<!-- [end-include:threads.md] --></p>
<!-- [start-include:continuation.md] -->
<h1>协程 (Continuation)<span><a class="mark" href="#continuation_continuation" id="continuation_continuation">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<!-- [end-include:continuation.md] -->
<!-- [start-include:events.md] -->
<h1>事件监听 (Events)<span><a class="mark" href="#events_events" id="events_events">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>events模块提供了监听手机通知、按键、触摸的接口. 您可以用他配合自动操作函数完成自动化工作.</p>
<p>events本身是一个<a href="#all_events_eventemitter">EventEmiiter</a>, 但内置了一些事件、包括按键事件、通知事件、Toast事件等.</p>
<p>需要注意的是, 事件的处理是单线程的, 并且仍然在原线程执行, 如果脚本主体或者其他事件处理中有耗时操作、轮询等, 则事件将无法得到及时处理（会进入事件队列等待脚本主体或其他事件处理完成才执行）. 例如:</p>
<pre><code>auto();
events.observeNotification();
events.on(&#39;toast&#39;, function(t){
    //这段代码将得不到执行
    log(t);
});
while(true){
    //死循环
}
</code></pre><h2>events.emitter()<span><a class="mark" href="#events_events_emitter" id="events_events_emitter">#</a></span></h2>
<p>返回一个新的<a href="#all_events_eventemitter">EventEmitter</a>. 这个EventEmitter没有内置任何事件.</p>
<h2>events.observeKey()<span><a class="mark" href="#events_events_observekey" id="events_events_observekey">#</a></span></h2>
<p>启用按键监听, 例如音量键、Home键. 按键监听使用无障碍服务实现, 如果无障碍服务未启用会抛出异常并提示开启.</p>
<p>只有这个函数成功执行后, <code>onKeyDown</code>, <code>onKeyUp</code>等按键事件的监听才有效.</p>
<p>该函数在安卓4.3以上才能使用.</p>
<h2>events.onKeyDown(keyName, listener)<span><a class="mark" href="#events_events_onkeydown_keyname_listener" id="events_events_onkeydown_keyname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要监听的按键名称</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 按键监听器. 参数为一个<a href="#all_events_keyevent">KeyEvent</a>.</li>
</ul>
</div><p>注册一个按键监听函数, 当有keyName对应的按键被按下会调用该函数. 可用的按键名称参见<a href="#all_events_keys">Keys</a>.</p>
<p>例如:</p>
<pre><code>//启用按键监听
events.observeKey();
//监听音量上键按下
events.onKeyDown(&quot;volume_up&quot;, function(event){
    toast(&quot;音量上键被按下了&quot;);
});
//监听菜单键按下
events.onKeyDown(&quot;menu&quot;, function(event){
    toast(&quot;菜单键被按下了&quot;);
    exit();
});
</code></pre><h2>events.onKeyUp(keyName, listener)<span><a class="mark" href="#events_events_onkeyup_keyname_listener" id="events_events_onkeyup_keyname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要监听的按键名称</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 按键监听器. 参数为一个<a href="#all_events_keyevent">KeyEvent</a>.</li>
</ul>
</div><p>注册一个按键监听函数, 当有keyName对应的按键弹起会调用该函数. 可用的按键名称参见<a href="#all_events_keys">Keys</a>.</p>
<p>一次完整的按键动作包括了按键按下和弹起. 按下事件会在手指按下一个按键的&quot;瞬间&quot;触发, 弹起事件则在手指放开这个按键时触发.</p>
<p>例如:</p>
<pre><code>//启用按键监听
events.observeKey();
//监听音量下键弹起
events.onKeyDown(&quot;volume_down&quot;, function(event){
    toast(&quot;音量上键弹起&quot;);
});
//监听Home键弹起
events.onKeyDown(&quot;home&quot;, function(event){
    toast(&quot;Home键弹起&quot;);
    exit();
});
</code></pre><h2>events.onceKeyDown(keyName, listener)<span><a class="mark" href="#events_events_oncekeydown_keyname_listener" id="events_events_oncekeydown_keyname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要监听的按键名称</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 按键监听器. 参数为一个<a href="#all_events_keyevent">KeyEvent</a></li>
</ul>
</div><p>注册一个按键监听函数, 当有keyName对应的按键被按下时会调用该函数, 之后会注销该按键监听器.</p>
<p>也就是listener只有在onceKeyDown调用后的第一次按键事件被调用一次.</p>
<h2>events.onceKeyUp(keyName, listener)<span><a class="mark" href="#events_events_oncekeyup_keyname_listener" id="events_events_oncekeyup_keyname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要监听的按键名称</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 按键监听器. 参数为一个<a href="#all_events_keyevent">KeyEvent</a></li>
</ul>
</div><p>注册一个按键监听函数, 当有keyName对应的按键弹起时会调用该函数, 之后会注销该按键监听器.</p>
<p>也就是listener只有在onceKeyUp调用后的第一次按键事件被调用一次.</p>
<h2>events.removeAllKeyDownListeners(keyName)<span><a class="mark" href="#events_events_removeallkeydownlisteners_keyname" id="events_events_removeallkeydownlisteners_keyname">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 按键名称</li>
</ul>
</div><p>删除该按键的KeyDown(按下)事件的所有监听.</p>
<h2>events.removeAllKeyUpListeners(keyName)<span><a class="mark" href="#events_events_removeallkeyuplisteners_keyname" id="events_events_removeallkeyuplisteners_keyname">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 按键名称</li>
</ul>
</div><p>删除该按键的KeyUp(弹起)事件的所有监听.</p>
<h2>events.setKeyInterceptionEnabled([key, ]enabled)<span><a class="mark" href="#events_events_setkeyinterceptionenabled_key_enabled" id="events_events_setkeyinterceptionenabled_key_enabled">#</a></span></h2>
<div class="signature"><ul>
<li><code>enabled</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
<li><code>key</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 要屏蔽的按键</li>
</ul>
</div><p>设置按键屏蔽是否启用. 所谓按键屏蔽指的是, 屏蔽原有按键的功能, 例如使得音量键不再能调节音量, 但此时仍然能通过按键事件监听按键.</p>
<p>如果不加参数key则会屏蔽所有按键.</p>
<p>例如, 调用<code>events.setKeyInterceptionEnabled(true)</code>会使系统的音量、Home、返回等键不再具有调节音量、回到主页、返回的作用, 但此时仍然能通过按键事件监听按键.</p>
<p>该函数通常于按键监听结合, 例如想监听音量键并使音量键按下时不弹出音量调节框则为：</p>
<pre><code>events.setKeyInterceptionEnabled(&quot;volume_up&quot;, true);
events.observeKey();
events.onKeyDown(&quot;volume_up&quot;, ()=&gt;{
    log(&quot;音量上键被按下&quot;);
});
</code></pre><p>只要有一个脚本屏蔽了某个按键, 该按键便会被屏蔽；当脚本退出时, 会自动解除所有按键屏蔽.</p>
<h2>events.observeTouch()<span><a class="mark" href="#events_events_observetouch" id="events_events_observetouch">#</a></span></h2>
<p>启用屏幕触摸监听. （需要root权限）</p>
<p>只有这个函数被成功执行后, 触摸事件的监听才有效.</p>
<p>没有root权限调用该函数则什么也不会发生.</p>
<h2>events.setTouchEventTimeout(timeout)<span><a class="mark" href="#events_events_settoucheventtimeout_timeout" id="events_events_settoucheventtimeout_timeout">#</a></span></h2>
<div class="signature"><ul>
<li><code>timeout</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 两个触摸事件的最小间隔. 单位毫秒. 默认为10毫秒. 如果number小于0, 视为0处理.</li>
</ul>
</div><p>设置两个触摸事件分发的最小时间间隔.</p>
<p>例如间隔为10毫秒的话, 前一个触摸事件发生并被注册的监听器处理后, 至少要过10毫秒才能分发和处理下一个触摸事件, 这10毫秒之间的触摸将会被忽略.</p>
<p>建议在满足需要的情况下尽量提高这个间隔. 一个简单滑动动作可能会连续触发上百个触摸事件, 如果timeout设置过低可能造成事件拥堵. 强烈建议不要设置timeout为0.</p>
<h2>events.getTouchEventTimeout()<span><a class="mark" href="#events_events_gettoucheventtimeout" id="events_events_gettoucheventtimeout">#</a></span></h2>
<p>返回触摸事件的最小时间间隔.</p>
<h2>events.onTouch(listener)<span><a class="mark" href="#events_events_ontouch_listener" id="events_events_ontouch_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 参数为<a href="images.html#images_images_point">Point</a>的函数</li>
</ul>
</div><p>注册一个触摸监听函数. 相当于<code>on(&quot;touch&quot;, listener)</code>.</p>
<p>例如:</p>
<pre><code>//启用触摸监听
events.observeTouch();
//注册触摸监听器
events.onTouch(function(p){
    //触摸事件发生时, 打印出触摸的点的坐标
    log(p.x + &quot;, &quot; + p.y);
});
</code></pre><h2>events.removeAllTouchListeners()<span><a class="mark" href="#events_events_removealltouchlisteners" id="events_events_removealltouchlisteners">#</a></span></h2>
<p>删除所有事件监听函数.</p>
<h2>事件: &#39;key&#39;<span><a class="mark" href="#events_key" id="events_key">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyCode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 键值</li>
<li><code>event</code> { <span class="type">KeyEvent</span> } 事件</li>
</ul>
</div><p>当有按键被按下或弹起时会触发该事件.
例如：</p>
<pre><code>auto();
events.observeKey();
events.on(&quot;key&quot;, function(keyCode, event){
    //处理按键事件
});
</code></pre><p>其中监听器的参数KeyCode包括：</p>
<ul>
<li><code>keys.home</code> 主页键</li>
<li><code>keys.back</code> 返回键</li>
<li><code>keys.menu</code> 菜单键</li>
<li><code>keys.volume_up</code> 音量上键</li>
<li><code>keys.volume_down</code> 音量下键</li>
</ul>
<p>例如：</p>
<pre><code>auto();
events.observeKey();
events.on(&quot;key&quot;, function(keyCode, event){
    if(keyCode == keys.menu &amp;&amp; event.getAction() == event.ACTION_UP){
        toast(&quot;菜单键按下&quot;);
    }
});
</code></pre><h2>事件: &#39;key_down&#39;<span><a class="mark" href="#events_key_down" id="events_key_down">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyCode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 键值</li>
<li><code>event</code> { <span class="type">KeyEvent</span> } 事件</li>
</ul>
</div><p>当有按键被按下时会触发该事件.</p>
<pre><code>auto();
events.observeKey();
events.on(&quot;key_down&quot;, function(keyCode, event){
    //处理按键按下事件
});
</code></pre><h2>事件: &#39;key_up&#39;<span><a class="mark" href="#events_key_up" id="events_key_up">#</a></span></h2>
<div class="signature"><ul>
<li><code>keyCode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 键值</li>
<li><code>event</code> { <span class="type">KeyEvent</span> } 事件</li>
</ul>
</div><p>当有按键弹起时会触发该事件.</p>
<pre><code>auto();
events.observeKey();
events.on(&quot;key_up&quot;, function(keyCode, event){
    //处理按键弹起事件
});
</code></pre><h2>事件: &#39;exit`<span><a class="mark" href="#events_exit" id="events_exit">#</a></span></h2>
<p>当脚本正常或者异常退出时会触发该事件. 事件处理中如果有异常抛出, 则立即中止exit事件的处理（即使exit事件有多个处理函数）并在控制台和日志中打印该异常.</p>
<p>一个脚本停止运行时, 会关闭该脚本的所有悬浮窗, 触发exit事件, 之后再回收资源. 如果exit事件的处理中有死循环, 则后续资源无法得到及时回收.
此时脚本会停留在任务列表, 如果在任务列表中关闭, 则会强制结束exit事件的处理并回收后续资源.</p>
<pre><code>log(&quot;开始运行&quot;)
events.on(&quot;exit&quot;, function(){
    log(&quot;结束运行&quot;);
});
log(&quot;即将结束运行&quot;);
</code></pre><h2>events.observeNotification()<span><a class="mark" href="#events_events_observenotification" id="events_events_observenotification">#</a></span></h2>
<p>开启通知监听. 例如QQ消息、微信消息、推送等通知.</p>
<p>通知监听依赖于通知服务, 如果通知服务没有运行, 会抛出异常并跳转到通知权限开启界面. （有时即使通知权限已经开启通知服务也没有运行, 这时需要关闭权限再重新开启一次）</p>
<p>例如：</p>
<pre><code>events.observeNotification();
events.onNotification(function(notification){
    log(notification.getText());
});
</code></pre><h2>events.observeToast()<span><a class="mark" href="#events_events_observetoast" id="events_events_observetoast">#</a></span></h2>
<p>开启Toast监听.</p>
<p>Toast监听依赖于无障碍服务, 因此此函数会确保无障碍服务运行.</p>
<h2>事件: &#39;toast&#39;<span><a class="mark" href="#events_toast" id="events_toast">#</a></span></h2>
<div class="signature"><ul>
<li><code>toast</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> }<ul>
<li><code>getText()</code> 获取Toast的文本内容</li>
<li><code>getPackageName()</code> 获取发出Toast的应用包名</li>
</ul>
</li>
</ul>
</div><p>当有应用发出toast(气泡消息)时会触发该事件. 但Auto.js软件本身的toast除外.</p>
<p>例如, 要记录发出所有toast的应用：</p>
<pre><code>events.observeToast();
events.onToast(function(toast){
    log(&quot;Toast内容: &quot; + toast.getText() + &quot; 包名: &quot; + toast.getPackageName());
});
</code></pre><h2>事件: &#39;notification&#39;<span><a class="mark" href="#events_notification" id="events_notification">#</a></span></h2>
<div class="signature"><ul>
<li><code>notification</code> <a href="#all_events_notification">Notification</a> 通知对象</li>
</ul>
</div><p>当有应用发出通知时会触发该事件, 参数为<a href="#all_events_notification">Notification</a>.</p>
<p>例如：</p>
<pre><code>events.observeNotification();
events.on(&quot;notification&quot;, function(n){
    log(&quot;收到新通知:\n 标题: %s, 内容: %s, \n包名: %s&quot;, n.getTitle(), n.getText(), n.getPackageName());
});
</code></pre><h1>Notification<span><a class="mark" href="#events_notification_1" id="events_notification_1">#</a></span></h1>
<p>通知对象, 可以获取通知详情, 包括通知标题、内容、发出通知的包名、时间等, 也可以对通知进行操作, 比如点击、删除.</p>
<h2>Notification.number<span><a class="mark" href="#events_notification_number" id="events_notification_number">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>通知数量. 例如QQ连续收到两条消息时number为2.</p>
<h2>Notification.when<span><a class="mark" href="#events_notification_when" id="events_notification_when">#</a></span></h2>
<div class="signature"><ul>
<li>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>通知发出时间的时间戳, 可以用于构造<code>Date</code>对象. 例如：</p>
<pre><code>events.observeNotification();
events.on(&quot;notification&quot;, function(n){
    log(&quot;通知时间为}&quot; + new Date(n.when));
});
</code></pre><h2>Notification.getPackageName()<span><a class="mark" href="#events_notification_getpackagename" id="events_notification_getpackagename">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>获取发出通知的应用包名.</p>
<h2>Notification.getTitle()<span><a class="mark" href="#events_notification_gettitle" id="events_notification_gettitle">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>获取通知的标题.</p>
<h2>Notification.getText()<span><a class="mark" href="#events_notification_gettext" id="events_notification_gettext">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>获取通知的内容.</p>
<h2>Notification.click()<span><a class="mark" href="#events_notification_click" id="events_notification_click">#</a></span></h2>
<p>点击该通知. 例如对于一条QQ消息, 点击会进入具体的聊天界面.</p>
<h2>Notification.delete()<span><a class="mark" href="#events_notification_delete" id="events_notification_delete">#</a></span></h2>
<p>删除该通知. 该通知将从通知栏中消失.</p>
<h1>KeyEvent<span><a class="mark" href="#events_keyevent" id="events_keyevent">#</a></span></h1>
<h2>KeyEvent.getAction()<span><a class="mark" href="#events_keyevent_getaction" id="events_keyevent_getaction">#</a></span></h2>
<p>返回事件的动作. 包括：</p>
<ul>
<li><code>KeyEvent.ACTION_DOWN</code> 按下事件</li>
<li><code>KeyEvent.ACTION_UP</code> 弹起事件</li>
</ul>
<h2>KeyEvent.getKeyCode()<span><a class="mark" href="#events_keyevent_getkeycode" id="events_keyevent_getkeycode">#</a></span></h2>
<p>返回按键的键值. 包括：</p>
<ul>
<li><code>KeyEvent.KEYCODE_HOME</code> 主页键</li>
<li><code>KeyEvent.KEYCODE_BACK</code> 返回键</li>
<li><code>KeyEvent.KEYCODE_MENU</code> 菜单键</li>
<li><code>KeyEvent.KEYCODE_VOLUME_UP</code> 音量上键</li>
<li><code>KeyEvent.KEYCODE_VOLUME_DOWN</code> 音量下键</li>
</ul>
<h2>KeyEvent.getEventTime()<span><a class="mark" href="#events_keyevent_geteventtime" id="events_keyevent_geteventtime">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回事件发生的时间戳.</p>
<h2>KeyEvent.getDownTime()<span><a class="mark" href="#events_keyevent_getdowntime" id="events_keyevent_getdowntime">#</a></span></h2>
<p>返回最近一次按下事件的时间戳. 如果本身是按下事件, 则与<code>getEventTime()</code>相同.</p>
<h2>KeyEvent.keyCodeToString(keyCode)<span><a class="mark" href="#events_keyevent_keycodetostring_keycode" id="events_keyevent_keycodetostring_keycode">#</a></span></h2>
<p>把键值转换为字符串. 例如KEYCODE_HOME转换为&quot;KEYCODE_HOME&quot;.</p>
<h1>keys<span><a class="mark" href="#events_keys" id="events_keys">#</a></span></h1>
<p>按键事件中所有可用的按键名称为：</p>
<ul>
<li><code>volume_up</code>  音量上键</li>
<li><code>volume_down</code> 音量下键</li>
<li><code>home</code> 主屏幕键</li>
<li><code>back</code> 返回键</li>
<li><code>menu</code> 菜单键</li>
</ul>
<h1>EventEmitter<span><a class="mark" href="#events_eventemitter" id="events_eventemitter">#</a></span></h1>
<h2>EventEmitter.defaultMaxListeners<span><a class="mark" href="#events_eventemitter_defaultmaxlisteners" id="events_eventemitter_defaultmaxlisteners">#</a></span></h2>
<p>每个事件默认可以注册最多 10 个监听器.  单个 EventEmitter 实例的限制可以使用 emitter.setMaxListeners(n) 方法改变.  所有 EventEmitter 实例的默认值可以使用 EventEmitter.defaultMaxListeners 属性改变.</p>
<p>设置 EventEmitter.defaultMaxListeners 要谨慎, 因为会影响所有 EventEmitter 实例, 包括之前创建的.  因而, 调用 emitter.setMaxListeners(n) 优先于 EventEmitter.defaultMaxListeners.</p>
<p>注意, 与Node.js不同, <strong>这是一个硬性限制</strong>.  EventEmitter 实例不允许添加更多的监听器, 监听器超过最大数量时会抛出TooManyListenersException.</p>
<pre><code>emitter.setMaxListeners(emitter.getMaxListeners() + 1);
emitter.once(&#39;event&#39;, () =&gt; {
  // 做些操作
  emitter.setMaxListeners(Math.max(emitter.getMaxListeners() - 1, 0));
});
</code></pre><h2>EventEmitter.addListener(eventName, listener)<span><a class="mark" href="#events_eventemitter_addlistener_eventname_listener" id="events_eventemitter_addlistener_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> }</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> }</li>
</ul>
</div><p>emitter.on(eventName, listener) 的别名.</p>
<h2>EventEmitter.emit(eventName[, ...args])<span><a class="mark" href="#events_eventemitter_emit_eventname_args" id="events_eventemitter_emit_eventname_args">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> }</li>
<li><code>args</code> { <span class="type">any</span> }</li>
</ul>
</div><p>按监听器的注册顺序, 同步地调用每个注册到名为 eventName 事件的监听器, 并传入提供的参数.</p>
<p>如果事件有监听器, 则返回 true , 否则返回 false.</p>
<h2>EventEmitter.eventNames()<span><a class="mark" href="#events_eventemitter_eventnames" id="events_eventemitter_eventnames">#</a></span></h2>
<p>返回一个列出触发器已注册监听器的事件的数组.  数组中的值为字符串或符号.</p>
<pre><code>const myEE = events.emitter();
myEE.on(&#39;foo&#39;, () =&gt; {});
myEE.on(&#39;bar&#39;, () =&gt; {});

const sym = Symbol(&#39;symbol&#39;);
myEE.on(sym, () =&gt; {});

console.log(myEE.eventNames());
// 打印: [ &#39;foo&#39;, &#39;bar&#39;, Symbol(symbol) ]
</code></pre><h2>EventEmitter.getMaxListeners()<span><a class="mark" href="#events_eventemitter_getmaxlisteners" id="events_eventemitter_getmaxlisteners">#</a></span></h2>
<p>返回 EventEmitter 当前的最大监听器限制值, 该值可以通过 emitter.setMaxListeners(n) 设置或默认为 EventEmitter.defaultMaxListeners.</p>
<h2>EventEmitter.listenerCount(eventName)<span><a class="mark" href="#events_eventemitter_listenercount_eventname" id="events_eventemitter_listenercount_eventname">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 正在被监听的事件名</li>
</ul>
</div><p>返回正在监听名为 eventName 的事件的监听器的数量.</p>
<h2>EventEmitter.listeners(eventName)<span><a class="mark" href="#events_eventemitter_listeners_eventname" id="events_eventemitter_listeners_eventname">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>返回名为 eventName 的事件的监听器数组的副本.</p>
<pre><code>server.on(&#39;connection&#39;, (stream) =&gt; {
  console.log(&#39;someone connected!&#39;);
});
console.log(util.inspect(server.listeners(&#39;connection&#39;)));
// 打印: [ [Function] ]
</code></pre><h2>EventEmitter.on(eventName, listener)<span><a class="mark" href="#events_eventemitter_on_eventname_listener" id="events_eventemitter_on_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> } 事件名</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
</ul>
</div><p>添加 listener 函数到名为 eventName 的事件的监听器数组的末尾.  不会检查 listener 是否已被添加.  多次调用并传入相同的 eventName 和 listener 会导致 listener 被添加与调用多次.</p>
<pre><code>server.on(&#39;connection&#39;, (stream) =&gt; {
  console.log(&#39;有连接！&#39;);
});
</code></pre><p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<p>默认情况下, 事件监听器会按照添加的顺序依次调用.  emitter.prependListener() 方法可用于将事件监听器添加到监听器数组的开头.</p>
<pre><code>const myEE = events.emitter();
myEE.on(&#39;foo&#39;, () =&gt; console.log(&#39;a&#39;));
myEE.prependListener(&#39;foo&#39;, () =&gt; console.log(&#39;b&#39;));
myEE.emit(&#39;foo&#39;);
// 打印:
//   b
//   a
</code></pre><h2>EventEmitter.once(eventName, listener)<span><a class="mark" href="#events_eventemitter_once_eventname_listener" id="events_eventemitter_once_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> } 事件名</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
</ul>
</div><p>添加一个单次 listener 函数到名为 eventName 的事件.  下次触发 eventName 事件时, 监听器会被移除, 然后调用.</p>
<pre><code>server.once(&#39;connection&#39;, (stream) =&gt; {
  console.log(&#39;首次调用！&#39;);
});
</code></pre><p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<p>默认情况下, 事件监听器会按照添加的顺序依次调用.  emitter.prependOnceListener() 方法可用于将事件监听器添加到监听器数组的开头.</p>
<pre><code>const myEE = events.emitter();
myEE.once(&#39;foo&#39;, () =&gt; console.log(&#39;a&#39;));
myEE.prependOnceListener(&#39;foo&#39;, () =&gt; console.log(&#39;b&#39;));
myEE.emit(&#39;foo&#39;);
// 打印:
//   b
//   a
</code></pre><h2>EventEmitter.prependListener(eventName, listener)<span><a class="mark" href="#events_eventemitter_prependlistener_eventname_listener" id="events_eventemitter_prependlistener_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> } 事件名</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
</ul>
</div><p>添加 listener 函数到名为 eventName 的事件的监听器数组的开头.  不会检查 listener 是否已被添加.  多次调用并传入相同的 eventName 和 listener 会导致 listener 被添加与调用多次.</p>
<pre><code>server.prependListener(&#39;connection&#39;, (stream) =&gt; {
  console.log(&#39;有连接！&#39;);
});
</code></pre><p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<h2>EventEmitter.prependOnceListener(eventName, listener)<span><a class="mark" href="#events_eventemitter_prependoncelistener_eventname_listener" id="events_eventemitter_prependoncelistener_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> } 事件名</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
</ul>
</div><p>添加一个单次 listener 函数到名为 eventName 的事件的监听器数组的开头.  下次触发 eventName 事件时, 监听器会被移除, 然后调用.</p>
<pre><code>server.prependOnceListener(&#39;connection&#39;, (stream) =&gt; {
  console.log(&#39;首次调用！&#39;);
});
</code></pre><p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<h2>EventEmitter.removeAllListeners([eventName])<span><a class="mark" href="#events_eventemitter_removealllisteners_eventname" id="events_eventemitter_removealllisteners_eventname">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> }</li>
</ul>
</div><p>移除全部或指定 eventName 的监听器.</p>
<p>注意, 在代码中移除其他地方添加的监听器是一个不好的做法, 尤其是当 EventEmitter 实例是其他组件或模块创建的.</p>
<p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<h2>EventEmitter.removeListener(eventName, listener)<span><a class="mark" href="#events_eventemitter_removelistener_eventname_listener" id="events_eventemitter_removelistener_eventname_listener">#</a></span></h2>
<div class="signature"><ul>
<li><code>eventName</code> { <span class="type">any</span> }</li>
<li><code>listener</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> }</li>
</ul>
</div><p>从名为 eventName 的事件的监听器数组中移除指定的 listener.</p>
<pre><code>const callback = (stream) =&gt; {
  console.log(&#39;有连接！&#39;);
};
server.on(&#39;connection&#39;, callback);
// ...
server.removeListener(&#39;connection&#39;, callback);
</code></pre><p>removeListener 最多只会从监听器数组里移除一个监听器实例.  如果任何单一的监听器被多次添加到指定 eventName 的监听器数组中, 则必须多次调用 removeListener 才能移除每个实例.</p>
<p>注意, 一旦一个事件被触发, 所有绑定到它的监听器都会按顺序依次触发.  这意味着, 在事件触发后、最后一个监听器完成执行前, 任何 removeListener() 或 removeAllListeners() 调用都不会从 emit() 中移除它们.  随后的事件会像预期的那样发生.</p>
<pre><code>const myEmitter = events.emitter();

const callbackA = () =&gt; {
  console.log(&#39;A&#39;);
  myEmitter.removeListener(&#39;event&#39;, callbackB);
};

const callbackB = () =&gt; {
  console.log(&#39;B&#39;);
};

myEmitter.on(&#39;event&#39;, callbackA);

myEmitter.on(&#39;event&#39;, callbackB);

// callbackA 移除了监听器 callbackB, 但它依然会被调用.
// 触发是内部的监听器数组为 [callbackA, callbackB]
myEmitter.emit(&#39;event&#39;);
// 打印:
//   A
//   B

// callbackB 被移除了.
// 内部监听器数组为 [callbackA]
myEmitter.emit(&#39;event&#39;);
// 打印:
//   A
</code></pre><p>因为监听器是使用内部数组进行管理的, 所以调用它会改变在监听器被移除后注册的任何监听器的位置索引.  虽然这不会影响监听器的调用顺序, 但意味着由 emitter.listeners() 方法返回的监听器数组副本需要被重新创建.</p>
<p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<h2>EventEmitter.setMaxListeners(n)<span><a class="mark" href="#events_eventemitter_setmaxlisteners_n" id="events_eventemitter_setmaxlisteners_n">#</a></span></h2>
<div class="signature"><ul>
<li><code>n</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>默认情况下, 如果为特定事件添加了超过 10 个监听器, 则 EventEmitter 会打印一个警告.  此限制有助于寻找内存泄露.  但是, 并不是所有的事件都要被限为 10 个.  emitter.setMaxListeners() 方法允许修改指定的 EventEmitter 实例的限制.  值设为 Infinity（或 0）表明不限制监听器的数量.</p>
<p>返回一个 EventEmitter 引用, 可以链式调用.</p>
<h1>events.broadcast: 脚本间广播<span><a class="mark" href="#events_events_broadcast" id="events_events_broadcast">#</a></span></h1>
<p>脚本间通信除了使用engines模块提供的<code>ScriptEngine.emit()</code>方法以外, 也可以使用events模块提供的broadcast广播.</p>
<p>events.broadcast本身是一个EventEmitter, 但它的事件是在脚本间共享的, 所有脚本都能发送和监听这些事件；事件处理会在脚本主线程执行（后续可能加入函数<code>onThisThread(eventName, ...args)</code>来提供在其他线程执行的能力）.</p>
<p>例如在一个脚本发送一个广播hello:</p>
<pre><code>events.broadcast.emit(&quot;hello&quot;, &quot;小明&quot;);
</code></pre><p>在其他脚本中监听并处理：</p>
<pre><code>events.broadcast.on(&quot;hello&quot;, function(name){
    toast(&quot;你好, &quot; + name);
});
//保持脚本运行
setInterval(()=&gt;{}, 1000);
</code></pre><!-- [end-include:events.md] -->
<!-- [start-include:dialogs.md] -->
<h1>对话框 (Dialogs)<span><a class="mark" href="#dialogs_dialogs" id="dialogs_dialogs">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>dialogs 模块提供了简单的对话框支持, 可以通过对话框和用户进行交互. 最简单的例子如下：</p>
<pre><code>alert(&quot;您好&quot;);
</code></pre><p>这段代码会弹出一个消息提示框显示&quot;您好&quot;, 并在用户点击&quot;确定&quot;后继续运行. 稍微复杂一点的例子如下：</p>
<pre><code>var clear = confirm(&quot;要清除所有缓存吗?&quot;);
if(clear){
    alert(&quot;清除成功!&quot;);
}
</code></pre><p><code>confirm()</code>会弹出一个对话框并让用户选择&quot;是&quot;或&quot;否&quot;, 如果选择&quot;是&quot;则返回true.</p>
<p>需要特别注意的是, 对话框在ui模式下不能像通常那样使用, 应该使用回调函数或者<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/">Promise</a>的形式. 理解这一点可能稍有困难. 举个例子:</p>
<pre><code>&quot;ui&quot;;
//回调形式
 confirm(&quot;要清除所有缓存吗?&quot;, function(clear){
     if(clear){
          alert(&quot;清除成功!&quot;);
     }
 });
//Promise形式
confirm(&quot;要清除所有缓存吗?&quot;)
    .then(clear =&gt; {
        if(clear){
          alert(&quot;清除成功!&quot;);
        }
    });
</code></pre><h2>dialogs.alert(title[, content, callback])<span><a class="mark" href="#dialogs_dialogs_alert_title_content_callback" id="dialogs_dialogs_alert_title_content_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>content</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 可选, 对话框的内容. 默认为空.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个只包含“确定”按钮的提示对话框. 直至用户点击确定脚本才继续运行.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>alert(&quot;出现错误~&quot;, &quot;出现未知错误, 请联系脚本作者”);
</code></pre><p>在ui模式下该函数返回一个<code>Promise</code>. 例如:</p>
<pre><code>&quot;ui&quot;;
alert(&quot;嘿嘿嘿&quot;).then(()=&gt;{
    //当点击确定后会执行这里
});
</code></pre><h2>dialogs.confirm(title[, content, callback])<span><a class="mark" href="#dialogs_dialogs_confirm_title_content_callback" id="dialogs_dialogs_confirm_title_content_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>content</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 可选, 对话框的内容. 默认为空.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个包含“确定”和“取消”按钮的提示对话框. 如果用户点击“确定”则返回 <code>true</code> , 否则返回 <code>false</code> .</p>
<p>该函数也可以作为全局函数使用.</p>
<p>在ui模式下该函数返回一个<code>Promise</code>. 例如:</p>
<pre><code>&quot;ui&quot;;
confirm(&quot;确定吗&quot;).then(value=&gt;{
    //当点击确定后会执行这里, value为true或false, 表示点击&quot;确定&quot;或&quot;取消&quot;
});
</code></pre><h2>dialogs.rawInput(title[, prefill, callback])<span><a class="mark" href="#dialogs_dialogs_rawinput_title_prefill_callback" id="dialogs_dialogs_rawinput_title_prefill_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>prefill</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 输入框的初始内容, 可选, 默认为空.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个包含输入框的对话框, 等待用户输入内容, 并在用户点击确定时将输入的字符串返回. 如果用户取消了输入, 返回null.</p>
<p>该函数也可以作为全局函数使用.</p>
<pre><code>var name = rawInput(&quot;请输入您的名字&quot;, &quot;小明&quot;);
alert(&quot;您的名字是&quot; + name);
</code></pre><p>在ui模式下该函数返回一个<code>Promise</code>. 例如:</p>
<pre><code>&quot;ui&quot;;
rawInput(&quot;请输入您的名字&quot;, &quot;小明&quot;).then(name =&gt; {
    alert(&quot;您的名字是&quot; + name);
});
</code></pre><p>当然也可以使用回调函数, 例如:</p>
<pre><code>rawInput(&quot;请输入您的名字&quot;, &quot;小明&quot;, name =&gt; {
     alert(&quot;您的名字是&quot; + name);
});
</code></pre><h2>dialogs.input(title[, prefill, callback])<span><a class="mark" href="#dialogs_dialogs_input_title_prefill_callback" id="dialogs_dialogs_input_title_prefill_callback">#</a></span></h2>
<p>等效于 <code>eval(dialogs.rawInput(title, prefill, callback))</code>, 该函数和rawInput的区别在于, 会把输入的字符串用eval计算一遍再返回, 返回的可能不是字符串.</p>
<p>可以用该函数输入数字、数组等. 例如：</p>
<pre><code>var age = dialogs.input(&quot;请输入您的年龄&quot;, &quot;18&quot;);
// new Date().getYear() + 1900 可获取当前年份
var year = new Date().getYear() + 1900 - age;
alert(&quot;您的出生年份是&quot; + year);
</code></pre><p>在ui模式下该函数返回一个<code>Promise</code>. 例如:</p>
<pre><code>&quot;ui&quot;;
dialogs.input(&quot;请输入您的年龄&quot;, &quot;18&quot;).then(age =&gt; {
    var year = new Date().getYear() + 1900 - age;
    alert(&quot;您的出生年份是&quot; + year);
});
</code></pre><h2>dialogs.prompt(title[, prefill, callback])<span><a class="mark" href="#dialogs_dialogs_prompt_title_prefill_callback" id="dialogs_dialogs_prompt_title_prefill_callback">#</a></span></h2>
<p>相当于 <code>dialogs.rawInput()</code>;</p>
<h2>dialogs.select(title, items, callback)<span><a class="mark" href="#dialogs_dialogs_select_title_items_callback" id="dialogs_dialogs_select_title_items_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>items</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 对话框的选项列表, 是一个字符串数组.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个带有选项列表的对话框, 等待用户选择, 返回用户选择的选项索引(0 ~ item.length - 1). 如果用户取消了选择, 返回-1.</p>
<pre><code>var options = [&quot;选项A&quot;, &quot;选项B&quot;, &quot;选项C&quot;, &quot;选项D&quot;]
var i = dialogs.select(&quot;请选择一个选项&quot;, options);
if(i &gt;= 0){
    toast(&quot;您选择的是&quot; + options[i]);
}else{
    toast(&quot;您取消了选择&quot;);
}
</code></pre><p>在ui模式下该函数返回一个<code>Promise</code>. 例如:</p>
<pre><code>&quot;ui&quot;;
dialogs.select(&quot;请选择一个选项&quot;, [&quot;选项A&quot;, &quot;选项B&quot;, &quot;选项C&quot;, &quot;选项D&quot;])
    .then(i =&gt; {
        toast(i);
    });
</code></pre><h2>dialogs.singleChoice(title, items[, index, callback])<span><a class="mark" href="#dialogs_dialogs_singlechoice_title_items_index_callback" id="dialogs_dialogs_singlechoice_title_items_index_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>items</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 对话框的选项列表, 是一个字符串数组.</li>
<li><code>index</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框的初始选项的位置, 默认为0.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个单选列表对话框, 等待用户选择, 返回用户选择的选项索引(0 ~ item.length - 1). 如果用户取消了选择, 返回-1.</p>
<p>在ui模式下该函数返回一个<code>Promise</code>.</p>
<h2>dialogs.multiChoice(title, items[, indices, callback])<span><a class="mark" href="#dialogs_dialogs_multichoice_title_items_indices_callback" id="dialogs_dialogs_multichoice_title_items_indices_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的标题.</li>
<li><code>items</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 对话框的选项列表, 是一个字符串数组.</li>
<li><code>indices</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 选项列表中初始选中的项目索引的数组, 默认为空数组.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选. 当用户点击确定时被调用,一般用于ui模式.</li>
</ul>
</div><p>显示一个多选列表对话框, 等待用户选择, 返回用户选择的选项索引的数组. 如果用户取消了选择, 返回<code>[]</code>.</p>
<p>在ui模式下该函数返回一个<code>Promise</code>.</p>
<h2>dialogs.build(properties)<span><a class="mark" href="#dialogs_dialogs_build_properties" id="dialogs_dialogs_build_properties">#</a></span></h2>
<div class="signature"><ul>
<li><code>properties</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 对话框属性, 用于配置对话框.</li>
<li>返回 { <span class="type">Dialog</span> }</li>
</ul>
</div><p>创建一个可自定义的对话框, 例如：</p>
<pre><code>dialogs.build({
    //对话框标题
    title: &quot;发现新版本&quot;,
    //对话框内容
    content: &quot;更新日志: 新增了若干了BUG&quot;,
    //确定键内容
    positive: &quot;下载&quot;,
    //取消键内容
    negative: &quot;取消&quot;,
    //中性键内容
    neutral: &quot;到浏览器下载&quot;,
    //勾选框内容
    checkBoxPrompt: &quot;不再提示&quot;
}).on(&quot;positive&quot;, ()=&gt;{
    //监听确定键
    toast(&quot;开始下载....&quot;);
}).on(&quot;neutral&quot;, ()=&gt;{
    //监听中性键
    app.openUrl(&quot;https://www.autojs.org&quot;);
}).on(&quot;check&quot;, (checked)=&gt;{
    //监听勾选框
    log(checked);
}).show();
</code></pre><p>选项properties可供配置的项目为:</p>
<ul>
<li><code>title</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框标题</li>
<li><code>titleColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框标题的颜色</li>
<li><code>buttonRippleColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框按钮的波纹效果颜色</li>
<li><code>icon</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <span class="type">Image</span> } 对话框的图标, 是一个URL或者图片对象</li>
<li><code>content</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框文字内容</li>
<li><code>contentColor</code>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框文字内容的颜色</li>
<li><code>contentLineSpacing</code>{ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框文字内容的行高倍数, 1.0为一倍行高</li>
<li><code>items</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 对话框列表的选项</li>
<li><code>itemsColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框列表的选项的文字颜色</li>
<li><code>itemsSelectMode</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框列表的选项选择模式, 可以为:<ul>
<li><code>select</code> 普通选择模式</li>
<li><code>single</code> 单选模式</li>
<li><code>multi</code> 多选模式</li>
</ul>
</li>
<li><code>itemsSelectedIndex</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 对话框列表中预先选中的项目索引, 如果是单选模式为一个索引；多选模式则为数组</li>
<li><code>positive</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框确定按钮的文字内容(最右边按钮)</li>
<li><code>positiveColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框确定按钮的文字颜色(最右边按钮)</li>
<li><code>neutral</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框中立按钮的文字内容(最左边按钮)</li>
<li><code>neutralColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框中立按钮的文字颜色(最左边按钮)</li>
<li><code>negative</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框取消按钮的文字内容(确定按钮左边的按钮)</li>
<li><code>negativeColor</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 对话框取消按钮的文字颜色(确定按钮左边的按钮)</li>
<li><code>checkBoxPrompt</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 勾选框文字内容</li>
<li><code>checkBoxChecked</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 勾选框是否勾选</li>
<li><code>progress</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 配置对话框进度条的对象：<ul>
<li><code>max</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 进度条的最大值, 如果为-1则为无限循环的进度条</li>
<li><code>horizontal</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 如果为true, 则对话框无限循环的进度条为水平进度条</li>
<li><code>showMinMax</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 是否显示进度条的最大值和最小值</li>
</ul>
</li>
<li><code>cancelable</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 对话框是否可取消, 如果为false, 则对话框只能用代码手动取消</li>
<li><code>canceledOnTouchOutside</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 对话框是否在点击对话框以外区域时自动取消, 默认为true</li>
<li><code>inputHint</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框的输入框的输入提示</li>
<li><code>inputPrefill</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 对话框输入框的默认输入内容</li>
</ul>
<p>通过这些选项可以自定义一个对话框, 并通过监听返回的Dialog对象的按键、输入事件来实现交互. 下面是一些例子.</p>
<p>模拟alert对话框：</p>
<pre><code>dialogs.build({
    title: &quot;你好&quot;,
    content: &quot;今天也要元气满满哦&quot;,
    positive: &quot;好的&quot;
}).show();
</code></pre><p>模拟confirm对话框:</p>
<pre><code>dialogs.build({
    title: &quot;你好&quot;,
    content: &quot;请问你是笨蛋吗?&quot;,
    positive: &quot;是的&quot;,
    negative: &quot;我是大笨蛋&quot;
}).on(&quot;positive&quot;, ()=&gt;{
    alert(&quot;哈哈哈笨蛋&quot;);
}).on(&quot;negative&quot;, ()=&gt;{
    alert(&quot;哈哈哈大笨蛋&quot;);
}).show();
</code></pre><p>模拟单选框:</p>
<pre><code>dialogs.build({
    title: &quot;单选&quot;,
    items: [&quot;选项1&quot;, &quot;选项2&quot;, &quot;选项3&quot;, &quot;选项4&quot;],
    itemsSelectMode: &quot;single&quot;,
    itemsSelectedIndex: 3
}).on(&quot;single_choice&quot;, (index, item)=&gt;{
    toast(&quot;您选择的是&quot; + item);
}).show();
</code></pre><p>&quot;处理中&quot;对话框:</p>
<pre><code>var d = dialogs.build({
    title: &quot;下载中...&quot;,
    progress: {
        max: -1
    },
    cancelable: false
}).show();

setTimeout(()=&gt;{
    d.dismiss();
}, 3000);
</code></pre><p>输入对话框:</p>
<pre><code>dialogs.build({
    title: &quot;请输入您的年龄&quot;,
    inputPrefill: &quot;18&quot;
}).on(&quot;input&quot;, (input)=&gt;{
    var age = parseInt(input);
    toastLog(age);
}).show();
</code></pre><p>使用这个函数来构造对话框, 一个明显的不同是需要使用回调函数而不能像dialogs其他函数一样同步地返回结果；但也可以通过threads模块的方法来实现. 例如显示一个输入框并获取输入结果为：</p>
<pre><code>var input = threads.disposable();
dialogas.build({
    title: &quot;请输入您的年龄&quot;,
    inputPrefill: &quot;18&quot;
}).on(&quot;input&quot;, text =&gt; {
    input.setAndNotify(text);
}).show();
var age = parseInt(input.blockedGet());
tosatLog(age);
</code></pre><h1>Dialog<span><a class="mark" href="#dialogs_dialog" id="dialogs_dialog">#</a></span></h1>
<p><code>dialogs.build()</code>返回的对话框对象, 内置一些事件用于响应用户的交互, 也可以获取对话框的状态和信息.</p>
<h2>事件: <code>show</code><span><a class="mark" href="#dialogs_show" id="dialogs_show">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框显示时会触发的事件. 例如：</p>
<pre><code>dialogs.build({
    title: &quot;标题&quot;
}).on(&quot;show&quot;, (dialog)=&gt;{
    toast(&quot;对话框显示了&quot;);
}).show();
</code></pre><h2>事件: <code>cancel</code><span><a class="mark" href="#dialogs_cancel" id="dialogs_cancel">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框被取消时会触发的事件. 一个对话框可能按取消按钮、返回键取消或者点击对话框以外区域取消. 例如：</p>
<pre><code>dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;
}).on(&quot;cancel&quot;, (dialog)=&gt;{
    toast(&quot;对话框取消了&quot;);
}).show();
</code></pre><h2>事件: <code>dismiss</code><span><a class="mark" href="#dialogs_dismiss" id="dialogs_dismiss">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框消失时会触发的事件. 对话框被取消或者手动调用<code>dialog.dismiss()</code>函数都会触发该事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;
}).on(&quot;dismiss&quot;, (dialog)=&gt;{
    toast(&quot;对话框消失了&quot;);
}).show();

setTimeout(()=&gt;{
    d.dismiss();
}, 5000);
</code></pre><h2>事件: <code>positive</code><span><a class="mark" href="#dialogs_positive" id="dialogs_positive">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>确定按钮按下时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;
}).on(&quot;positive&quot;, (dialog)=&gt;{
    toast(&quot;你点击了确定&quot;);
}).show();
</code></pre><h2>事件: <code>negative</code><span><a class="mark" href="#dialogs_negative" id="dialogs_negative">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>取消按钮按下时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;
}).on(&quot;negative&quot;, (dialog)=&gt;{
    toast(&quot;你点击了取消&quot;);
}).show();
</code></pre><h2>事件: <code>neutral</code><span><a class="mark" href="#dialogs_neutral" id="dialogs_neutral">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>中性按钮按下时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    neutral: &quot;稍后提示&quot;
}).on(&quot;positive&quot;, (dialog)=&gt;{
    toast(&quot;你点击了稍后提示&quot;);
}).show();
</code></pre><h2>事件: <code>any</code><span><a class="mark" href="#dialogs_any" id="dialogs_any">#</a></span></h2>
<div class="signature"><ul>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
<li><code>action</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 被点击的按钮, 可能的值为:<ul>
<li><code>positive</code> 确定按钮</li>
<li><code>negative</code> 取消按钮</li>
<li><code>neutral</code> 中性按钮</li>
</ul>
</li>
</ul>
</div><p>任意按钮按下时触发的事件. 例如:</p>
<pre><code>var d = dialogs.build({
    title: &quot;标题&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    neutral: &quot;稍后提示&quot;
}).on(&quot;any&quot;, (action, dialog)=&gt;{
    if(action == &quot;positive&quot;){
        toast(&quot;你点击了确定&quot;);
    }else if(action == &quot;negative&quot;){
        toast(&quot;你点击了取消&quot;);
    }
}).show();
</code></pre><h2>事件: <code>item_select</code><span><a class="mark" href="#dialogs_item_select" id="dialogs_item_select">#</a></span></h2>
<div class="signature"><ul>
<li><code>index</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 被选中的项目索引, 从0开始</li>
<li><code>item</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 被选中的项目</li>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框列表(itemsSelectMode为&quot;select&quot;)的项目被点击选中时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;请选择&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    items: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;],
    itemsSelectMode: &quot;select&quot;
}).on(&quot;item_select&quot;, (index, item, dialog)=&gt;{
    toast(&quot;您选择的是第&quot; + (index + 1) + &quot;项, 选项为&quot; + item);
}).show();
</code></pre><h2>事件: <code>single_choice</code><span><a class="mark" href="#dialogs_single_choice" id="dialogs_single_choice">#</a></span></h2>
<div class="signature"><ul>
<li><code>index</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 被选中的项目索引, 从0开始</li>
<li><code>item</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 被选中的项目</li>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框单选列表(itemsSelectMode为&quot;singleChoice&quot;)的项目被选中并点击确定时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;请选择&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    items: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;],
    itemsSelectMode: &quot;singleChoice&quot;
}).on(&quot;item_select&quot;, (index, item, dialog)=&gt;{
    toast(&quot;您选择的是第&quot; + (index + 1) + &quot;项, 选项为&quot; + item);
}).show();
</code></pre><h2>事件: <code>multi_choice</code><span><a class="mark" href="#dialogs_multi_choice" id="dialogs_multi_choice">#</a></span></h2>
<div class="signature"><ul>
<li><code>indices</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 被选中的项目的索引的数组</li>
<li><code>items</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } 被选中的项目的数组</li>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框多选列表(itemsSelectMode为&quot;multiChoice&quot;)的项目被选中并点击确定时触发的事件. 例如：</p>
<pre><code>var d = dialogs.build({
    title: &quot;请选择&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    items: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;],
    itemsSelectMode: &quot;multiChoice&quot;
}).on(&quot;item_select&quot;, (indices, items, dialog)=&gt;{
    toast(util.format(&quot;您选择的项目为%o, 选项为%o&quot;, indices, items);
}).show();
</code></pre><h2>事件: <code>input</code><span><a class="mark" href="#dialogs_input" id="dialogs_input">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 输入框的内容</li>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>带有输入框的对话框当点击确定时会触发的事件. 例如：</p>
<pre><code>dialogs.build({
    title: &quot;请输入&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    inputPrefill: &quot;&quot;
}).on(&quot;input&quot;, (text, dialog)=&gt;{
    toast(&quot;你输入的是&quot; + text);
}).show();
</code></pre><h2>事件: <code>input_change</code><span><a class="mark" href="#dialogs_input_change" id="dialogs_input_change">#</a></span></h2>
<div class="signature"><ul>
<li><code>text</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 输入框的内容</li>
<li><code>dialog</code> { <span class="type">Dialog</span> } 对话框</li>
</ul>
</div><p>对话框的输入框的文本发生变化时会触发的事件. 例如：</p>
<pre><code>dialogs.build({
    title: &quot;请输入&quot;,
    positive: &quot;确定&quot;,
    negative: &quot;取消&quot;,
    inputPrefill: &quot;&quot;
}).on(&quot;input_change&quot;, (text, dialog)=&gt;{
    toast(&quot;你输入的是&quot; + text);
}).show();
</code></pre><h2>dialog.getProgress()<span><a class="mark" href="#dialogs_dialog_getprogress" id="dialogs_dialog_getprogress">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>获取当前进度条的进度值, 是一个整数</p>
<h2>dialog.getMaxProgress()<span><a class="mark" href="#dialogs_dialog_getmaxprogress" id="dialogs_dialog_getmaxprogress">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>获取当前进度条的最大进度值, 是一个整数</p>
<h2>dialog.getActionButton(action)<span><a class="mark" href="#dialogs_dialog_getactionbutton_action" id="dialogs_dialog_getactionbutton_action">#</a></span></h2>
<div class="signature"><ul>
<li><code>action</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 动作, 包括:<ul>
<li><code>positive</code></li>
<li><code>negative</code></li>
<li><code>neutral</code></li>
</ul>
</li>
</ul>
</div><!-- [end-include:dialogs.md] -->
<!-- [start-include:floaty.md] -->
<h1>悬浮窗 (Floaty)<span><a class="mark" href="#floaty_floaty" id="floaty_floaty">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>floaty模块提供了悬浮窗的相关函数, 可以在屏幕上显示自定义悬浮窗, 控制悬浮窗大小、位置等.</p>
<p>悬浮窗在脚本停止运行时会自动关闭, 因此, 要保持悬浮窗不被关闭, 可以用一个空的setInterval来实现, 例如：</p>
<pre><code>setInterval(()=&gt;{}, 1000);
</code></pre><h2>floaty.window(layout)<span><a class="mark" href="#floaty_floaty_window_layout" id="floaty_floaty_window_layout">#</a></span></h2>
<div class="signature"><ul>
<li><code>layout</code> { <span class="type">xml</span> } | { <span class="type">View</span> } 悬浮窗界面的XML或者View</li>
</ul>
</div><p>指定悬浮窗的布局, 创建并<strong>显示</strong>一个悬浮窗, 返回一个<code>FloatyWindow</code>对象.</p>
<p>该悬浮窗自带关闭、调整大小、调整位置按键, 可根据需要调用<code>setAdjustEnabled()</code>函数来显示或隐藏.</p>
<p>其中layout参数可以是xml布局或者一个View, 更多信息参见ui模块的说明.</p>
<p>例子：</p>
<pre><code>var w = floaty.window(
    &lt;frame gravity=&quot;center&quot;&gt;
        &lt;text id=&quot;text&quot;&gt;悬浮文字&lt;/text&gt;
    &lt;/frame&gt;
);
setTimeout(()=&gt;{
    w.close();
}, 2000);
</code></pre><p>这段代码运行后将会在屏幕上显示悬浮文字, 并在两秒后消失.</p>
<p>另外, 因为脚本运行的线程不是UI线程, 而所有对控件的修改操作需要在UI线程执行, 此时需要用<code>ui.run</code>, 例如:</p>
<pre><code>ui.run(function(){
    w.text.setText(&quot;文本&quot;);
});
</code></pre><p>有关返回的<code>FloatyWindow</code>对象的说明, 参见下面的<code>FloatyWindow</code>章节.</p>
<h2>floaty.rawWindow(layout)<span><a class="mark" href="#floaty_floaty_rawwindow_layout" id="floaty_floaty_rawwindow_layout">#</a></span></h2>
<div class="signature"><ul>
<li><code>layout</code> { <span class="type">xml</span> } | { <span class="type">View</span> } 悬浮窗界面的XML或者View</li>
</ul>
</div><p>指定悬浮窗的布局, 创建并<strong>显示</strong>一个原始悬浮窗, 返回一个<code>FloatyRawWindow</code>对象.</p>
<p>与<code>floaty.window()</code>函数不同的是, 该悬浮窗不会增加任何额外设施（例如调整大小、位置按钮）, 您可以根据自己需要编写任何布局.</p>
<p>而且, 该悬浮窗支持完全全屏, 可以覆盖状态栏, 因此可以做护眼模式之类的应用.</p>
<pre><code>var w = floaty.rawWindow(
    &lt;frame gravity=&quot;center&quot;&gt;
        &lt;text id=&quot;text&quot;&gt;悬浮文字&lt;/text&gt;
    &lt;/frame&gt;
);

w.setPosition(500, 500);

setTimeout(()=&gt;{
    w.close();
}, 2000);
</code></pre><p>这段代码运行后将会在屏幕上显示悬浮文字, 并在两秒后消失.</p>
<p>有关返回的<code>FloatyRawWindow</code>对象的说明, 参见下面的<code>FloatyRawWindow</code>章节.</p>
<h2>floaty.closeAll()<span><a class="mark" href="#floaty_floaty_closeall" id="floaty_floaty_closeall">#</a></span></h2>
<p>关闭所有本脚本的悬浮窗.</p>
<h1>FloatyWindow<span><a class="mark" href="#floaty_floatywindow" id="floaty_floatywindow">#</a></span></h1>
<p>悬浮窗对象, 可通过<code>FloatyWindow.{id}</code>获取悬浮窗界面上的元素. 例如, 悬浮窗window上一个控件的id为aaa, 那么<code>window.aaa</code>即可获取到该控件, 类似于ui.</p>
<h2>window.setAdjustEnabled(enabled)<span><a class="mark" href="#floaty_window_setadjustenabled_enabled" id="floaty_window_setadjustenabled_enabled">#</a></span></h2>
<div class="signature"><ul>
<li><code>enabled</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 是否启用悬浮窗调整(大小、位置)</li>
</ul>
</div><p>如果enabled为true, 则在悬浮窗左上角、右上角显示可供位置、大小调整的标示, 就像控制台一样；
如果enabled为false, 则隐藏上述标示.</p>
<h2>window.setPosition(x, y)<span><a class="mark" href="#floaty_window_setposition_x_y" id="floaty_window_setposition_x_y">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y</li>
</ul>
</div><p>设置悬浮窗位置.</p>
<h2>window.getX()<span><a class="mark" href="#floaty_window_getx" id="floaty_window_getx">#</a></span></h2>
<p>返回悬浮窗位置的X坐标.</p>
<h2>window.getY()<span><a class="mark" href="#floaty_window_gety" id="floaty_window_gety">#</a></span></h2>
<p>返回悬浮窗位置的Y坐标.</p>
<h2>window.setSize(width, height)<span><a class="mark" href="#floaty_window_setsize_width_height" id="floaty_window_setsize_width_height">#</a></span></h2>
<div class="signature"><ul>
<li><code>width</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 宽度</li>
<li><code>height</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 高度</li>
</ul>
</div><p>设置悬浮窗宽高.</p>
<h2>window.getWidth()<span><a class="mark" href="#floaty_window_getwidth" id="floaty_window_getwidth">#</a></span></h2>
<p>返回悬浮窗宽度.</p>
<h2>window.getHeight()<span><a class="mark" href="#floaty_window_getheight" id="floaty_window_getheight">#</a></span></h2>
<p>返回悬浮窗高度.</p>
<h2>window.close()<span><a class="mark" href="#floaty_window_close" id="floaty_window_close">#</a></span></h2>
<p>关闭悬浮窗. 如果悬浮窗已经是关闭状态, 则此函数将不执行任何操作.</p>
<p>被关闭后的悬浮窗不能再显示.</p>
<h2>window.exitOnClose()<span><a class="mark" href="#floaty_window_exitonclose" id="floaty_window_exitonclose">#</a></span></h2>
<p>使悬浮窗被关闭时自动结束脚本运行.</p>
<h1>FloatyRawWindow<span><a class="mark" href="#floaty_floatyrawwindow" id="floaty_floatyrawwindow">#</a></span></h1>
<p>原始悬浮窗对象, 可通过<code>window.{id}</code>获取悬浮窗界面上的元素. 例如, 悬浮窗window上一个控件的id为aaa, 那么<code>window.aaa</code>即可获取到该控件, 类似于ui.</p>
<h2>window.setTouchable(touchable)<span><a class="mark" href="#floaty_window_settouchable_touchable" id="floaty_window_settouchable_touchable">#</a></span></h2>
<div class="signature"><ul>
<li><code>touchable</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">Boolean</a> } 是否可触摸</li>
</ul>
</div><p>设置悬浮窗是否可触摸, 如果为true, 则悬浮窗将接收到触摸、点击等事件并且无法继续传递到悬浮窗下面；如果为false, 悬浮窗上的触摸、点击等事件将被直接传递到悬浮窗下面. 处于安全考虑, 被悬浮窗接收的触摸事情无法再继续传递到下层.</p>
<p>可以用此特性来制作护眼模式脚本.</p>
<pre><code>var w = floaty.rawWindow(
    &lt;frame gravity=&quot;center&quot; bg=&quot;#44ffcc00&quot;/&gt;
);

w.setSize(-1, -1);
w.setTouchable(false);

setTimeout(()=&gt;{
    w.close();
}, 4000);

</code></pre><h2>window.setPosition(x, y)<span><a class="mark" href="#floaty_window_setposition_x_y_1" id="floaty_window_setposition_x_y_1">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x</li>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y</li>
</ul>
</div><p>设置悬浮窗位置.</p>
<h2>window.getX()<span><a class="mark" href="#floaty_window_getx_1" id="floaty_window_getx_1">#</a></span></h2>
<p>返回悬浮窗位置的X坐标.</p>
<h2>window.getY()<span><a class="mark" href="#floaty_window_gety_1" id="floaty_window_gety_1">#</a></span></h2>
<p>返回悬浮窗位置的Y坐标.</p>
<h2>window.setSize(width, height)<span><a class="mark" href="#floaty_window_setsize_width_height_1" id="floaty_window_setsize_width_height_1">#</a></span></h2>
<div class="signature"><ul>
<li><code>width</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 宽度</li>
<li><code>height</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 高度</li>
</ul>
</div><p>设置悬浮窗宽高.</p>
<p>特别地, 如果设置为-1, 则为占满全屏；设置为-2则为根据悬浮窗内容大小而定. 例如：</p>
<pre><code>var w = floaty.rawWindow(
    &lt;frame gravity=&quot;center&quot; bg=&quot;#77ff0000&quot;&gt;
        &lt;text id=&quot;text&quot;&gt;悬浮文字&lt;/text&gt;
    &lt;/frame&gt;
);

w.setSize(-1, -1);

setTimeout(()=&gt;{
    w.close();
}, 2000);

</code></pre><h2>window.getWidth()<span><a class="mark" href="#floaty_window_getwidth_1" id="floaty_window_getwidth_1">#</a></span></h2>
<p>返回悬浮窗宽度.</p>
<h2>window.getHeight()<span><a class="mark" href="#floaty_window_getheight_1" id="floaty_window_getheight_1">#</a></span></h2>
<p>返回悬浮窗高度.</p>
<h2>window.close()<span><a class="mark" href="#floaty_window_close_1" id="floaty_window_close_1">#</a></span></h2>
<p>关闭悬浮窗. 如果悬浮窗已经是关闭状态, 则此函数将不执行任何操作.</p>
<p>被关闭后的悬浮窗不能再显示.</p>
<h2>window.exitOnClose()<span><a class="mark" href="#floaty_window_exitonclose_1" id="floaty_window_exitonclose_1">#</a></span></h2>
<p>使悬浮窗被关闭时自动结束脚本运行.</p>
<!-- [end-include:floaty.md] -->
<!-- [start-include:canvas.md] -->
<h1>画布 (Canvas)<span><a class="mark" href="#canvas_canvas" id="canvas_canvas">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>canvas提供了使用画布进行2D画图的支持, 可用于简单的小游戏开发或者图片编辑. 使用canvas可以轻松地在一张图片或一个界面上绘制各种线与图形.</p>
<p>canvas的坐标系为平面直角坐标系, 以控件左上角为原点, 控件上边沿为x轴正方向, 控件左边沿为y轴正方向. 例如分辨率为1920*1080的屏幕上, canvas控件覆盖全屏, 画一条从屏幕左上角到屏幕右下角的线段为:</p>
<pre><code>canvas.drawLine(0, 0, 1080, 1920, paint);
</code></pre><p>canvas的绘制依赖于画笔Paint, 通过设置画笔的粗细、颜色、填充等可以改变绘制出来的图形. 例如绘制一个红色实心正方形为：</p>
<pre><code>var paint = new Paint();
//设置画笔为填充, 则绘制出来的图形都是实心的
paint.setStyle(Paint.STYLE.FILL);
//设置画笔颜色为红色
paint.setColor(colors.RED);
//绘制一个从坐标(0, 0)到坐标(100, 100)的正方形
canvas.drawRect(0, 0, 100, 100, paint);
</code></pre><p>如果要绘制正方形的边框, 则通过设置画笔的Style来实现：</p>
<pre><code>var paint = new Paint();
//设置画笔为描边, 则绘制出来的图形都是轮廓
paint.setStyle(Paint.STYLE.STROKE);
//设置画笔颜色为红色
paint.setColor(colors.RED);
//绘制一个从坐标(0, 0)到坐标(100, 100)的正方形
canvas.drawRect(0, 0, 100, 100, paint);
</code></pre><p>结合画笔, canvas可以绘制基本图形、图片等.</p>
<h2>canvas.getWidth()<span><a class="mark" href="#canvas_canvas_getwidth" id="canvas_canvas_getwidth">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回画布当前图层的宽度.</p>
<h2>canvas.getHeight()<span><a class="mark" href="#canvas_canvas_getheight" id="canvas_canvas_getheight">#</a></span></h2>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> }</li>
</ul>
</div><p>返回画布当前图层的高度.</p>
<h2>canvas.drawRGB(r, int g, int b)<span><a class="mark" href="#canvas_canvas_drawrgb_r_int_g_int_b" id="canvas_canvas_drawrgb_r_int_g_int_b">#</a></span></h2>
<div class="signature"><ul>
<li><code>r</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 红色通道值</li>
<li><code>g</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绿色通道值</li>
<li><code>b</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 蓝色通道值</li>
</ul>
</div><p>将整个可绘制区域填充为r、g、b指定的颜色. 相当于 <code>canvas.drawColor(colors.rgb(r, g, b))</code>.</p>
<h2>canvas.drawARGB(a, r, g, b)<span><a class="mark" href="#canvas_canvas_drawargb_a_r_g_b" id="canvas_canvas_drawargb_a_r_g_b">#</a></span></h2>
<div class="signature"><ul>
<li><code>a</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 透明通道值</li>
<li><code>r</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 红色通道值</li>
<li><code>g</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 绿色通道值</li>
<li><code>b</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 蓝色通道值</li>
</ul>
</div><p>将整个可绘制区域填充为a、r、g、b指定的颜色. 相当于 <code>canvas.drawColor(colors.argb(a, r, g, b))</code>.</p>
<h2>canvas.drawColor(color)<span><a class="mark" href="#canvas_canvas_drawcolor_color" id="canvas_canvas_drawcolor_color">#</a></span></h2>
<div class="signature"><ul>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色值</li>
</ul>
</div><p>将整个可绘制区域填充为color指定的颜色.</p>
<h2>canvas.drawColor(color, mode)<span><a class="mark" href="#canvas_canvas_drawcolor_color_mode" id="canvas_canvas_drawcolor_color_mode">#</a></span></h2>
<div class="signature"><ul>
<li><code>color</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色值</li>
<li><code>mode</code> { <span class="type">PorterDuff.Mode</span> } Porter-Duff操作</li>
</ul>
</div><p>将整个可绘制区域填充为color指定的颜色.</p>
<h2>canvas.drawPaint(paint)<span><a class="mark" href="#canvas_canvas_drawpaint_paint" id="canvas_canvas_drawpaint_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>将整个可绘制区域用paint指定的画笔填充. 相当于绘制一个无限大的矩形, 但是更快.
通过该方法可以绘制一个指定的着色器的图案.</p>
<h2>canvas.drawPoint(x, y, paint)<span><a class="mark" href="#canvas_canvas_drawpoint_x_y_paint" id="canvas_canvas_drawpoint_x_y_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>x</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } x坐标</li>
<li><code>y</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } y坐标</li>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>在可绘制区域绘制由坐标(x, y)指定的点.
点的形状由画笔的线帽决定（参见paint.setStrokeCap(cap)）.
点的大小由画笔的宽度决定（参见paint.setStrokeWidth(width)）.</p>
<blockquote>
<p>如果画笔宽度为0, 则也会绘制1个像素至4个（若抗锯齿启用）.</p>
</blockquote>
<p>相当于 <code>canvas.drawPoints([x, y], paint)</code>.</p>
<h2>canvas.drawPoints(pts, paint)<span><a class="mark" href="#canvas_canvas_drawpoints_pts_paint" id="canvas_canvas_drawpoints_pts_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>pts</code> { <span class="type">Array<number></span> } 点坐标数组 [x0, y0, x1, y1, x2, y2, ...]</li>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>在可绘制区域绘制由坐标数组指定的多个点.</p>
<h2>canvas.drawLine(startX, startY, stopX, stopY, paint)<span><a class="mark" href="#canvas_canvas_drawline_startx_starty_stopx_stopy_paint" id="canvas_canvas_drawline_startx_starty_stopx_stopy_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>startX</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 起点x坐标</li>
<li><code>startY</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 起点y坐标</li>
<li><code>endX</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 终点x坐标</li>
<li><code>endY</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 终点y坐标</li>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>在可绘制区域绘制由起点坐标(startX, startY)和终点坐标(endX, endY)指定的线.
绘制时会忽略画笔的样式(Style). 也就是说, 即使样式设为“仅填充(FILL)”也会绘制.
退化为点的线（长度为0）不会被绘制.</p>
<h2>canvas.drawRect(r, paint)<span><a class="mark" href="#canvas_canvas_drawrect_r_paint" id="canvas_canvas_drawrect_r_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>r</code> { <span class="type">Rect</span> } 矩形边界</li>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>在可绘制区域绘制由矩形边界r指定的矩形.
绘制时画笔的样式(Style)决定了是否绘制矩形界线和填充矩形.</p>
<h2>canvas.drawRect(left, top, right, bottom, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawrect_left_top_right_bottom_android_graphics_paint_paint" id="canvas_canvas_drawrect_left_top_right_bottom_android_graphics_paint_paint">#</a></span></h2>
<div class="signature"><ul>
<li><code>left</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 矩形左边界x坐标</li>
<li><code>top</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 矩形上边界y坐标</li>
<li><code>right</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 矩形右边界x坐标</li>
<li><code>bottom</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 矩形下边界y坐标</li>
<li><code>paint</code> { <span class="type">Paint</span> } 画笔</li>
</ul>
</div><p>在可绘制区域绘制由矩形边界(left, top, right, bottom)指定的矩形.
绘制时画笔的样式(Style)决定了是否绘制矩形界线和填充矩形.</p>
<h2>canvas.drawOval(android.graphics.RectF oval, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawoval_android_graphics_rectf_oval_android_graphics_paint_paint" id="canvas_canvas_drawoval_android_graphics_rectf_oval_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawOval(float left, float top, float right, float bottom, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawoval_float_left_float_top_float_right_float_bottom_android_graphics_paint_paint" id="canvas_canvas_drawoval_float_left_float_top_float_right_float_bottom_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawCircle(float cx, float cy, float radius, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawcircle_float_cx_float_cy_float_radius_android_graphics_paint_paint" id="canvas_canvas_drawcircle_float_cx_float_cy_float_radius_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawArc(android.graphics.RectF oval, float startAngle, float sweepAngle, boolean useCenter, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawarc_android_graphics_rectf_oval_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint" id="canvas_canvas_drawarc_android_graphics_rectf_oval_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawArc(float left, float top, float right, float bottom, float startAngle, float sweepAngle, boolean useCenter, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawarc_float_left_float_top_float_right_float_bottom_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint" id="canvas_canvas_drawarc_float_left_float_top_float_right_float_bottom_float_startangle_float_sweepangle_boolean_usecenter_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawRoundRect(android.graphics.RectF rect, float rx, float ry, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawroundrect_android_graphics_rectf_rect_float_rx_float_ry_android_graphics_paint_paint" id="canvas_canvas_drawroundrect_android_graphics_rectf_rect_float_rx_float_ry_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawRoundRect(float left, float top, float right, float bottom, float rx, float ry, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawroundrect_float_left_float_top_float_right_float_bottom_float_rx_float_ry_android_graphics_paint_paint" id="canvas_canvas_drawroundrect_float_left_float_top_float_right_float_bottom_float_rx_float_ry_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawPath(android.graphics.Path path, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawpath_android_graphics_path_path_android_graphics_paint_paint" id="canvas_canvas_drawpath_android_graphics_path_path_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawBitmap(android.graphics.Bitmap bitmap, float left, float top, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawbitmap_android_graphics_bitmap_bitmap_float_left_float_top_android_graphics_paint_paint" id="canvas_canvas_drawbitmap_android_graphics_bitmap_bitmap_float_left_float_top_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawText(java.lang.String text, float x, float y, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawtext_java_lang_string_text_float_x_float_y_android_graphics_paint_paint" id="canvas_canvas_drawtext_java_lang_string_text_float_x_float_y_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.drawTextOnPath(java.lang.String text, android.graphics.Path path, float hOffset, float vOffset, android.graphics.Paint paint)<span><a class="mark" href="#canvas_canvas_drawtextonpath_java_lang_string_text_android_graphics_path_path_float_hoffset_float_voffset_android_graphics_paint_paint" id="canvas_canvas_drawtextonpath_java_lang_string_text_android_graphics_path_path_float_hoffset_float_voffset_android_graphics_paint_paint">#</a></span></h2>
<h2>canvas.translate(dx, dy)<span><a class="mark" href="#canvas_canvas_translate_dx_dy" id="canvas_canvas_translate_dx_dy">#</a></span></h2>
<div class="signature"><ul>
<li><code>dx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 向x轴正方向平移的距离, 负数表示反方向平移</li>
<li><code>dy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 向y轴正方向平移的距离, 负数表示反方向平移</li>
</ul>
</div><p>平移指定距离.</p>
<h2>canvas.scale(sx, sy)<span><a class="mark" href="#canvas_canvas_scale_sx_sy" id="canvas_canvas_scale_sx_sy">#</a></span></h2>
<div class="signature"><ul>
<li><code>sx</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 向x轴正方向平移的距离, 负数表示反方向平移</li>
<li><code>sy</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 向y轴正方向平移的距离, 负数表示反方向平移</li>
</ul>
</div><p>以原点为中心, 将坐标系平移缩放指定倍数.</p>
<h2>canvas.scale(float sx, float sy, float px, float py)<span><a class="mark" href="#canvas_canvas_scale_float_sx_float_sy_float_px_float_py" id="canvas_canvas_scale_float_sx_float_sy_float_px_float_py">#</a></span></h2>
<h2>canvas.rotate(float degrees)<span><a class="mark" href="#canvas_canvas_rotate_float_degrees" id="canvas_canvas_rotate_float_degrees">#</a></span></h2>
<h2>canvas.rotate(float degrees, float px, float py)<span><a class="mark" href="#canvas_canvas_rotate_float_degrees_float_px_float_py" id="canvas_canvas_rotate_float_degrees_float_px_float_py">#</a></span></h2>
<h2>canvas.skew(float sx, float sy)<span><a class="mark" href="#canvas_canvas_skew_float_sx_float_sy" id="canvas_canvas_skew_float_sx_float_sy">#</a></span></h2>
<h1>画笔<span><a class="mark" href="#canvas" id="canvas">#</a></span></h1>
<h1>变换矩阵<span><a class="mark" href="#canvas_1" id="canvas_1">#</a></span></h1>
<h1>路径<span><a class="mark" href="#canvas_2" id="canvas_2">#</a></span></h1>
<h1>Porter-Duff操作<span><a class="mark" href="#canvas_porter_duff" id="canvas_porter_duff">#</a></span></h1>
<h1>着色器<span><a class="mark" href="#canvas_3" id="canvas_3">#</a></span></h1>
<h1>遮罩过滤器<span><a class="mark" href="#canvas_4" id="canvas_4">#</a></span></h1>
<h1>颜色过滤器<span><a class="mark" href="#canvas_5" id="canvas_5">#</a></span></h1>
<h1>路径特效<span><a class="mark" href="#canvas_6" id="canvas_6">#</a></span></h1>
<h1>区域<span><a class="mark" href="#canvas_7" id="canvas_7">#</a></span></h1>
<!-- [end-include:canvas.md] -->
<!-- [start-include:ui.md] -->
<h1>用户界面 (UI)<span><a class="mark" href="#ui_ui" id="ui_ui">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<p>ui模块提供了编写用户界面的支持.</p>
<pre><code>给Android开发者或者高阶用户的提醒, Auto.js的UI系统来自于Android, 所有属性和方法都能在Android源码中找到. 如果某些代码或属性没有出现在Auto.js的文档中, 可以参考Android的文档.
View: https://developer.android.google.cn/reference/android/view/View?hl=cn
Widget: https://developer.android.google.cn/reference/android/widget/package-summary?hl=cn
</code></pre><p>带有ui的脚本的的最前面必须使用<code>&quot;ui&quot;;</code>指定ui模式, 否则脚本将不会以ui模式运行. 正确示范:s</p>
<pre><code>&quot;ui&quot;;

//脚本的其他代码
</code></pre><p>字符串&quot;ui&quot;的前面可以有注释、空行和空格<strong>[v4.1.0新增]</strong>, 但是不能有其他代码.</p>
<p>界面是由视图(View)组成的. View分成两种, 控件(Widget)和布局(Layout). 控件(Widget)用来具体显示文字、图片、网页等, 比如文本控件(text)用来显示文字, 按钮控件(button)则可以显示一个按钮并提供点击效果, 图片控件(img)则用来显示来自网络或者文件的图片, 除此之外还有输入框控件(input)、进度条控件(progressbar)、单选复选框控件(checkbox)等；布局(Layout)则是装着一个或多个控件的&quot;容器&quot;, 用于控制在他里面的控件的位置, 比如垂直布局(vertical)会把他里面的控件从上往下依次显示(即纵向排列), 水平布局(horizontal)则会把他里面的控件从左往右依次显示(即横向排列), 以及帧布局(frame), 他会把他里面的控件直接在左上角显示, 如果有多个控件, 后面的控件会重叠在前面的控件上.</p>
<p>我们使用xml来编写界面, 并通过<code>ui.layout()</code>函数指定界面的布局xml. 举个例子：</p>
<pre><code>&quot;ui&quot;;
$ui.layout(
    &lt;vertical&gt;
        &lt;button text=&quot;第一个按钮&quot;/&gt;
        &lt;button text=&quot;第二个按钮&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个例子中, 第3~6行的部分就是xml, 指定了界面的具体内容. 代码的第3行的标签<code>&lt;vertical&gt; ... &lt;/vertical&gt;</code>表示垂直布局, 布局的标签通常以<code>&lt;...&gt;</code>开始, 以<code>&lt;/...&gt;</code>结束, 两个标签之间的内容就是布局里面的内容, 例如<code>&lt;frame&gt; ... &lt;/frame&gt;</code>. 在这个例子中第4, 5行的内容就是垂直布局(vertical)里面的内容. 代码的第4行是一个按钮控件(button), 控件的标签通常以<code>&lt;...</code>开始, 以<code>/&gt;</code>结束, 他们之间是控件的具体属性, 例如<code>&lt;text ... /&gt;</code>. 在这个例子中<code>text=&quot;第一个按钮&quot;</code>的部分就是按钮控件(button)的属性, 这个属性指定了这个按钮控件的文本内容(text)为&quot;第一个按钮&quot;.</p>
<p>代码的第5行和第4行一样, 也是一个按钮控件, 只不过他的文本内容为&quot;第二个按钮&quot;. 这两个控件在垂直布局中, 因此会纵向排列, 效果如图：</p>
<p><img src="images/ex1.png" alt="ex1"></p>
<p>如果我们把这个例子的垂直布局(vertical)改成水平布局(horizontal), 也即：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;horizontal&gt;
        &lt;button text=&quot;第一个按钮&quot;/&gt;
        &lt;button text=&quot;第二个按钮&quot;/&gt;
    &lt;/horizontal&gt;
);
</code></pre><p>则这两个按钮会横向排列, 效果如图：</p>
<p><img src="images/ex1-horizontal.png" alt="ex1-horizontal"></p>
<p>一个控件可以指定多个属性(甚至可以不指定任何属性), 用空格隔开即可；布局同样也可以指定属性, 例如:</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical bg=&quot;#ff0000&quot;&gt;
        &lt;button text=&quot;第一个按钮&quot; textSize=&quot;20sp&quot;/&gt;
        &lt;button text=&quot;第二个按钮&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>第三行<code>bg=&quot;#ff0000&quot;</code>指定了垂直布局的背景色(bg)为&quot;#ff0000&quot;, 这是一个RGB颜色, 表示红色(有关RGB的相关知识参见<a href="http://tool.oschina.net/commons?type=3">RGB颜色对照表</a>). 第四行的<code>textSize=&quot;20sp&quot;</code>则指定了按钮控件的字体大小(textSize)为&quot;20sp&quot;, sp是一个字体单位, 暂时不用深入理会. 上述代码的效果如图：</p>
<p><img src="images/ex1-properties.png" alt="ex-properties"></p>
<p>一个界面便由一些布局和控件组成. 为了便于文档阅读, 我们再说明一下以下术语：</p>
<ul>
<li>子视图, 子控件: 布局里面的控件是这个布局的子控件/子视图. 实际上布局里面不仅仅只能有控件, 还可以是嵌套的布局. 因此用子视图(Child View)更准确一些. 在上面的例子中, 按钮便是垂直布局的子控件.</li>
<li>父视图, 父布局：直接包含一个控件的布局是这个控件的父布局/父视图(Parent View). 在上面的例子中, 垂直布局便是按钮的父布局.</li>
</ul>
<h1>视图: View<span><a class="mark" href="#ui_view" id="ui_view">#</a></span></h1>
<p>控件和布局都属于视图(View). 在这个章节中将介绍所有控件和布局的共有的属性和函数. 例如属性背景, 宽高等(所有控件和布局都能设置背景和宽高), 函数<code>click()</code>设置视图(View)被点击时执行的动作.</p>
<h2>attr(name, value)<span><a class="mark" href="#ui_attr_name_value" id="ui_attr_name_value">#</a></span></h2>
<div class="signature"><ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 属性名称</li>
<li><code>value</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 属性的值</li>
</ul>
</div><p>设置属性的值. 属性指定是View在xml中的属性. 例如可以通过语句<code>attr(&quot;text&quot;, &quot;文本&quot;)</code>来设置文本控件的文本值.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;

$ui.layout(
    &lt;frame&gt;
        &lt;text id=&quot;example&quot; text=&quot;Hello&quot;/&gt;
    &lt;/frame&gt;
);

// 5秒后执行
$ui.post(() =&gt; {
    // 修改文本
    $ui.example.attr(&quot;text&quot;, &quot;Hello, Auto.js UI&quot;);
    // 修改背景
    $ui.example.attr(&quot;bg&quot;, &quot;#ff00ff&quot;);
    // 修改高度
    $ui.example.attr(&quot;h&quot;, &quot;500dp&quot;);
}, 5000);
</code></pre>
<p><strong>注意：</strong>并不是所有属性都能在js代码设置, 有一些属性只能在布局创建时设置, 例如style属性；还有一些属性虽然能在代码中设置, 但是还没支持；对于这些情况, 在Auto.js Pro 8.1.0+会抛出异常, 其他版本则不会抛出异常.</p>
<h2>attr(name)<span><a class="mark" href="#ui_attr_name" id="ui_attr_name">#</a></span></h2>
<div class="signature"><ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 属性名称</li>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> }</li>
</ul>
</div><p>获取属性的值.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;

$ui.layout(
    &lt;frame&gt;
        &lt;text id=&quot;example&quot; text=&quot;1&quot;/&gt;
    &lt;/frame&gt;
);

plusOne();

function plusOne() {
    // 获取文本
    let text = $ui.example.attr(&quot;text&quot;);
    // 解析为数字
    let num = parseInt(text);
    // 数字加1
    num++;
    // 设置文本
    $ui.example.attr(&quot;text&quot;, String(num));
    // 1秒后继续
    $ui.post(plusOne, 1000);
}

</code></pre>
<h2>w<span><a class="mark" href="#ui_w" id="ui_w">#</a></span></h2>
<p>View的宽度, 是属性<code>width</code>的缩写形式. 可以设置的值为<code>*</code>, <code>auto</code>和具体数值. 其中<code>*</code>表示宽度<strong>尽量</strong>填满父布局, 而<code>auto</code>表示宽度将根据View的内容自动调整(自适应宽度). 例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;horizontal&gt;
        &lt;button w=&quot;auto&quot; text=&quot;自适应宽度&quot;/&gt;
        &lt;button w=&quot;*&quot; text=&quot;填满父布局&quot;/&gt;
    &lt;/horizontal&gt;
);
</code></pre><p>在这个例子中, 第一个按钮为自适应宽度, 第二个按钮为填满父布局, 显示效果为：</p>
<p><img src="images/ex-w.png" alt="ex-w"></p>
<p>如果不设置该属性, 则不同的控件和布局有不同的默认宽度, 大多数为<code>auto</code>.</p>
<p>宽度属性也可以指定一个具体数值. 例如<code>w=&quot;20&quot;</code>, <code>w=&quot;20px&quot;</code>等. 不加单位的情况下默认单位为dp, 其他单位包括px(像素), mm(毫米), in(英寸). 有关尺寸单位的更多内容, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;horizontal&gt;
        &lt;button w=&quot;200&quot; text=&quot;宽度200dp&quot;/&gt;
        &lt;button w=&quot;100&quot; text=&quot;宽度100dp&quot;/&gt;
    &lt;/horizontal&gt;
);
</code></pre><h2>h<span><a class="mark" href="#ui_h" id="ui_h">#</a></span></h2>
<p>View的高度, 是属性<code>height</code>的缩写形式. 可以设置的值为<code>*</code>, <code>auto</code>和具体数值. 其中<code>*</code>表示宽度<strong>尽量</strong>填满父布局, 而<code>auto</code>表示宽度将根据View的内容自动调整(自适应宽度).</p>
<p>如果不设置该属性, 则不同的控件和布局有不同的默认高度, 大多数为<code>auto</code>.</p>
<p>宽度属性也可以指定一个具体数值. 例如<code>h=&quot;20&quot;</code>, <code>h=&quot;20px&quot;</code>等. 不加单位的情况下默认单位为dp, 其他单位包括px(像素), mm(毫米), in(英寸). 有关尺寸单位的更多内容, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>id<span><a class="mark" href="#ui_id" id="ui_id">#</a></span></h2>
<p>View的id, 用来区分一个界面下的不同控件和布局, 一个界面的id在同一个界面下通常是唯一的, 也就是一般不存在两个View有相同的id. id属性也是连接xml布局和JavaScript代码的桥梁, 在代码中可以通过一个View的id来获取到这个View, 并对他进行操作(设置点击动作、设置属性、获取属性等). 例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame&gt;
        &lt;button id=&quot;ok&quot; text=&quot;确定&quot;/&gt;
    &lt;/frame&gt;
);
//通过ui.ok获取到按钮控件
toast(ui.ok.getText());
</code></pre><p>这个例子中有一个按钮控件&quot;确定&quot;, id属性为&quot;ok&quot;, 那么我们可以在代码中使用<code>ui.ok</code>来获取他, 再通过<code>getText()</code>函数获取到这个按钮控件的文本内容.
另外这个例子中使用帧布局(frame)是因为, 我们只有一个控件, 因此用于最简单的布局帧布局.</p>
<h2>gravity<span><a class="mark" href="#ui_gravity" id="ui_gravity">#</a></span></h2>
<p>View的&quot;重力&quot;. 用于决定View的内容相对于View的位置, 可以设置的值为:</p>
<ul>
<li><code>left</code> 靠左</li>
<li><code>right</code> 靠右</li>
<li><code>top</code> 靠顶部</li>
<li><code>bottom</code> 靠底部</li>
<li><code>center</code> 居中</li>
<li><code>center_vertical</code> 垂直居中</li>
<li><code>center_horizontal</code> 水平居中</li>
</ul>
<p>例如对于一个按钮控件, <code>gravity=&quot;right&quot;</code>会使其中的文本内容靠右显示. 例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame&gt;
        &lt;button gravity=&quot;right&quot; w=&quot;*&quot; h=&quot;auto&quot; text=&quot;靠右的文字&quot;/&gt;
    &lt;/frame&gt;
);
</code></pre><p>显示效果为:</p>
<p><img src="images/ex-gravity.png" alt="ex-gravity"></p>
<p>这些属性是可以组合的, 例如<code>gravity=&quot;right|bottom&quot;</code>的View他的内容会在右下角.</p>
<h2>layout_gravity<span><a class="mark" href="#ui_layout_gravity" id="ui_layout_gravity">#</a></span></h2>
<p>View在布局中的&quot;重力&quot;, 用于决定View本身在他的<strong>父布局</strong>的位置, 可以设置的值和gravity属性相同. 注意把这个属性和gravity属性区分开来.</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame w=&quot;*&quot; h=&quot;*&quot;&gt;
        &lt;button layout_gravity=&quot;center&quot; w=&quot;auto&quot; h=&quot;auto&quot; text=&quot;居中的按钮&quot;/&gt;
        &lt;button layout_gravity=&quot;right|bottom&quot; w=&quot;auto&quot; h=&quot;auto&quot; text=&quot;右下角的按钮&quot;/&gt;
    &lt;/frame&gt;
);
</code></pre><p>在这个例子中, 我们让帧布局(frame)的大小占满整个屏幕, 通过给第一个按钮设置属性<code>layout_gravity=&quot;center&quot;</code>来使得按钮在帧布局中居中, 通过给第二个按钮设置属性<code>layout_gravity=&quot;right|bottom&quot;</code>使得他在帧布局中位于右下角. 效果如图：</p>
<p><img src="images/ex-layout-gravity.png" alt="ex-layout-gravity"></p>
<p>要注意的是, layout_gravity的属性不一定总是生效的, 具体取决于布局的类别. 例如不能让水平布局中的第一个子控件靠底部显示(否则和水平布局本身相违背).</p>
<h2>margin<span><a class="mark" href="#ui_margin" id="ui_margin">#</a></span></h2>
<p>margin为View和其他View的间距, 即外边距. margin属性包括四个值:</p>
<ul>
<li><code>marginLeft</code> 左外边距</li>
<li><code>marginRight</code> 右外边距</li>
<li><code>marginTop</code> 上外边距</li>
<li><code>marginBottom</code> 下外边距</li>
</ul>
<p>而margin属性本身的值可以有三种格式:</p>
<ul>
<li><code>margin=&quot;marginAll&quot;</code> 指定各个外边距都是该值. 例如<code>margin=&quot;10&quot;</code>表示左右上下边距都是10dp.</li>
<li><code>margin=&quot;marginLeft marginTop marginRight marginBottom&quot;</code> 分别指定各个外边距. 例如<code>margin=&quot;10 20 30 40&quot;</code>表示左边距为10dp, 上边距为20dp, 右边距为30dp, 下边距为40dp</li>
<li><code>margin=&quot;marginHorizontal marginVertical&quot;</code> 指定水平外边距和垂直外边距. 例如<code>margin=&quot;10 20&quot;</code>表示左右边距为10dp, 上下边距为20dp.</li>
</ul>
<p>用一个例子来具体理解外边距的含义：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;horizontal&gt;
        &lt;button margin=&quot;30&quot; text=&quot;距离四周30&quot;/&gt;
        &lt;button text=&quot;普通的按钮&quot;/&gt;
    &lt;/horizontal&gt;
);
</code></pre><p>第一个按钮的margin属性指定了他的边距为30dp, 也就是他与水平布局以及第二个按钮的间距都是30dp, 其显示效果如图:</p>
<p><img src="images/ex1-margin.png" alt="ex1-margin"></p>
<p>如果把<code>margin=&quot;30&quot;</code>改成<code>margin=&quot;10 40&quot;</code>那么第一个按钮的左右间距为10dp, 上下间距为40dp, 效果如图:</p>
<p><img src="images/ex2-margin.png" alt="ex2-margin"></p>
<p>有关margin属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>marginLeft<span><a class="mark" href="#ui_marginleft" id="ui_marginleft">#</a></span></h2>
<p>View的左外边距. 如果该属性和margin属性指定的值冲突, 则在后面的属性生效, 前面的属性无效, 例如<code>margin=&quot;20&quot; marginLeft=&quot;10&quot;</code>的左外边距为10dp, 其他外边距为20dp.</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;horizontal&gt;
        &lt;button marginLeft=&quot;50&quot; text=&quot;距离左边50&quot;/&gt;
        &lt;button text=&quot;普通的按钮&quot;/&gt;
    &lt;/horizontal&gt;
);
</code></pre><p>第一个按钮指定了左外边距为50dp, 则他和他的父布局水平布局(horizontal)的左边的间距为50dp, 效果如图：</p>
<p><img src="images/ex-marginLeft.png" alt="ex-marginLeft"></p>
<h2>marginRight<span><a class="mark" href="#ui_marginright" id="ui_marginright">#</a></span></h2>
<p>View的右外边距. 如果该属性和margin属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>marginTop<span><a class="mark" href="#ui_margintop" id="ui_margintop">#</a></span></h2>
<p>View的上外边距. 如果该属性和margin属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>marginBottom<span><a class="mark" href="#ui_marginbottom" id="ui_marginbottom">#</a></span></h2>
<p>View的下外边距. 如果该属性和margin属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>padding<span><a class="mark" href="#ui_padding" id="ui_padding">#</a></span></h2>
<p>View和他的自身内容的间距, 也就是内边距. 注意和margin属性区分开来, margin属性是View之间的间距, 而padding是View和他自身内容的间距. 举个例子, 一个文本控件的padding也即文本控件的边缘和他的文本内容的间距, paddingLeft即文本控件的左边和他的文本内容的间距.</p>
<p>paddding属性的值同样有三种格式：</p>
<ul>
<li><code>padding=&quot;paddingAll&quot;</code> 指定各个内边距都是该值. 例如<code>padding=&quot;10&quot;</code>表示左右上下内边距都是10dp.</li>
<li><code>padding=&quot;paddingLeft paddingTop paddingRight paddingBottom&quot;</code> 分别指定各个内边距. 例如<code>padding=&quot;10 20 30 40&quot;</code>表示左内边距为10dp, 上内边距为20dp, 右内边距为30dp, 下内边距为40dp</li>
<li><code>padding=&quot;paddingHorizontal paddingVertical&quot;</code> 指定水平内边距和垂直内边距. 例如<code>padding=&quot;10 20&quot;</code>表示左右内边距为10dp, 上下内边距为20dp.</li>
</ul>
<p>用一个例子来具体理解内边距的含义：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame w=&quot;*&quot; h=&quot;*&quot; gravity=&quot;center&quot;&gt;
        &lt;text padding=&quot;10 20 30 40&quot; bg=&quot;#ff0000&quot; w=&quot;auto&quot; h=&quot;auto&quot; text=&quot;HelloWorld&quot;/&gt;
    &lt;/frame&gt;
);
</code></pre><p>这个例子是一个居中的按钮(通过父布局的<code>gravity=&quot;center&quot;</code>属性设置), 背景色为红色(<code>bg=&quot;#ff0000&quot;</code>), 文本内容为&quot;HelloWorld&quot;, 左边距为10dp, 上边距为20dp, 下边距为30dp, 右边距为40dp, 其显示效果如图：</p>
<p><img src="images/ex-padding.png" alt="ex-padding"></p>
<h2>paddingLeft<span><a class="mark" href="#ui_paddingleft" id="ui_paddingleft">#</a></span></h2>
<p>View的左内边距. 如果该属性和padding属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>paddingRight<span><a class="mark" href="#ui_paddingright" id="ui_paddingright">#</a></span></h2>
<p>View的右内边距. 如果该属性和padding属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>paddingTop<span><a class="mark" href="#ui_paddingtop" id="ui_paddingtop">#</a></span></h2>
<p>View的上内边距. 如果该属性和padding属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>paddingBottom<span><a class="mark" href="#ui_paddingbottom" id="ui_paddingbottom">#</a></span></h2>
<p>View的下内边距. 如果该属性和padding属性指定的值冲突, 则在后面的属性生效, 前面的属性无效.</p>
<h2>bg<span><a class="mark" href="#ui_bg" id="ui_bg">#</a></span></h2>
<p>View的背景. 其值可以是一个链接或路径指向的图片, 或者RGB格式的颜色, 或者其他背景. 具体参见<a href="#all_draw">Drawables</a>.</p>
<p>例如, <code>bg=&quot;#00ff00&quot;</code>设置背景为绿色, <code>bg=&quot;file:///sdcard/1.png&quot;</code>设置背景为图片&quot;1.png&quot;, <code>bg=&quot;?attr/selectableItemBackground&quot;</code>设置背景为点击时出现的波纹效果(可能需要同时设置<code>clickable=&quot;true&quot;</code>才生效).</p>
<h2>alpha<span><a class="mark" href="#ui_alpha" id="ui_alpha">#</a></span></h2>
<p>View的透明度, 其值是一个0~1之间的小数, 0表示完全透明, 1表示完全不透明. 例如<code>alpha=&quot;0.5&quot;</code>表示半透明.</p>
<h2>foreground<span><a class="mark" href="#ui_foreground" id="ui_foreground">#</a></span></h2>
<p>View的前景. 前景即在一个View的内容上显示的内容, 可能会覆盖掉View本身的内容. 其值和属性bg的值类似.</p>
<h2>minHeight<span><a class="mark" href="#ui_minheight" id="ui_minheight">#</a></span></h2>
<p>View的最小高度. 该值不总是生效的, 取决于其父布局是否有足够的空间容纳.</p>
<p>例：<code>&lt;text height=&quot;auto&quot; minHeight=&quot;50&quot;/&gt;</code></p>
<p>有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>minWidth<span><a class="mark" href="#ui_minwidth" id="ui_minwidth">#</a></span></h2>
<p>View的最小宽度. 该值不总是生效的, 取决于其父布局是否有足够的空间容纳.</p>
<p>例：<code>&lt;input width=&quot;auto&quot; minWidth=&quot;50&quot;/&gt;</code></p>
<p>有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>visibility<span><a class="mark" href="#ui_visibility" id="ui_visibility">#</a></span></h2>
<p>View的可见性, 该属性可以决定View是否显示出来. 其值可以为：</p>
<ul>
<li><code>gone</code> 不可见.</li>
<li><code>visible</code> 可见. 默认情况下View都是可见的.</li>
<li><code>invisible</code> 不可见, 但仍然占用位置.</li>
</ul>
<h2>rotation<span><a class="mark" href="#ui_rotation" id="ui_rotation">#</a></span></h2>
<p>View的旋转角度. 通过该属性可以让这个View顺时针旋转一定的角度. 例如<code>rotation=&quot;90&quot;</code>可以让他顺时针旋转90度.</p>
<p>如果要设置旋转中心, 可以通过<code>transformPivotX</code>, <code>transformPivotY</code>属性设置. 默认的旋转中心为View的中心.</p>
<h2>transformPivotX<span><a class="mark" href="#ui_transformpivotx" id="ui_transformpivotx">#</a></span></h2>
<p>View的变换中心坐标x. 用于View的旋转、放缩等变换的中心坐标. 例如<code>transformPivotX=&quot;10&quot;</code>.</p>
<p>该坐标的坐标系以View的左上角为原点. 也就是x值为变换中心到View的左边的距离.</p>
<p>有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>transformPivotY<span><a class="mark" href="#ui_transformpivoty" id="ui_transformpivoty">#</a></span></h2>
<p>View的变换中心坐标y. 用于View的旋转、放缩等变换的中心坐标. 例如<code>transformPivotY=&quot;10&quot;</code>.</p>
<p>该坐标的坐标系以View的左上角为原点. 也就是y值为变换中心到View的上边的距离.</p>
<p>有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>style<span><a class="mark" href="#ui_style" id="ui_style">#</a></span></h2>
<p>设置View的样式. 不同控件有不同的可选的内置样式. 具体参见各个控件的说明.</p>
<p>需要注意的是, style属性只支持安卓5.1及其以上.</p>
<h1>文本控件: text<span><a class="mark" href="#ui_text" id="ui_text">#</a></span></h1>
<p>文本控件用于显示文本, 可以控制文本的字体大小, 字体颜色, 字体等.</p>
<p>以下介绍该控件的主要属性和方法, 如果要查看他的所有属性和方法, 请阅读<a href="http://www.zhdoc.net/android/reference/android/widget/TextView.html">TextView</a>.</p>
<h2>text<span><a class="mark" href="#ui_text_1" id="ui_text_1">#</a></span></h2>
<p>设置文本的内容. 例如<code>text=&quot;一段文本&quot;</code>.</p>
<h2>textColor<span><a class="mark" href="#ui_textcolor" id="ui_textcolor">#</a></span></h2>
<p>设置字体的颜色, 可以是RGB格式的颜色(例如#ff00ff), 或者颜色名称(例如red, green等), 具体参见<a href="#all_ui_颜色">颜色</a>.</p>
<p>示例, 红色字体：<code>&lt;text text=&quot;红色字体&quot; textColor=&quot;red&quot;/&gt;</code></p>
<h2>textSize<span><a class="mark" href="#ui_textsize" id="ui_textsize">#</a></span></h2>
<p>设置字体的大小, 单位一般是sp. 按照Material Design的规范, 正文字体大小为14sp, 标题字体大小为18sp, 次标题为16sp.</p>
<p>示例, 超大字体: <code>&lt;text text=&quot;超大字体&quot; textSize=&quot;40sp&quot;/&gt;</code></p>
<h2>textStyle<span><a class="mark" href="#ui_textstyle" id="ui_textstyle">#</a></span></h2>
<p>设置字体的样式, 比如斜体、粗体等. 可选的值为：</p>
<ul>
<li>bold 加粗字体</li>
<li>italic 斜体</li>
<li>normal 正常字体</li>
</ul>
<p>可以用或(&quot;|&quot;)把他们组合起来, 比如粗斜体为&quot;bold|italic&quot;.</p>
<p>例如, 粗体：`<text textStyle="bold" textSize="18sp" text="这是粗体"/></p>
<h2>lines<span><a class="mark" href="#ui_lines" id="ui_lines">#</a></span></h2>
<p>设置文本控件的行数. 即使文本内容没有达到设置的行数, 控件也会留出相应的宽度来显示空白行；如果文本内容超出了设置的行数, 则超出的部分不会显示.</p>
<p>另外在xml中是不能设置多行文本的, 要在代码中设置. 例如:</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical&gt;
        &lt;text id=&quot;myText&quot; line=&quot;3&quot;&gt;
    &lt;/vertical&gt;
)
//通过\n换行
ui.myText.setText(&quot;第一行\n第二行\n第三行\n第四行&quot;);
</code></pre><h2>maxLines<span><a class="mark" href="#ui_maxlines" id="ui_maxlines">#</a></span></h2>
<p>设置文本控件的最大行数.</p>
<h2>typeface<span><a class="mark" href="#ui_typeface" id="ui_typeface">#</a></span></h2>
<p>设置字体. 可选的值为：</p>
<ul>
<li><code>normal</code> 正常字体</li>
<li><code>sans</code> 衬线字体</li>
<li><code>serif</code> 非衬线字体</li>
<li><code>monospace</code> 等宽字体</li>
</ul>
<p>示例, 等宽字体: <code>&lt;text text=&quot;等宽字体&quot; typeface=&quot;monospace&quot;/&gt;</code></p>
<h2>ellipsize<span><a class="mark" href="#ui_ellipsize" id="ui_ellipsize">#</a></span></h2>
<p>设置文本的省略号位置. 文本的省略号会在文本内容超出文本控件时显示. 可选的值为：</p>
<ul>
<li><code>end</code>   在文本末尾显示省略号</li>
<li><code>marquee</code>   跑马灯效果, 文本将滚动显示</li>
<li><code>middle</code>    在文本中间显示省略号</li>
<li><code>none</code>    不显示省略号</li>
<li><code>start</code>    在文本开头显示省略号</li>
</ul>
<h2>ems<span><a class="mark" href="#ui_ems" id="ui_ems">#</a></span></h2>
<p>当设置该属性后,TextView显示的字符长度（单位是em）,超出的部分将不显示, 或者根据ellipsize属性的设置显示省略号.</p>
<p>例如, 限制文本最长为5em: `<text ems="5" ellipsize="end" text="很长很长很长很长很长很长很长的文本"/></p>
<h2>autoLink<span><a class="mark" href="#ui_autolink" id="ui_autolink">#</a></span></h2>
<p>控制是否自动找到url和电子邮件地址等链接, 并转换为可点击的链接. 默认值为“none”.</p>
<p>设置该值可以让文本中的链接、电话等变成可点击状态.</p>
<p>可选的值为以下的值以其通过或(&quot;|&quot;)的组合：</p>
<ul>
<li><code>all</code>    匹配所有连接、邮件、地址、电话</li>
<li><code>email</code>    匹配电子邮件地址</li>
<li><code>map</code>    匹配地图地址</li>
<li><code>none</code>    不匹配 (默认)</li>
<li><code>phone</code>    匹配电话号码</li>
<li><code>web</code>    匹配URL地址</li>
</ul>
<p>示例：<code>&lt;text autoLink=&quot;web|phone&quot; text=&quot;百度: http://www.baidu.com 电信电话: 10000&quot;/&gt;</code></p>
<h1>按钮控件: button<span><a class="mark" href="#ui_button" id="ui_button">#</a></span></h1>
<p>按钮控件是一个特殊的文本控件, 因此所有文本控件的函数的属性都适用于按钮控件.</p>
<p>除此之外, 按钮控件有一些内置的样式, 通过<code>style</code>属性设置, 包括：</p>
<ul>
<li>Widget.AppCompat.Button.Colored 带颜色的按钮</li>
<li>Widget.AppCompat.Button.Borderless 无边框按钮</li>
<li>Widget.AppCompat.Button.Borderless.Colored 带颜色的无边框按钮</li>
</ul>
<p>这些样式的具体效果参见&quot;示例/界面控件/按钮控件.js&quot;.</p>
<p>例如：<code>&lt;button style=&quot;Widget.AppCompat.Button.Colored&quot; text=&quot;漂亮的按钮&quot;/&gt;</code></p>
<h1>输入框控件: input<span><a class="mark" href="#ui_input" id="ui_input">#</a></span></h1>
<p>输入框控件也是一个特殊的文本控件, 因此所有文本控件的函数的属性和函数都适用于按钮控件. 输入框控件有自己的属性和函数, 要查看所有这些内容, 阅读<a href="http://www.zhdoc.net/android/reference/android/widget/EditText.html">EditText</a>.</p>
<p>对于一个输入框控件, 我们可以通过text属性设置他的内容, 通过lines属性指定输入框的行数；在代码中通过<code>getText()</code>函数获取输入的内容. 例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical padding=&quot;16&quot;&gt;
        &lt;text textSize=&quot;16sp&quot; textColor=&quot;black&quot; text=&quot;请输入姓名&quot;/&gt;
        &lt;input id=&quot;name&quot; text=&quot;小明&quot;/&gt;
        &lt;button id=&quot;ok&quot; text=&quot;确定&quot;/&gt;
    &lt;/vertical&gt;
);
//指定确定按钮点击时要执行的动作
ui.ok.click(function(){
    //通过getText()获取输入的内容
    var name = ui.name.getText();
    toast(name + &quot;您好!&quot;);
});
</code></pre><p>效果如图：</p>
<p><img src="ex-input.png" alt="ex-input"></p>
<p>除此之外, 输入框控件有另外一些主要属性(虽然这些属性对于文本控件也是可用的但一般只用于输入框控件)：</p>
<h2>hint<span><a class="mark" href="#ui_hint" id="ui_hint">#</a></span></h2>
<p>输入提示. 这个提示会在输入框为空的时候显示出来. 如图所示:</p>
<p><img src="images/ex-hint.png" alt="ex-hint"></p>
<p>上面图片效果的代码为：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical&gt;
        &lt;input hint=&quot;请输入姓名&quot;/&gt;
    &lt;/vertical&gt;
)
</code></pre><h2>textColorHint<span><a class="mark" href="#ui_textcolorhint" id="ui_textcolorhint">#</a></span></h2>
<p>指定输入提示的字体颜色.</p>
<h2>textSizeHint<span><a class="mark" href="#ui_textsizehint" id="ui_textsizehint">#</a></span></h2>
<p>指定输入提示的字体大小.</p>
<h2>inputType<span><a class="mark" href="#ui_inputtype" id="ui_inputtype">#</a></span></h2>
<p>指定输入框可以输入的文本类型. 可选的值为以下值及其用&quot;|&quot;的组合:</p>
<ul>
<li><code>date</code>    用于输入日期.</li>
<li><code>datetime</code>    用于输入日期和时间.</li>
<li><code>none</code>    没有内容类型. 此输入框不可编辑.</li>
<li><code>number</code>    仅可输入数字.</li>
<li><code>numberDecimal</code>    可以与number和它的其他选项组合, 以允许输入十进制数(包括小数).</li>
<li><code>numberPassword</code>    仅可输入数字密码.</li>
<li><code>numberSigned</code>    可以与number和它的其他选项组合, 以允许输入有符号的数.</li>
<li><code>phone</code>    用于输入一个电话号码.</li>
<li><code>text</code>    只是普通文本.</li>
<li><code>textAutoComplete</code>    可以与text和它的其他选项结合, 以指定此字段将做自己的自动完成, 并适当地与输入法交互.</li>
<li><code>textAutoCorrect</code>    可以与text和它的其他选项结合, 以请求自动文本输入纠错.</li>
<li><code>textCapCharacters</code>    可以与text和它的其他选项结合, 以请求大写所有字符.</li>
<li><code>textCapSentences</code>    可以与text和它的其他选项结合, 以请求大写每个句子里面的第一个字符.</li>
<li><code>textCapWords</code>    可以与text和它的其他选项结合, 以请求大写每个单词里面的第一个字符.</li>
<li><code>textEmailAddress</code>    用于输入一个电子邮件地址.</li>
<li><code>textEmailSubject</code>    用于输入电子邮件的主题.</li>
<li><code>textImeMultiLine</code>    可以与text和它的其他选项结合, 以指示虽然常规文本视图不应为多行, 但如果可以, 则IME应提供多行支持.</li>
<li><code>textLongMessage</code>    用于输入长消息的内容.</li>
<li><code>textMultiLine</code>    可以与text和它的其他选项结合, 以便在该字段中允许多行文本. 如果未设置此标志, 则文本字段将被限制为单行.</li>
<li><code>textNoSuggestions</code>    可以与text及它的其他选项结合, 以指示输入法不应显示任何基于字典的单词建议.</li>
<li><code>textPassword</code>    用于输入密码.</li>
<li><code>textPersonName</code>    用于输入人名.</li>
<li><code>textPhonetic</code>    用于输入拼音发音的文本, 如联系人条目中的拼音名称字段.</li>
<li><code>textPostalAddress</code>    用于输入邮寄地址.</li>
<li><code>textShortMessage</code>    用于输入短的消息内容.</li>
<li><code>textUri</code>    用于输入一个URI.</li>
<li><code>textVisiblePassword</code>    用于输入可见的密码.</li>
<li><code>textWebEditText</code>    用于输入在web表单中的文本.</li>
<li><code>textWebEmailAddress</code>    用于在web表单里输入一个电子邮件地址.</li>
<li><code>textWebPassword</code>    用于在web表单里输入一个密码.</li>
<li><code>time</code>    用于输入时间.</li>
</ul>
<p>例如, 想指定一个输入框的输入类型为小数数字, 为: <code>&lt;input inputType=&quot;number|numberDecimal&quot;/&gt;</code></p>
<h2>password<span><a class="mark" href="#ui_password" id="ui_password">#</a></span></h2>
<p>指定输入框输入框是否为密码输入框. 默认为<code>false</code>.</p>
<p>例如：<code>&lt;input password=&quot;true&quot;/&gt;</code></p>
<h2>numeric<span><a class="mark" href="#ui_numeric" id="ui_numeric">#</a></span></h2>
<p>指定输入框输入框是否为数字输入框. 默认为<code>false</code>.</p>
<p>例如：<code>&lt;input numeric=&quot;true&quot;/&gt;</code></p>
<h2>phoneNumber<span><a class="mark" href="#ui_phonenumber" id="ui_phonenumber">#</a></span></h2>
<p>指定输入框输入框是否为电话号码输入框. 默认为<code>false</code>.</p>
<p>例如：<code>&lt;input phoneNumber=&quot;true&quot;/&gt;</code></p>
<h2>digits<span><a class="mark" href="#ui_digits" id="ui_digits">#</a></span></h2>
<p>指定输入框可以输入的字符. 例如, 要指定输入框只能输入&quot;1234567890+-&quot;, 为<code>&lt;input digits=&quot;1234567890+-&quot;/&gt;</code>.</p>
<h2>singleLine<span><a class="mark" href="#ui_singleline" id="ui_singleline">#</a></span></h2>
<p>指定输入框是否为单行输入框. 默认为<code>false</code>. 您也可以通过<code>lines=&quot;1&quot;</code>来指定单行输入框.</p>
<p>例如：<code>&lt;input singleLine=&quot;true&quot;/&gt;</code></p>
<h1>图片控件: img<span><a class="mark" href="#ui_img" id="ui_img">#</a></span></h1>
<p>图片控件用于显示来自网络、本地或者内嵌数据的图片, 并可以指定图片以圆角矩形、圆形等显示. 但是不能用于显示gif动态图.</p>
<p>这里只介绍他的主要方法和属性, 如果要查看他的所有方法和属性, 阅读<a href="http://www.zhdoc.net/android/reference/android/widget/ImageView.html">ImageView</a>.</p>
<h2>src<span><a class="mark" href="#ui_src" id="ui_src">#</a></span></h2>
<p>使用一个Uri指定图片的来源. 可以是图片的地址(http://....), 本地路径(file://....)或者base64数据(&quot;data:image/png;base64,...&quot;).</p>
<p>如果使用图片地址或本地路径, Auto.js会自动使用适当的缓存来储存这些图片, 减少下次加载的时间.</p>
<p>例如, 显示百度的logo:</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame&gt;
        &lt;img src=&quot;https://www.baidu.com/img/bd_logo1.png&quot;/&gt;
    &lt;/frame&gt;
);
</code></pre><p>再例如, 显示文件/sdcard/1.png的图片为 <code>&lt;img src=&quot;file:///sdcard/1.png&quot;/&gt;</code>.
再例如, 使base64显示一张钱包小图片为：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;frame&gt;
        &lt;img w=&quot;40&quot; h=&quot;40&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEu0lEQVRoge3bW4iVVRQH8N+ZnDKxvJUGCSWUlXYle/ChiKAkIiu7UXQjonwNIopM8cHoAhkRGQXdfIiE0Ep8KalQoptRTiFFZiRlOo6TPuSk4zk97G9w5vidc77LPjNi84f1MN+391rrf9a+rL32N4xiFMcUjouo5zyciYPYH0FnBadiNiZiD2oR9JbGRdgiOFPDIXRhCWYU0Dcj6duV6BrQuyWxNaLowBcOO1Uv+7EKc4WINUIlabMq6dNI35eJzRHDWOzS2MEB6cd6XI/OQf07k2frkzat9HQnNkcUG7R2dECq2I53EtmePMvaf+MwcWqKu+RzuqhUcfcwcWqKTvmiXFQ2GDodRhQz0aN9ZHsSG0cVrkGf+GT7MG8YeeTCHeKS7sOdMR1stjcWxY2YH0nXh1gdSdf/E+2I8KVYigkl9ewVUsxNpT1qMzaKN4ejJxrtyEt7IuraE1EX2jOkp+JBnFxSzz68KuTqoyiK2BHuxDO4NpK+j/GoOAWF6BiH98Q/SHyCycPIIxMm4FPZCPTj30SynIFr+A7ThotMK4wXopA1Ym9gSiKv5Oj3bdKnFMpuS514E1fm6NMnbF098s3NS4QS0Ik5+hyBsoSXYkGO9jvxy6C/t+IPIYJZcBWW57AXFfMNrSo2kqqw2l4hvSzcIRTw1sm24FVxb5s4NcR0/JXBuUNYJttI6sDjsi1kvTgrGpsMjq3O4FQNa+SbNhWsyKj7I4wpzSYDbpFtKB/EOSn9ZwpRfx5Xp7yfhN0Z9FdxXxxKjTEe2zI4U8NnKf3PNrT2VcWTKe1eyGjjT+Eapm14IqMjNTyd0n9JSrsDwhmaEN2H8GMOO8viUjyMSfJVJh9O0bGoQdt1eFm2oVwve7UpC1ssX568KEXH6fghp54s8lRkrk7CjpxOrGqg6wQ8IKSKWXPpVtIt8ly+v4ATf2t+yqlgDl5SbCjXy8JIXFXweQEHqngxo43JeEw54l+JVLKaJeypRZzoFxavrIWG6cKPW2SO9+PCMkQHsLiA8fpIv5/DmUn4qaCtpWWIEiLzdUHj9XJA2H5uFRbBZriuoI1NSpatpio+nJtFvFvYd2c1sDsGvxfQ3a/knrwgMtm0qD8rPSprCuq8uRmhVqvanBbvm+EQfsNKIcnvTmnTiUdwQcq73oJ2L2v2stXx6vyCRr8RDuk/C8OMUK24J6VtBaekPG81zxuh0TTJhC7FhtUOHF+n61whGalvu8uRWVJFvgPEYOkqQzhLVSPPXLoYa4Xh3Stcls1NaTdb8Xx7ZxnCvSUIfy/kzWno0Pyzx3dL2C0695Hto7NGUhXy5Lzp3kLZKiqNpNTl2+YShgdIvyXbVck44TB/oKTNzWUIv13S+IDsFmpY84QvZAcwTbh4e04o18SwtbIM4dsiOTFYVgzSv7wN+m9vRqjV/PrA0JuCox1bhYNKQ7Qi3CcU1fpiedRG9AkLXhRfbxCnKlET0s21ifwaSWcPbopBdDDOwGtClTD2vCsq+/C68K8HmVDk7DhFyIsvFzKnGThN+689+oU9dptwQb5B+LB8dx4lMb7xqAhkJwo/xljhFFSfSdUc3mPrcbwj15P+pP0/QiR7hYSkGsHnUYziWMF/mXV4JVcZ8G0AAAAASUVORK5CYII=&quot;/&gt;
    &lt;/frame&gt;
);
</code></pre><h2>tint<span><a class="mark" href="#ui_tint" id="ui_tint">#</a></span></h2>
<p>图片着色, 其值是一个颜色名称或RGB颜色值. 使用该属性会将图片中的非透明区域都涂上同一颜色. 可以用于改变图片的颜色.</p>
<p>例如, 对于上面的base64的图片: <code>&lt;img w=&quot;40&quot; h=&quot;40&quot; tint=&quot;red&quot; src=&quot;data:image/png;base64,...&quot;/&gt;</code>, 则钱包图标颜色会变成红色.</p>
<h2>scaleType<span><a class="mark" href="#ui_scaletype" id="ui_scaletype">#</a></span></h2>
<p>控制图片根据图片控件的宽高放缩时的模式. 可选的值为：</p>
<ul>
<li><code>center</code>    在控件中居中显示图像, 但不执行缩放.</li>
<li><code>centerCrop</code>    保持图像的长宽比缩放图片, 使图像的尺寸 (宽度和高度) 等于或大于控件的相应尺寸 (不包括内边距padding)并且使图像在控件中居中显示.</li>
<li><code>centerInside</code>    保持图像的长宽比缩放图片, 使图像的尺寸 (宽度和高度) 小于视图的相应尺寸 (不包括内边距padding)并且图像在控件中居中显示.</li>
<li><code>fitCenter</code>    保持图像的长宽比缩放图片, 使图片的宽<strong>或</strong>高和控件的宽高相同并使图片在控件中居中显示</li>
<li><code>fitEnd</code>    保持图像的长宽比缩放图片, 使图片的宽<strong>或</strong>高和控件的宽高相同并使图片在控件中靠右下角显示</li>
<li><code>fitStart</code>    保持图像的长宽比缩放图片, 使图片的宽<strong>或</strong>高和控件的宽高相同并使图片在控件靠左上角显示</li>
<li><code>fitXY</code>    使图片和宽高和控件的宽高完全匹配, 但图片的长宽比可能不能保持一致</li>
<li><code>matrix</code>    绘制时使用图像矩阵进行缩放. 需要在代码中使用<code>setImageMatrix(Matrix)</code>函数才能生效.</li>
</ul>
<p>默认的scaleType为<code>fitCenter</code>；除此之外最常用的是<code>fitXY</code>,  他能使图片放缩到控件一样的大小, 但图片可能会变形.</p>
<h2>radius<span><a class="mark" href="#ui_radius" id="ui_radius">#</a></span></h2>
<p>图片控件的半径. 如果设置为控件宽高的一半并且控件的宽高相同则图片将剪切为圆形显示；否则图片为圆角矩形显示, 半径即为四个圆角的半径, 也可以通过<code>radiusTopLeft</code>, <code>radiusTopRight</code>, <code>radiusBottomLeft</code>, <code>radiusBottomRight</code>等属性分别设置四个圆角的半径.</p>
<p>例如, 圆角矩形的Auto.js图标：<code>&lt;img w=&quot;100&quot; h=&quot;100&quot; radius=&quot;20&quot; bg=&quot;white&quot; src=&quot;http://www.autojs.org/assets/uploads/profile/3-profileavatar.png&quot; /&gt;</code></p>
<p>有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>radiusTopLeft<span><a class="mark" href="#ui_radiustopleft" id="ui_radiustopleft">#</a></span></h2>
<p>图片控件的左上角圆角的半径. 有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>radiusTopRight<span><a class="mark" href="#ui_radiustopright" id="ui_radiustopright">#</a></span></h2>
<p>图片控件的右上角圆角的半径. 有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>radiusBottomLeft<span><a class="mark" href="#ui_radiusbottomleft" id="ui_radiusbottomleft">#</a></span></h2>
<p>图片控件的左下角圆角的半径. 有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>radiusBottomRight<span><a class="mark" href="#ui_radiusbottomright" id="ui_radiusbottomright">#</a></span></h2>
<p>图片控件的右下角圆角的半径. 有关该属性的单位, 参见<a href="#all_ui_尺寸的单位_Dimension">尺寸的单位: Dimension</a>.</p>
<h2>borderWidth<span><a class="mark" href="#ui_borderwidth" id="ui_borderwidth">#</a></span></h2>
<p>图片控件的边框宽度. 用于在图片外面显示一个边框, 边框会随着图片控件的外形(圆角等)改变而相应变化.
例如, 圆角矩形带灰色边框的Auto.js图标：<code>&lt;img w=&quot;100&quot; h=&quot;100&quot; radius=&quot;20&quot; borderWidth=&quot;5&quot; borderColor=&quot;gray&quot; bg=&quot;white&quot; src=&quot;http://www.autojs.org/assets/uploads/profile/3-profileavatar.png&quot; /&gt;</code></p>
<h2>borderColor<span><a class="mark" href="#ui_bordercolor" id="ui_bordercolor">#</a></span></h2>
<p>图片控件的边框颜色.</p>
<h2>circle<span><a class="mark" href="#ui_circle" id="ui_circle">#</a></span></h2>
<p>指定该图片控件的图片是否剪切为圆形显示. 如果为<code>true</code>, 则图片控件会使其宽高保持一致(如果宽高不一致, 则保持高度等于宽度)并使圆形的半径为宽度的一半.</p>
<p>例如, 圆形的Auto.js图标：<code>&lt;img w=&quot;100&quot; h=&quot;100&quot; circle=&quot;true&quot; bg=&quot;white&quot; src=&quot;http://www.autojs.org/assets/uploads/profile/3-profileavatar.png&quot; /&gt;</code></p>
<h1>垂直布局: vertical<span><a class="mark" href="#ui_vertical" id="ui_vertical">#</a></span></h1>
<p>垂直布局是一种比较简单的布局, 会把在它里面的控件按照垂直方向依次摆放, 如下图所示：</p>
<p>垂直布局:</p>
<p>—————</p>
<p>| 控件1 |</p>
<p>| 控件2 |</p>
<p>| 控件3 |</p>
<p>| ............ |</p>
<p>——————</p>
<h2>layout_weight<span><a class="mark" href="#ui_layout_weight" id="ui_layout_weight">#</a></span></h2>
<p>垂直布局中的控件可以通过<code>layout_weight</code>属性来控制控件高度占垂直布局高度的比例. 如果为一个控件指定<code>layout_weight</code>, 则这个控件的高度=垂直布局剩余高度 * layout_weight / weightSum；如果不指定weightSum, 则weightSum为所有子控件的layout_weight之和. 所谓&quot;剩余高度&quot;, 指的是垂直布局中减去没有指定layout_weight的控件的剩余高度.
例如:</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical h=&quot;100dp&quot;&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件1&quot; bg=&quot;#ff0000&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件2&quot; bg=&quot;#00ff00&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件3&quot; bg=&quot;#0000ff&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个布局中, 三个控件的layout_weight都是1, 也就是他们的高度都会占垂直布局高度的1/3, 都是33.3dp.
再例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical h=&quot;100dp&quot;&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件1&quot; bg=&quot;#ff0000&quot;/&gt;
        &lt;text layout_weight=&quot;2&quot; text=&quot;控件2&quot; bg=&quot;#00ff00&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件3&quot; bg=&quot;#0000ff&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个布局中, 第一个控件高度为1/4, 第二个控件为2/4, 第三个控件为1/4.
再例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical h=&quot;100dp&quot; weightSum=&quot;5&quot;&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件1&quot; bg=&quot;#ff0000&quot;/&gt;
        &lt;text layout_weight=&quot;2&quot; text=&quot;控件2&quot; bg=&quot;#00ff00&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件3&quot; bg=&quot;#0000ff&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个布局中, 因为指定了weightSum为5, 因此第一个控件高度为1/5, 第二个控件为2/5, 第三个控件为1/5.
再例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical h=&quot;100dp&quot;&gt;
        &lt;text h=&quot;40dp&quot; text=&quot;控件1&quot; bg=&quot;#ff0000&quot;/&gt;
        &lt;text layout_weight=&quot;2&quot; text=&quot;控件2&quot; bg=&quot;#00ff00&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件3&quot; bg=&quot;#0000ff&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个布局中, 第一个控件并没有指定layout_weight, 而是指定高度为40dp, 因此不加入比例计算, 此时布局剩余高度为60dp. 第二个控件高度为剩余高度的2/3, 也就是40dp, 第三个控件高度为剩余高度的1/3, 也就是20dp.</p>
<p>垂直布局的layout_weight属性还可以用于控制他的子控件高度占满剩余空间, 例如：</p>
<pre><code>&quot;ui&quot;;
ui.layout(
    &lt;vertical h=&quot;100dp&quot;&gt;
        &lt;text h=&quot;40dp&quot; text=&quot;控件1&quot; bg=&quot;#ff0000&quot;/&gt;
        &lt;text h=&quot;40dp&quot; text=&quot;控件2&quot; bg=&quot;#00ff00&quot;/&gt;
        &lt;text layout_weight=&quot;1&quot; text=&quot;控件3&quot; bg=&quot;#0000ff&quot;/&gt;
    &lt;/vertical&gt;
);
</code></pre><p>在这个布局中, 第三个控件的高度会占满除去控件1和控件2的剩余空间.</p>
<h1>水平布局: horizontal<span><a class="mark" href="#ui_horizontal" id="ui_horizontal">#</a></span></h1>
<p>水平布局是一种比较简单的布局, 会把在它里面的控件按照水平方向依次摆放, 如下图所示：
水平布局:
————————————————————————————</p>
<p>| 控件1 | 控件2 | 控件3 | ... |</p>
<p>————————————————————————————</p>
<h2>layout_weight<span><a class="mark" href="#ui_layout_weight_1" id="ui_layout_weight_1">#</a></span></h2>
<p>水平布局中也可以使用layout_weight属性来控制子控件的<strong>宽度</strong>占父布局的比例. 和垂直布局中类似, 不再赘述.</p>
<h1>线性布局: linear<span><a class="mark" href="#ui_linear" id="ui_linear">#</a></span></h1>
<p>实际上, 垂直布局和水平布局都属于线性布局. 线性布局有一个orientation的属性, 用于指定布局的方向, 可选的值为<code>vertical</code>和<code>horizontal</code>.</p>
<p>例如<code>&lt;linear orientation=&quot;vertical&quot;&gt;&lt;/linear&gt;</code>相当于<code>&lt;vertical&gt;&lt;/vertical&gt;</code>.</p>
<p>线性布局的默认方向是横向的, 因此, 一个没有指定orientation属性的线性布局就是横向布局.</p>
<h1>帧布局: frame<span><a class="mark" href="#ui_frame" id="ui_frame">#</a></span></h1>
<p>帧布局</p>
<h1>相对布局: relative<span><a class="mark" href="#ui_relative" id="ui_relative">#</a></span></h1>
<h1>勾选框控件: checkbox<span><a class="mark" href="#ui_checkbox" id="ui_checkbox">#</a></span></h1>
<h1>选择框控件: radio<span><a class="mark" href="#ui_radio" id="ui_radio">#</a></span></h1>
<h1>选择框布局: radiogroup<span><a class="mark" href="#ui_radiogroup" id="ui_radiogroup">#</a></span></h1>
<h1>开关控件: Switch<span><a class="mark" href="#ui_switch" id="ui_switch">#</a></span></h1>
<p>开关控件用于表示一个选项是否被选中.</p>
<h2>checked<span><a class="mark" href="#ui_checked" id="ui_checked">#</a></span></h2>
<p>表示开关是否被选中. 可选的值为：</p>
<ul>
<li><code>true</code> 打开开关</li>
<li><code>false</code> 关闭开关</li>
</ul>
<h2>text<span><a class="mark" href="#ui_text_2" id="ui_text_2">#</a></span></h2>
<p>对开关进行描述的文字.</p>
<h1>进度条控件: progressbar<span><a class="mark" href="#ui_progressbar" id="ui_progressbar">#</a></span></h1>
<h1>拖动条控件: seekbar<span><a class="mark" href="#ui_seekbar" id="ui_seekbar">#</a></span></h1>
<h1>下来菜单控件: spinner<span><a class="mark" href="#ui_spinner" id="ui_spinner">#</a></span></h1>
<h1>时间选择控件: timepicker<span><a class="mark" href="#ui_timepicker" id="ui_timepicker">#</a></span></h1>
<h1>日期选择控件: datepicker<span><a class="mark" href="#ui_datepicker" id="ui_datepicker">#</a></span></h1>
<h1>浮动按钮控件: fab<span><a class="mark" href="#ui_fab" id="ui_fab">#</a></span></h1>
<h1>标题栏控件: toolbar<span><a class="mark" href="#ui_toolbar" id="ui_toolbar">#</a></span></h1>
<h1>卡片: card<span><a class="mark" href="#ui_card" id="ui_card">#</a></span></h1>
<p>卡片控件是一个拥有圆角、阴影的控件.</p>
<h2>cardBackgroundColor<span><a class="mark" href="#ui_cardbackgroundcolor" id="ui_cardbackgroundcolor">#</a></span></h2>
<p>卡片的背景颜色.</p>
<h2>cardCornerRadius<span><a class="mark" href="#ui_cardcornerradius" id="ui_cardcornerradius">#</a></span></h2>
<p>卡片的圆角半径.</p>
<h2>cardElevation<span><a class="mark" href="#ui_cardelevation" id="ui_cardelevation">#</a></span></h2>
<p>设置卡片在z轴上的高度, 来控制阴影的大小.</p>
<h2>contentPadding<span><a class="mark" href="#ui_contentpadding" id="ui_contentpadding">#</a></span></h2>
<p>设置卡片的内边距. 该属性包括四个值：</p>
<ul>
<li><code>contentPaddingLeft</code> 左内边距</li>
<li><code>contentPaddingRight</code> 右内边距</li>
<li><code>contentPaddingTop</code> 上内边距</li>
<li><code>contentPaddingBottom</code> 下内边距</li>
</ul>
<h2>foreground<span><a class="mark" href="#ui_foreground_1" id="ui_foreground_1">#</a></span></h2>
<p>使用<code>foreground=&quot;?selectableItemBackground&quot;</code>属性可以为卡片添加点击效果.</p>
<h1>抽屉布局: drawer<span><a class="mark" href="#ui_drawer" id="ui_drawer">#</a></span></h1>
<h1>列表: list<span><a class="mark" href="#ui_list" id="ui_list">#</a></span></h1>
<h1>Tab: tab<span><a class="mark" href="#ui_tab_tab" id="ui_tab_tab">#</a></span></h1>
<h1>ui<span><a class="mark" href="#ui_ui_1" id="ui_ui_1">#</a></span></h1>
<h2>ui.layout(xml)<span><a class="mark" href="#ui_ui_layout_xml" id="ui_ui_layout_xml">#</a></span></h2>
<div class="signature"><ul>
<li><code>xml</code> { <span class="type">XML</span> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 布局XML或者XML字符串</li>
</ul>
</div><p>将布局XML渲染为视图（View）对象,  并设置为当前视图.</p>
<h2>ui.layoutFile(xmlFile)<span><a class="mark" href="#ui_ui_layoutfile_xmlfile" id="ui_ui_layoutfile_xmlfile">#</a></span></h2>
<div class="signature"><ul>
<li><code>xml</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 布局XML文件的路径</li>
</ul>
</div><p>此函数和<code>ui.layout</code>相似, 只不过允许传入一个xml文件路径来渲染布局.</p>
<h2>ui.inflate(xml[, parent = null, attachToParent = false])<span><a class="mark" href="#ui_ui_inflate_xml_parent_null_attachtoparent_false" id="ui_ui_inflate_xml_parent_null_attachtoparent_false">#</a></span></h2>
<div class="signature"><ul>
<li><code>xml</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <span class="type">XML</span> } 布局XML或者XML字符串</li>
<li><code>parent</code> { <span class="type">View</span> } 父视图</li>
<li><code>attachToParent</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> } 是否渲染的View加到父视图中, 默认为false</li>
<li>返回 { <span class="type">View</span> }</li>
</ul>
</div><p>将布局XML渲染为视图（View）对象. 如果该View将作为某个View的子View, 我们建议传入<code>parent</code>参数, 这样在渲染时依赖于父视图的一些布局属性能够正确应用.</p>
<p>此函数用于动态创建、显示View.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;

$ui.layout(
    &lt;linear id=&quot;container&quot;&gt;
    &lt;/linear&gt;
);

// 动态创建3个文本控件, 并加到container容器中
// 这里仅为实例, 实际上并不推荐这种做法, 如果要展示列表, 
// 使用list组件；动态创建十几个、几十个View会让界面卡顿
for (let i = 0; i &lt; 3; i++) {
    let textView = $ui.inflate(
        &lt;text textColor=&quot;#000000&quot; textSize=&quot;14sp&quot;/&gt;
    , $ui.container);
    textView.attr(&quot;text&quot;, &quot;文本控件&quot; + i);
    $ui.container.addView(textView);
}
</code></pre>
<h1>ui.registerWidget(name, widget)<span><a class="mark" href="#ui_ui_registerwidget_name_widget" id="ui_ui_registerwidget_name_widget">#</a></span></h1>
<div class="signature"><ul>
<li><code>name</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 组件名称</li>
<li><code>widget</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 组件</li>
</ul>
</div><p>注册一个自定义组件. 参考示例-&gt;界面控件-&gt;自定义控件.</p>
<h1>ui.isUiThread()<span><a class="mark" href="#ui_ui_isuithread" id="ui_ui_isuithread">#</a></span></h1>
<div class="signature"><ul>
<li>返回 { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">boolean</a> }</li>
</ul>
</div><p>返回当前线程是否是UI线程.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;

log($ui.isUiThread()); // =&gt; true

$threads.start(function () {
    log($ui.isUiThread()); // =&gt; false
});

</code></pre>
<h2>ui.findView(id)<span><a class="mark" href="#ui_ui_findview_id" id="ui_ui_findview_id">#</a></span></h2>
<div class="signature"><ul>
<li><code>id</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } View的ID</li>
<li>返回 { <span class="type">View</span> }</li>
</ul>
</div><p>在当前视图中根据ID查找相应的视图对象并返回. 如果当前未设置视图或找不到此ID的视图时返回<code>null</code>.</p>
<p>一般我们都是通过<code>ui.xxx</code>来获取id为xxx的控件, 如果xxx是一个ui已经有的属性, 就可以通过<code>$ui.findView()</code>来获取这个控件.</p>
<h2>ui.finish()<span><a class="mark" href="#ui_ui_finish" id="ui_ui_finish">#</a></span></h2>
<p>结束当前活动并销毁界面.</p>
<h2>ui.setContentView(view)<span><a class="mark" href="#ui_ui_setcontentview_view" id="ui_ui_setcontentview_view">#</a></span></h2>
<div class="signature"><ul>
<li><code>view</code> { <span class="type">View</span> }</li>
</ul>
</div><p>将视图对象设置为当前视图.</p>
<h2>ui.post(callback[, delay = 0])<span><a class="mark" href="#ui_ui_post_callback_delay_0" id="ui_ui_post_callback_delay_0">#</a></span></h2>
<div class="signature"><ul>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
<li><code>delay</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 延迟, 单位毫秒</li>
</ul>
</div><p>将<code>callback</code>加到UI线程的消息循环中, 并延迟delay毫秒后执行（不能准确保证一定在delay毫秒后执行）.</p>
<p>此函数可以用于UI线程中延时执行动作（sleep不能在UI线程中使用）, 也可以用于子线程中更新UI.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;

ui.layout(
    &lt;frame&gt;
        &lt;text id=&quot;result&quot;/&gt;
    &lt;/frame&gt;
);

ui.result.attr(&quot;text&quot;, &quot;计算中&quot;);
// 在子线程中计算1+ ... + 10000000
threads.start({
    let sum = 0;
    for (let i = 0; i &lt; 1000000; i++) {
        sum += i;
    }
    // 由于不能在子线程操作UI, 所以要抛到UI线程执行
    ui.post(() =&gt; {
        ui.result.attr(&quot;text&quot;, String(sum));
    });
});
</code></pre>
<h2>ui.run(callback)<span><a class="mark" href="#ui_ui_run_callback" id="ui_ui_run_callback">#</a></span></h2>
<div class="signature"><ul>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数</li>
<li>返回 callback的执行结果</li>
</ul>
</div><p>将<code>callback</code>在UI线程中执行. 如果当前已经在UI线程中, 则直接执行<code>callback</code>；否则将<code>callback</code>抛到UI线程中执行（加到UI线程的消息循环的末尾）, <strong>并等待callback执行结束(阻塞当前线程)</strong>.</p>
<h2>ui.statusBarColor(color)<span><a class="mark" href="#ui_ui_statusbarcolor_color" id="ui_ui_statusbarcolor_color">#</a></span></h2>
<div class="signature"><ul>
<li>color { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">number</a> } 颜色</li>
</ul>
</div><p>设置当前界面的状态栏颜色.</p>
<pre><code class="lang-javascript">&quot;ui&quot;;
ui.statusBarColor(&quot;#000000&quot;);
</code></pre>
<h2>ui.useAndroidResources()<span><a class="mark" href="#ui_ui_useandroidresources" id="ui_ui_useandroidresources">#</a></span></h2>
<p>启用使用Android的布局(layout)、绘图(drawable)、动画(anim)、样式(style)等资源的特性. 启用该特性后, 在project.json中进行以下配置, 就可以像写Android原生一样写界面：</p>
<pre><code class="lang-json">{
    // ...
    androidResources: {
        &quot;resDir&quot;: &quot;res&quot;,  // 资源文件夹
        &quot;manifest&quot;: &quot;AndroidManifest.xml&quot; // AndroidManifest文件路径
    }
}
</code></pre>
<p>res文件夹通常为以下结构：</p>
<pre><code>- res
    - layout  // 布局资源
    - drawable // 图片、形状等资源
    - menu // 菜单资源
    - values // 样式、字符串等资源
    // ...
</code></pre><p>可参考示例-&gt;复杂界面-&gt;Android原生界面.</p>
<h1>尺寸的单位: Dimension<span><a class="mark" href="#ui_dimension" id="ui_dimension">#</a></span></h1>
<h1>Drawables<span><a class="mark" href="#ui_drawables" id="ui_drawables">#</a></span></h1>
<h1>颜色<span><a class="mark" href="#ui" id="ui">#</a></span></h1>
<p><strong>(完善中...)</strong></p>
<!-- [end-include:ui.md] -->
<!-- [start-include:web.md] -->
<h1>万维网 (Web)<span><a class="mark" href="#web_web" id="web_web">#</a></span></h1>
<p>在应用里显示网页内容, 而不是打开独立的浏览器, 此时可使用 WebView 类, 以实现在 <a href="activity.html">activity</a> 中显示网页内容.</p>
<p>web 模块主要用于 <a href="https://developer.android.com/reference/android/webkit/WebView">WebView</a> 网页的 [ <a href="glossaries.html#glossaries_注入">注入 (Inject)</a> / 构建客户端 ] 等.</p>
<blockquote>
<p>注: 与 <a href="http.html">http</a> 模块不同, http 模块主要用于网络的请求与响应.</p>
</blockquote>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">web</p>

<hr>
<h2>[m] newInjectableWebView<span><a class="mark" href="#web_m_newinjectablewebview" id="web_m_newinjectablewebview">#</a></span></h2>
<h3>newInjectableWebView(url?)<span><a class="mark" href="#web_newinjectablewebview_url" id="web_newinjectablewebview_url">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload [1-2]/3</code></strong> <strong><code>UI</code></strong></p>
<ul>
<li><strong>[ url ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 需要 WebView 加载的 URL</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="injectableWebViewType.html">InjectableWebView</a></span> }</li>
</ul>
<p>新建并返回一个 <a href="injectableWebViewType.html">InjectableWebView</a> (可 <a href="glossaries.html#glossaries_注入">注入</a> 的 <a href="https://developer.android.com/reference/android/webkit/WebView">WebView</a>) 实例.</p>
<pre><code class="lang-js">&#39;ui&#39;;

ui.layout(&lt;vertical&gt;
    &lt;frame id=&quot;main&quot;/&gt;
&lt;/vertical&gt;);

/* 创建一个 InjectableWebView 实例. */
let webView = newInjectableWebView();
/* 加载指定的 URL, &quot;https://&quot; 也可省略. */
webView.loadUrl(&#39;https://www.github.com&#39;);
/* 注入 JavaScript 脚本, 显示 alert 消息框. */
webView.inject(&#39;alert(&quot;hello&quot;)&#39;);
/* 附加视图对象到 id 为 main 的视图上. */
ui.main.addView(webView);
</code></pre>
<p>上述示例也可使用 <code>setContentView</code> 实现更简单的内容加载 (但不包含代码注入):</p>
<pre><code class="lang-js">&#39;ui&#39;;
activity.setContentView(web.newInjectableWebView(&#39;www.github.com&#39;));
</code></pre>
<p>除上述注入简单的 <code>alert</code> 消息框外, 还支持其他更多注入方式:</p>
<pre><code class="lang-js">/* 以给定的 URL 来替换当前的资源. */
webView.inject(&#39;document.location.replace(&quot;https://www.jetbrains.com&quot;)&#39;);
/* 替换整个 document 的内容. */
webView.inject(&#39;document.write(&quot;hello&quot;)&#39;);
/* 替换 body 元素为指定的 HTML 内容. */
webView.inject(&#39;document.body.innerHTML = &quot;&lt;p&gt;hello&lt;/p&gt;&quot;&#39;);
/* 指定 body 元素的字体颜色. */
webView.inject(&#39;document.body.style = &quot;color:green&quot;&#39;);
/* 在文档末尾附加一个自定义元素. */
webView.inject(&#39;let p = document.createElement(&quot;p&quot;); p.innerHTML = &quot;hello&quot;; document.body.appendChild(p)&#39;);
/* 使用回调方法获取内部信息. */
webView.inject(&#39;navigator.userAgent&#39;, result =&gt; console.log(result));
</code></pre>
<p>如需对上述 <code>webView</code> 实例进行一些设置, 可通过 <code>webView.getSettings()</code> 获得 <a href="https://developer.android.com/reference/android/webkit/WebSettings">android.webkit.WebSettings</a> 对象, 再进行个性化设置:</p>
<pre><code class="lang-js">let settings = webView.getSettings();

/* 设置 WebView 默认字体大小, 默认值 16. */
settings.setDefaultFontSize(18);
/* 设置是否允许脚本自动弹出新窗口, 默认 false. */
settings.setJavaScriptCanOpenWindowsAutomatically(true);
/* 设置 WebView 是否支持使用屏幕控件或手势进行缩放, 默认 true. */
settings.setSupportZoom(false);

/* ... */
</code></pre>
<p>对于 <code>InjectableWebView</code>, 其内部已经对 WebView 进行了一些初始化设置, 包括:</p>
<pre><code class="lang-java">settings.setUseWideViewPort(true);
settings.setBuiltInZoomControls(true);
settings.setLoadWithOverviewMode(true);
settings.setJavaScriptEnabled(true);
settings.setJavaScriptCanOpenWindowsAutomatically(true);
settings.setDomStorageEnabled(true);
settings.setDisplayZoomControls(false);
</code></pre>
<blockquote>
<p>注: 上述设置参考自 Auto.js 4.1.1 Alpha2 源码.</p>
</blockquote>
<p>此外, <code>InjectableWebView</code> 内部还初始化了一个默认的 <a href="https://developer.android.com/reference/android/webkit/WebChromeClient">WebChromeClient</a> 客户端:</p>
<pre><code class="lang-java">setWebChromeClient(new WebChromeClient());
</code></pre>
<blockquote>
<p>注:<br>WebChromeClient 中的 &quot;Chrome&quot; 与 Google Chrome 浏览器中的 &quot;Chrome&quot; 不同.<br>WebView 中的 &quot;Chrome&quot; 指代 WebView 外面的装饰及 UI 部分.<br>WebChromeClient 是 HTML/JavaScript 与 Android 客户端交互的中间件, 它将 WebView 中 JavaScript 产生的事件封装后传递到 Android 客户端, 从而避免一些可能的安全问题.<br>同时 WebChromeClient 也可以辅助 WebView 处理 JavaScript 对话框, 显示加载进度, 上传文件等.</p>
</blockquote>
<p>在 WebView 中访问了多个网页时, 按返回键会立即关闭整个页面, 而不是回退到上一个历史网页.<br>如果希望在 WebView 里浏览历史网页, 可参考如下代码:</p>
<pre><code class="lang-js">ui.emitter.on(&#39;back_pressed&#39;, function (e) {
    if (webView.canGoBack()) {
        webView.goBack();
        e.consumed = true;
    }
});
</code></pre>
<h3>newInjectableWebView(activity)<span><a class="mark" href="#web_newinjectablewebview_activity" id="web_newinjectablewebview_activity">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong> <strong><code>Overload 3/3</code></strong> <strong><code>UI</code></strong></p>
<ul>
<li><strong>activity</strong> { <span class="type"><a href="dataTypes.html#datatypes_scriptexecuteactivity">ScriptExecuteActivity</a></span> } - 上下文对象, 默认为 UI 模式下的全局 activity 对象</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="injectableWebViewType.html">InjectableWebView</a></span> }</li>
</ul>
<p>新建并返回一个 <a href="dataTypes.html#datatypes_injectablewebview">InjectableWebView</a> (可 <a href="glossaries.html#glossaries_注入">注入</a> 的 <a href="https://developer.android.com/reference/android/webkit/WebView">WebView</a>) 实例, 通过 <code>activity</code> 参数可传入不同的 <code>org.mozilla.javascript.Context</code> 上下文对象, 该对象主要用于执行 JavaScript 语句.</p>
<h2>[m] newInjectableWebClient<span><a class="mark" href="#web_m_newinjectablewebclient" id="web_m_newinjectablewebclient">#</a></span></h2>
<h3>newInjectableWebClient()<span><a class="mark" href="#web_newinjectablewebclient" id="web_newinjectablewebclient">#</a></span></h3>
<p><strong><code>6.3.0</code></strong> <strong><code>Global</code></strong></p>
<ul>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="injectableWebClientType.html">InjectableWebClient</a></span> }</li>
</ul>
<p>新建并返回一个 <a href="injectableWebClientType.html">InjectableWebClient</a> (可 <a href="glossaries.html#glossaries_注入">注入</a> 的 <a href="https://developer.android.com/reference/android/webkit/WebViewClient">WebViewClient</a>) 实例.</p>
<pre><code class="lang-js">/* 为 webView 对象重新设置一个新的客户端. */
webView.setWebViewClient(newInjectableWebClient());
</code></pre>
<h2>[m] newWebSocket<span><a class="mark" href="#web_m_newwebsocket" id="web_m_newwebsocket">#</a></span></h2>
<h3>newWebSocket(url)<span><a class="mark" href="#web_newwebsocket_url" id="web_newwebsocket_url">#</a></span></h3>
<p><strong><code>6.3.1</code></strong> <strong><code>Global</code></strong></p>
<ul>
<li><strong>url</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 请求的 URL 地址</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="webSocketType.html">WebSocket</a></span> }</li>
</ul>
<p>构建一个 <a href="webSocketType.html">WebSocket</a> 实例.</p>
<p>相当于 <code>new WebSocket(url)</code>.</p>
<blockquote>
<p>参阅: <a href="webSocketType.html">WebSocket</a> 章节
<!-- [end-include:web.md] --></p>
</blockquote>
<!-- [start-include:http.md] -->
<h1>HTTP<span><a class="mark" href="#http_http" id="http_http">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Mar 21, 2023.</p>

<hr>
<p>http 模块主要用于发送 HTTP 请求, 获取并解析 HTTP 响应.</p>
<blockquote>
<p>注: 与 <a href="web.html">web</a> 模块不同, web 模块主要用于 WebView 网页的注入及客户端构建.</p>
</blockquote>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">http</p>

<hr>
<h2>[m] get<span><a class="mark" href="#http_m_get" id="http_m_get">#</a></span></h2>
<h3>get(url)<span><a class="mark" href="#http_get_url" id="http_get_url">#</a></span></h3>
<p><strong><code>Overload 1/3</code></strong></p>
<ul>
<li><strong>url</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 请求的 URL 地址 (默认使用 HTTP 协议)</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="httpResponseType.html">HttpResponse</a></span> } - 请求的响应实例</li>
</ul>
<pre><code class="lang-js">let response = http.get(&#39;www.github.com&#39;);
if (response.statusCode === 200) {
    console.log(&#39;请求成功&#39;);
} else {
    console.log(&#39;请求失败&#39;);
}
</code></pre>
<h3>get(url, options)<span><a class="mark" href="#http_get_url_options" id="http_get_url_options">#</a></span></h3>
<p><strong><code>Overload 2/3</code></strong></p>
<ul>
<li><strong>url</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 请求的 URL 地址 (默认使用 HTTP 协议)</li>
<li><strong>options</strong> { <span class="type"><a href="httpRequestBuilderOptionsType.html">HttpRequestBuilderOptions</a></span> } - 请求的构建选项</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="httpResponseType.html">HttpResponse</a></span> } - 请求的响应实例</li>
</ul>
<h3>get(url, options, callback)<span><a class="mark" href="#http_get_url_options_callback" id="http_get_url_options_callback">#</a></span></h3>
<p><strong><code>Overload 3/3</code></strong> <strong><code>Async</code></strong></p>
<ul>
<li><strong>url</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 请求的 URL 地址 (默认使用 HTTP 协议)</li>
<li><strong>options</strong> { <span class="type"><a href="httpRequestBuilderOptionsType.html">HttpRequestBuilderOptions</a></span> } - 请求的构建选项</li>
<li><strong>callback</strong> { <span class="type"><a href="httpRequestBuilderOptionsType.html">HttpRequestBuilderOptions</a></span> } - 请求的响应回调</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="httpResponseType.html">HttpResponse</a></span> } - 请求的响应实例</li>
</ul>
<ul>
<li><strong>url</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 请求的 URL 地址</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 请求选项. 参见[http.request()][].</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调函数, 可选, 其参数是一个[Response][]对象. 如果不加回调函数, 则该请求将阻塞、同步地执行.</li>
</ul>
<p>对地址url进行一次HTTP GET 请求. 如果没有回调函数, 则在请求完成或失败时返回此次请求的响应(参见[Response][]).</p>
<p>最简单GET请求如下:</p>
<pre><code>console.show();
var r = http.get(&quot;www.baidu.com&quot;);
log(&quot;code = &quot; + r.statusCode);
log(&quot;html = &quot; + r.body.string());
</code></pre><p>采用回调形式的GET请求如下：</p>
<pre><code>console.show();
http.get(&quot;www.baidu.com&quot;, {}, function(res, err){
    if(err){
        console.error(err);
        return;
    }
    log(&quot;code = &quot; + res.statusCode);
    log(&quot;html = &quot; + res.body.string());
});
</code></pre><p>如果要增加HTTP头部信息, 则在options参数中添加, 例如：</p>
<pre><code>console.show();
var r = http.get(&quot;www.baidu.com&quot;, {
    headers: {
        &#39;Accept-Language&#39;: &#39;zh-cn,zh;q=0.5&#39;,
        &#39;User-Agent&#39;: &#39;Mozilla/5.0(Macintosh;IntelMacOSX10_7_0)AppleWebKit/535.11(KHTML,likeGecko)Chrome/17.0.963.56Safari/535.11&#39;
    }
});
log(&quot;code = &quot; + r.statusCode);
log(&quot;html = &quot; + r.body.string());
</code></pre><p>一个请求天气并解析返回的天气JSON结果的例子如下：</p>
<pre><code>var city = &quot;广州&quot;;
var res = http.get(&quot;http://www.sojson.com/open/api/weather/json.shtml?city=&quot; + city);
if(res.statusCode != 200){
    toast(&quot;请求失败: &quot; + res.statusCode + &quot; &quot; + res.statusMessage);
}else{
    var weather = res.body.json();
    log(weather);
    toast(util.format(&quot;温度: %s 湿度: %s 空气质量: %s&quot;, weather.data.wendu,
        weather.data.shidu, weather.quality));
}
</code></pre><h2>[m] post<span><a class="mark" href="#http_m_post" id="http_m_post">#</a></span></h2>
<h3>post(url, data, options?, callback?)<span><a class="mark" href="#http_post_url_data_options_callback" id="http_post_url_data_options_callback">#</a></span></h3>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 请求的URL地址, 需要以&quot;http://&quot;或&quot;https://&quot;开头. 如果url没有以&quot;http://&quot;开头, 则默认为&quot;http://&quot;.</li>
<li><code>data</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } POST数据.</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 请求选项.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调, 其参数是一个[Response][]对象. 如果不加回调参数, 则该请求将阻塞、同步地执行.</li>
</ul>
</div><p>对地址url进行一次HTTP POST 请求. 如果没有回调函数, 则在请求完成或失败时返回此次请求的响应(参见[Response][]).</p>
<p>其中POST数据可以是字符串或键值对. 具体含义取决于options.contentType的值. 默认为&quot;application/x-www-form-urlencoded&quot;(表单提交), 这种方式是JQuery的ajax函数的默认方式.</p>
<p>一个模拟表单提交登录淘宝的例子如下:</p>
<pre><code>var url = &quot;https://login.taobao.com/member/login.jhtml&quot;;
var username = &quot;你的用户名&quot;;
var password = &quot;你的密码&quot;;
var res = http.post(url, {
    &quot;TPL_username&quot;: username,
    &quot;TPL_password&quot;: password
});
var html = res.body.string();
if(html.contains(&quot;页面跳转中&quot;)){
    toast(&quot;登录成功&quot;);
}else{
    toast(&quot;登录失败&quot;);
}
</code></pre><h2>[m] postJson<span><a class="mark" href="#http_m_postjson" id="http_m_postjson">#</a></span></h2>
<h3>postJson(url, data?, options?, callback?)<span><a class="mark" href="#http_postjson_url_data_options_callback" id="http_postjson_url_data_options_callback">#</a></span></h3>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 请求的URL地址, 需要以&quot;http://&quot;或&quot;https://&quot;开头. 如果url没有以&quot;http://&quot;开头, 则默认为&quot;http://&quot;.</li>
<li><code>data</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } POST数据.</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 请求选项.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调, 其参数是一个[Response][]对象. 如果不加回调参数, 则该请求将阻塞、同步地执行.</li>
</ul>
</div><p>以JSON格式向目标Url发起POST请求. 如果没有回调函数, 则在请求完成或失败时返回此次请求的响应(参见[Response][]).</p>
<p>JSON格式指的是, 将会调用<code>JSON.stringify()</code>把data对象转换为JSON字符串, 并在HTTP头部信息中把&quot;Content-Type&quot;属性置为&quot;application/json&quot;. 这种方式是AngularJS的ajax函数的默认方式.</p>
<p>一个调用图灵机器人接口的例子如下：</p>
<pre><code>var url = &quot;http://www.tuling123.com/openapi/api&quot;;
r = http.postJson(url, {
    key: &quot;65458a5df537443b89b31f1c03202a80&quot;,
    info: &quot;你好啊&quot;,
    userid: &quot;1&quot;,
});
toastLog(r.body.string());
</code></pre><h2>[m] postMultipart<span><a class="mark" href="#http_m_postmultipart" id="http_m_postmultipart">#</a></span></h2>
<h3>postMultipart(url, files, options?, callback?)<span><a class="mark" href="#http_postmultipart_url_files_options_callback" id="http_postmultipart_url_files_options_callback">#</a></span></h3>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 请求的URL地址, 需要以&quot;http://&quot;或&quot;https://&quot;开头. 如果url没有以&quot;http://&quot;开头, 则默认为&quot;http://&quot;.</li>
<li><code>files</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } POST数据.</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 请求选项.</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调, 其参数是一个<code>Response</code>对象. 如果不加回调参数, 则该请求将阻塞、同步地执行.</li>
</ul>
</div><p>向目标地址发起类型为multipart/form-data的请求（通常用于文件上传等), 其中files参数是{ <span class="type">name1: value1, name2: value2, ...</span> }的键值对, value的格式可以是以下几种情况：</p>
<ol>
<li><code>string</code></li>
<li>文件类型, 即open()返回的类型</li>
<li>[fileName, filePath]</li>
<li>[fileName, mimeType, filePath]</li>
</ol>
<p>其中1属于非文件参数, 2、3、4为文件参数. 举个例子, 最简单的文件上传的请求为：</p>
<pre><code>var res = http.postMultipart(url, {
    file: open(&quot;/sdcard/1.txt&quot;)
});
log(res.body.string());
</code></pre><p>如果使用格式2, 则代码为</p>
<pre><code>var res = http.postMultipart(url, {
    file: [&quot;1.txt&quot;, &quot;/sdcard/1.txt&quot;]
});
log(res.body.string());
</code></pre><p>如果使用格式3, 则代码为</p>
<pre><code>var res = http.postMultipart(url, {
    file: [&quot;1.txt&quot;, &quot;text/plain&quot;, &quot;/sdcard/1.txt&quot;]
});
log(res.body.string());
</code></pre><p>如果使用格式2的同时要附带非文件参数&quot;appId=abcdefghijk&quot;, 则为:</p>
<pre><code>var res = http.postMultipart(url, {
    appId: &quot;adcdefghijk&quot;,
    file: open(&quot;/sdcard/1.txt&quot;)
});
log(res.body.string());
</code></pre><h2>[m] request<span><a class="mark" href="#http_m_request" id="http_m_request">#</a></span></h2>
<h3>request(url, options?, callback?)<span><a class="mark" href="#http_request_url_options_callback" id="http_request_url_options_callback">#</a></span></h3>
<div class="signature"><ul>
<li><code>url</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } 请求的URL地址, 需要以&quot;http://&quot;或&quot;https://&quot;开头. 如果url没有以&quot;http://&quot;开头, 则默认为&quot;http://&quot;.</li>
<li><code>options</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 请求选项. 参见[http.buildRequest()][].</li>
<li><code>callback</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } 回调, 其参数是一个[Response][]对象. 如果不加回调参数, 则该请求将阻塞、同步地执行.</li>
</ul>
</div><p>对目标地址url发起一次HTTP请求. 如果没有回调函数, 则在请求完成或失败时返回此次请求的响应(参见[Response][]).</p>
<p>选项options可以包含以下属性：</p>
<ul>
<li><code>headers</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">Object</a> } 键值对形式的HTTP头部信息. 有关HTTP头部信息, 参见<a href="http://www.runoob.com/http/http-header-fields.html">菜鸟教程：HTTP响应头信息</a>.</li>
<li><code>method</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } HTTP请求方法. 包括&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;.</li>
<li><code>contentType</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } HTTP头部信息中的&quot;Content-Type&quot;, 表示HTTP请求的内容类型. 例如&quot;text/plain&quot;, &quot;application/json&quot;. 更多信息参见<a href="http://www.runoob.com/http/http-content-type.html">菜鸟教程：HTTP contentType</a>.</li>
<li><code>body</code> { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">string</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">Array</a> } | { <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">Function</a> } HTTP请求的内容. 可以是一个字符串, 也可以是一个字节数组；或者是一个以<a href="https://github.com/square/okio/blob/master/okio/src/main/java/okio/BufferedSink.java/">BufferedSink</a>为参数的函数.</li>
</ul>
<p>该函数是get, post, postJson等函数的基础函数. 因此除非是PUT, DELETE等请求, 或者需要更高定制的HTTP请求, 否则直接使用get, post, postJson等函数会更加方便.</p>
<h2>[m] buildRequest<span><a class="mark" href="#http_m_buildrequest" id="http_m_buildrequest">#</a></span></h2>
<h3>buildRequest(url, options)<span><a class="mark" href="#http_buildrequest_url_options" id="http_buildrequest_url_options">#</a></span></h3>
<p>... ...
<!-- [end-include:http.md] --></p>
<!-- [start-include:base64.md] -->
<h1>Base64<span><a class="mark" href="#base64_base64" id="base64_base64">#</a></span></h1>
<p>Base64 是一种编码方式, 同时可作为一种数据的存储格式, 并非严格意义上的加密与解密.</p>
<p>base64 模块主要用于对数据进行 Base64 编码及解码.</p>
<blockquote>
<p>注: 与 <a href="crypto.html">crypto</a> 模块不同, crypto 模块主要用于信息的加密与解密.</p>
</blockquote>
<blockquote>
<p>参阅:<br><a href="https://en.wikipedia.org/wiki/Base64">Wikipedia (英)</a> / <a href="https://zh.wikipedia.org/wiki/Base64">Wikipedia (中)</a><br><a href="http://www.ruanyifeng.com/blog/2008/06/base64.html">Base64 笔记 (from 阮一峰的网络日志)</a><br><a href="https://juejin.cn/post/6887498543494660109">Base64 是加密算法吗 (from 稀土掘金)</a></p>
</blockquote>
<h2>可逆性<span><a class="mark" href="#base64" id="base64">#</a></span></h2>
<p>Base64 是一种可逆的编码方式:</p>
<pre><code class="lang-js">console.log(base64.decode(base64.encode(&#39;orange&#39;))); // orange
console.log(base64.decode(base64.encode(&#39;简体中文&#39;))); // 简体中文
</code></pre>
<p>但需注意参数的字符编码方式 (默认为 <code>UTF-8</code>), 当存在超出编码表示范围的字符时, 可逆性将遭到破坏:</p>
<pre><code class="lang-js">/* us-ascii 编码无法表示 &quot;出&quot; 和 &quot;口&quot;. */
console.log(base64.decode(base64.encode(&#39;E2 出口&#39;, &#39;us-ascii&#39;), &#39;us-ascii&#39;)); // E2 ??
</code></pre>
<p>编解码使用了不同的编码方式, 也可能导致可逆性失效:</p>
<pre><code class="lang-js">/* utf-16 与 utf-8 不一致. */
console.log(base64.decode(base64.encode(&#39;简体中文&#39;, &#39;utf-16&#39;), &#39;utf-8&#39;)); // ��{�OSN-e�
</code></pre>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">base64</p>

<hr>
<h2>[m] encode<span><a class="mark" href="#base64_m_encode" id="base64_m_encode">#</a></span></h2>
<h3>encode(o, encoding?)<span><a class="mark" href="#base64_encode_o_encoding" id="base64_encode_o_encoding">#</a></span></h3>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 待编码数据</li>
<li><strong>[ encoding = <code>&#39;UTF_8&#39;</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_standardcharset">StandardCharset</a></span> } - 字符编码</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
</div><p>对数据进行 Base64 编码.</p>
<pre><code class="lang-js">/* 字符串. */

console.log(base64.encode(&#39;hello&#39;, &#39;iso-8859-1&#39;)); // aGVsbG8=
console.log(base64.encode(&#39;hello&#39;, &#39;us-ascii&#39;)); // aGVsbG8=
console.log(base64.encode(&#39;hello&#39;, &#39;utf-8&#39;)); // aGVsbG8=
console.log(base64.encode(&#39;hello&#39;, &#39;utf-16&#39;)); // /v8AaABlAGwAbABv
console.log(base64.encode(&#39;hello&#39;, &#39;utf-16be&#39;)); // AGgAZQBsAGwAbw==
console.log(base64.encode(&#39;hello&#39;, &#39;utf-16le&#39;)); // aABlAGwAbABvAA==

/* JavaScript 字节数组. */

console.log(base64.encode([ 104, 101, 108, 108, 111 ], &#39;utf-8&#39;)); // aGVsbG8=

/* Java 字节数组. */

console.log(base64.encode(new java.lang.String(&#39;hello&#39;).getBytes(), &#39;utf-8&#39;)); // aGVsbG8=

let jsArr = [ 104, 101, 108, 108, 111 ];
let javaArr = util.java.array(&#39;byte&#39;, jsArr.length);
jsArr.forEach((o, i) =&gt; javaArr[i] = o);
console.log(base64.encode(javaArr, &#39;utf-8&#39;)); /* 效果同上. */
</code></pre>
<h2>[m] decode<span><a class="mark" href="#base64_m_decode" id="base64_m_decode">#</a></span></h2>
<h3>decode(o, encoding?)<span><a class="mark" href="#base64_decode_o_encoding" id="base64_decode_o_encoding">#</a></span></h3>
<div class="signature"><ul>
<li><strong>o</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 待解码数据</li>
<li><strong>[ encoding = <code>&#39;UTF_8&#39;</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_standardcharset">StandardCharset</a></span> } - 字符编码</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
</div><p>对数据进行 Base64 解码.</p>
<pre><code class="lang-js">/* 字符串. */

console.log(base64.decode(&#39;aGVsbG8=&#39;, &#39;iso-8859-1&#39;)); // hello
console.log(base64.decode(&#39;aGVsbG8=&#39;, &#39;us-ascii&#39;)); // hello
console.log(base64.decode(&#39;aGVsbG8=&#39;, &#39;utf-8&#39;)); // hello
console.log(base64.decode(&#39;/v8AaABlAGwAbABv&#39;, &#39;utf-16&#39;)); // hello
console.log(base64.decode(&#39;AGgAZQBsAGwAbw==&#39;, &#39;utf-16be&#39;)); // hello
console.log(base64.decode(&#39;aABlAGwAbABvAA==&#39;, &#39;utf-16le&#39;)); // hello

/* JavaScript 字节数组. */

console.log(base64.decode([ 97, 71, 86, 115, 98, 71, 56, 61 ], &#39;utf-8&#39;)); // hello

/* Java 字节数组. */

console.log(base64.decode(new java.lang.String(&#39;aGVsbG8=&#39;).getBytes(), &#39;utf-8&#39;)); // hello

let jsArr = [ 97, 71, 86, 115, 98, 71, 56, 61 ];
let javaArr = util.java.array(&#39;byte&#39;, jsArr.length);
jsArr.forEach((o, i) =&gt; javaArr[i] = o);
console.log(base64.decode(javaArr, &#39;utf-8&#39;)); /* 效果同上. */
</code></pre>
<!-- [end-include:base64.md] -->
<!-- [start-include:crypto.md] -->
<h1>密文 (Crypto)<span><a class="mark" href="#crypto_crypto" id="crypto_crypto">#</a></span></h1>
<p>crypto 模块提供 [ 对称加密 (如 AES) / 非对称加密 (如 RSA) / 消息摘要 (如 MD5, SHA) ] 等支持.</p>
<blockquote>
<p>注: 本章节参考自 <a href="https://pro.autojs.org/docs/zh/v8/crypto.html">Auto.js Pro 文档</a>.</p>
</blockquote>
<hr>
<p style="font: bold 2em sans-serif; color: #FF7043">crypto</p>

<hr>
<h2>[m] digest<span><a class="mark" href="#crypto_m_digest" id="crypto_m_digest">#</a></span></h2>
<h3>digest(message, algorithm)<span><a class="mark" href="#crypto_digest_message_algorithm" id="crypto_digest_message_algorithm">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload 1/4</code></strong></p>
<ul>
<li><strong>message</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 待获取摘要的消息</li>
<li><strong>algorithm</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptodigestalgorithm">CryptoDigestAlgorithm</a></span> } - 消息摘要算法</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> }</li>
</ul>
<p>获取 <code>消息 (message)</code> 经指定 <code>算法 (algorithm)</code> 计算后的 <code>消息摘要 (message digest)</code>.</p>
<pre><code class="lang-js">/* 获取字符串 &quot;hello&quot; 的 MD5 摘要. */
console.log(crypto.digest(&#39;hello&#39;, &#39;MD5&#39;)); // 5d41402abc4b2a76b9719d911017c592

/* 获取字符串 &quot;hello&quot; 的 SHA-1 摘要. */
console.log(crypto.digest(&#39;hello&#39;, &#39;SHA-1&#39;)); // aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d
</code></pre>
<h3>digest(message)<span><a class="mark" href="#crypto_digest_message" id="crypto_digest_message">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload 2/4</code></strong></p>
<ul>
<li><strong>message</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 待获取摘要的消息</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> }</li>
</ul>
<p>获取 <code>消息 (message)</code> 的 MD5 <code>消息摘要 (message digest)</code>.</p>
<p>相当于 <code>crypto.digest(message, &#39;MD5&#39;)</code>.</p>
<pre><code class="lang-js">/* 获取字符串 &quot;hello&quot; 的 MD5 摘要. */
console.log(crypto.digest(&#39;hello&#39;)); // 5d41402abc4b2a76b9719d911017c592
console.log(crypto.digest(&#39;hello&#39;, &#39;MD5&#39;)); /* 同上. */
</code></pre>
<h3>digest(message, algorithm, options)<span><a class="mark" href="#crypto_digest_message_algorithm_options" id="crypto_digest_message_algorithm_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload 3/4</code></strong></p>
<ul>
<li><strong>message</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 待获取摘要的消息</li>
<li><strong>algorithm</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptodigestalgorithm">CryptoDigestAlgorithm</a></span> } - 消息摘要算法</li>
<li><strong>options</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptodigestoptions">CryptoDigestOptions</a></span> } - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> }</li>
</ul>
<p>获取 <code>消息 (message)</code> 经指定 <code>算法 (algorithm)</code> 计算后的 <code>消息摘要 (message digest)</code>.</p>
<p>通过 <code>options</code> 参数可指定输入消息的类型 (文件, Base64, Hex, 字符串) 及摘要的类型 (字节数组, Base64, Hex, 字符串) 等.</p>
<pre><code class="lang-js">/* 获取字符串 &quot;hello&quot; 的 MD5 摘要, 并输出其字节数组. */
console.log(crypto.digest(&#39;hello&#39;, &#39;MD5&#39;, { output: &#39;bytes&#39; })); // [93, 65, 64, 42, -68, 75, 42, 118, -71, 113, -99, -111, 16, 23, -59, -110]

/* 获取字符串 &quot;hello&quot; 的 SHA-1 摘要, 并输出其 Base64 编码. */
console.log(crypto.digest(&#39;hello&#39;, &#39;SHA-1&#39;, { output: &#39;base64&#39; })); // qvTGHdzF6KLavt4PO0gs2a6pQ00=

/* 获取 Base64 数据的 MD5 摘要. */
console.log(crypto.digest(&#39;qvTGHdzF6KLavt4PO0gs2a6pQ00=&#39;, &#39;MD5&#39;, { input: &#39;base64&#39; })); // 406f65cdc25d6a9db86c06e4bc19a2cf

/* 获取文件的 MD5 摘要. */
let str = &#39;hello&#39;;
let path = files.path(`./tmp-${Date.now()}`);
files.create(path);
files.write(path, str);
console.log(crypto.digest(path, &#39;MD5&#39;, { input: &#39;file&#39; })); // 5d41402abc4b2a76b9719d911017c592
files.remove(path);
</code></pre>
<h3>digest(message, options)<span><a class="mark" href="#crypto_digest_message_options" id="crypto_digest_message_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload 4/4</code></strong></p>
<ul>
<li><strong>message</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> } - 待获取摘要的消息</li>
<li><strong>algorithm</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptodigestalgorithm">CryptoDigestAlgorithm</a></span> } - 消息摘要算法</li>
<li><strong>options</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptodigestoptions">CryptoDigestOptions</a></span> } - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> }</li>
</ul>
<p>获取 <code>消息 (message)</code> 的 MD5 <code>消息摘要 (message digest)</code>.</p>
<p>通过 <code>options</code> 参数可指定输入消息的类型 (文件, Base64, Hex, 字符串) 及摘要的类型 (字节数组, Base64, Hex, 字符串) 等.</p>
<p>相当于 <code>crypto.digest(message, &#39;MD5&#39;, options)</code>.</p>
<pre><code class="lang-js">/* 获取字符串 &quot;hello&quot; 的 MD5 摘要, 并输出其字节数组. */
console.log(crypto.digest(&#39;hello&#39;, { output: &#39;bytes&#39; })); // [93, 65, 64, 42, -68, 75, 42, 118, -71, 113, -99, -111, 16, 23, -59, -110]

/* 获取 Base64 数据的 MD5 摘要. */
console.log(crypto.digest(&#39;qvTGHdzF6KLavt4PO0gs2a6pQ00=&#39;, { input: &#39;base64&#39; })); // 406f65cdc25d6a9db86c06e4bc19a2cf

/* 获取文件的 MD5 摘要. */
let str = &#39;hello&#39;;
let path = files.path(`./tmp-${Date.now()}`);
files.create(path);
files.write(path, str);
console.log(crypto.digest(path, { input: &#39;file&#39; })); // 5d41402abc4b2a76b9719d911017c592
files.remove(path);
</code></pre>
<h2>[m] encrypt<span><a class="mark" href="#crypto_m_encrypt" id="crypto_m_encrypt">#</a></span></h2>
<h3>encrypt(data, key, transformation, options?)<span><a class="mark" href="#crypto_encrypt_data_key_transformation_options" id="crypto_encrypt_data_key_transformation_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 待加密数据</li>
<li><strong>key</strong> { <span class="type"><a href="#all_c_key">crypto.Key</a></span> | <span class="type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/class-use/Key.html">java.security.Key</a></span> } - 加密密钥</li>
<li><strong>transformation</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptociphertransformation">CryptoCipherTransformation</a></span> } - 密码转换名称</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="cryptoCipherOptionsType.html">CryptoCipherOptions</a></span> } - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> }</li>
</ul>
<p>数据加密.</p>
<h4>输入<span><a class="mark" href="#crypto" id="crypto">#</a></span></h4>
<p><code>data</code> 参数的性质可借助 <code>options.input</code> 属性进行区分, 详见 <a href="cryptoCipherOptionsType.html#cryptocipheroptionstype_p_input">CryptoCipherOptions#input</a>.</p>
<p>如果 <code>data</code> 参数为字节数组, 则 <code>options.input</code> 将被忽略. 因为字节数组可以唯一确定 <code>data</code> 的性质, 无需再通过 <code>options.input</code> 指定.</p>
<h4>输出<span><a class="mark" href="#crypto_1" id="crypto_1">#</a></span></h4>
<p><code>options.output</code> 指定输出的数据格式, 详见 <a href="cryptoCipherOptionsType.html#cryptocipheroptionstype_p_output">CryptoCipherOptions#output</a>.</p>
<p>特别地, 当 <code>options.output</code> 为 <code>&#39;file&#39;</code> 时, 输出格式为十六进制值. 因为加密后写入文件的数据通常是不可读的 (常被视作乱码), 因此最终的返回值类型没有采用 <code>&#39;string&#39;</code>, 而是 <code>&#39;hex&#39;</code>.</p>
<p><code>options.output</code> 影响的其实仅仅是加密结果的表现形式, 这些形式之前通常可以互相转换. 真正影响加密结果的, 是加密过程.</p>
<h4>加密<span><a class="mark" href="#crypto_2" id="crypto_2">#</a></span></h4>
<p>加密过程受 <code>key</code> 和 <code>transformation</code> 两个参数的影响. 详见 <a href="#all_c_key">crypto.Key</a> 及 <a href="dataTypes.html#datatypes_cryptociphertransformation">CryptoCipherTransformation</a> 小节.</p>
<p>为保证最大兼容性, <code>key</code> 参数同时支持原生的 <code>java.security.Key</code> 类型, 此时 <code>key</code> 将自动按照 <code>new crypto.Key(key.encoded)</code> 进行转换.</p>
<h4>示例<span><a class="mark" href="#crypto_3" id="crypto_3">#</a></span></h4>
<p>AES 算法加密示例:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;

/* 创建密钥实例. */
/* 密钥长度需为 [ 16, 24, 32 ] 之一. */
let key = new crypto.Key(&#39;a&#39;.repeat(16));

/* 加密数据, 输出格式保持默认, 即 bytes. */
console.log(crypto.encrypt(message, key, &#39;AES&#39;)); // [-20, 97, -47, 124, 88, 10, 85, -42, -128, -117, 11, 98, -33, -85, 106, 13]

/* 输出格式修改为 Base64. */
console.log(crypto.encrypt(message, key, &#39;AES&#39;, { output: &#39;base64&#39; })); // 7GHRfFgKVdaAiwti36tqDQ==

/* AES 默认工作模式为 ECB, 默认填充方式为 PKCS5Padding, 结果同上. */
console.log(crypto.encrypt(message, key, &#39;AES/ECB/PKCS5Padding&#39;, { output: &#39;base64&#39; })); // 7GHRfFgKVdaAiwti36tqDQ==
</code></pre>
<p>RSA 算法加密示例:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;

/* 生成 RSA 密钥对. */
let key = crypto.generateKeyPair(&#39;RSA&#39;, 2048);

/* 使用公钥加密, 转换名称为 RSA/ECB/PKCS1Padding. */
console.log(crypto.encrypt(message, key.publicKey, &#39;RSA/ECB/PKCS1Padding&#39;)); /* 结果随机, 因为生成的密钥是不确定的. */
</code></pre>
<h4>可逆性<span><a class="mark" href="#crypto_4" id="crypto_4">#</a></span></h4>
<p>加密与解密具有可逆性:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;
let key = new crypto.Key(&#39;a&#39;.repeat(16));
let encrypted = crypto.encrypt(message, key, &#39;AES&#39;);

/* 解密还原为 hello. */
console.log(crypto.decrypt(encrypted, key, &#39;AES&#39;, { output: &#39;string&#39; }));
</code></pre>
<h2>[m] decrypt<span><a class="mark" href="#crypto_m_decrypt" id="crypto_m_decrypt">#</a></span></h2>
<h3>decrypt(data, key, transformation, options?)<span><a class="mark" href="#crypto_decrypt_data_key_transformation_options" id="crypto_decrypt_data_key_transformation_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 待解密数据</li>
<li><strong>key</strong> { <span class="type"><a href="#all_c_key">crypto.Key</a></span> | <span class="type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/class-use/Key.html">java.security.Key</a></span> } - 解密密钥</li>
<li><strong>transformation</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptociphertransformation">CryptoCipherTransformation</a></span> } - 密码转换名称</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="cryptoCipherOptionsType.html">CryptoCipherOptions</a></span> } - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> }</li>
</ul>
<p>数据解密.</p>
<h4>输入<span><a class="mark" href="#crypto_5" id="crypto_5">#</a></span></h4>
<p><code>data</code> 参数的性质可借助 <code>options.input</code> 属性进行区分, 详见 <a href="cryptoCipherOptionsType.html#cryptocipheroptionstype_p_input">CryptoCipherOptions#input</a>.</p>
<p>如果 <code>data</code> 参数为字节数组, 则 <code>options.input</code> 将被忽略. 因为字节数组可以唯一确定 <code>data</code> 的性质, 无需再通过 <code>options.input</code> 指定.</p>
<h4>输出<span><a class="mark" href="#crypto_6" id="crypto_6">#</a></span></h4>
<p><code>options.output</code> 指定输出的数据格式, 详见 <a href="cryptoCipherOptionsType.html#cryptocipheroptionstype_p_output">CryptoCipherOptions#output</a>.</p>
<p>特别地, 当 <code>options.output</code> 为 <code>&#39;file&#39;</code> 时, 输出格式为十六进制值. 因为解密后写入文件的数据通常是不可读的 (常被视作乱码), 因此最终的返回值类型没有采用 <code>&#39;string&#39;</code>, 而是 <code>&#39;hex&#39;</code>.</p>
<p><code>options.output</code> 影响的其实仅仅是解密结果的表现形式, 这些形式之前通常可以互相转换. 真正影响解密结果的, 是解密过程.</p>
<h4>解密<span><a class="mark" href="#crypto_7" id="crypto_7">#</a></span></h4>
<p>解密过程受 <code>key</code> 和 <code>transformation</code> 两个参数的影响. 详见 <a href="#all_c_key">crypto.Key</a> 及 <a href="dataTypes.html#datatypes_cryptociphertransformation">CryptoCipherTransformation</a> 小节.</p>
<p>为保证最大兼容性, <code>key</code> 参数同时支持原生的 <code>java.security.Key</code> 类型, 此时 <code>key</code> 将自动按照 <code>new crypto.Key(key.encoded)</code> 进行转换.</p>
<h4>示例<span><a class="mark" href="#crypto_8" id="crypto_8">#</a></span></h4>
<p>AES 算法解密示例:</p>
<pre><code class="lang-js">let ec = {
    bytes: [
        -20, 97, -47, 124, 88, 10, 85, -42, -128, -117, 11, 98, -33, -85, 106, 13,
    ],
    base64: &#39;7GHRfFgKVdaAiwti36tqDQ==&#39;,
    hex: &#39;ec61d17c580a55d6808b0b62dfab6a0d&#39;,
};

/* 创建密钥实例. */
/* 密钥长度需为 [ 16, 24, 32 ] 之一. */
let key = new crypto.Key(&#39;a&#39;.repeat(16));

/* 解密数据, 输入为字节数组形式, 输出字符串形式. */
console.log(crypto.decrypt(ec.bytes, key, &#39;AES&#39;, { input: &#39;bytes&#39;, output: &#39;string&#39; })); // hello

/* 解密数据, 输入为 Base64 形式, 输出字符串形式. */
console.log(crypto.decrypt(ec.base64, key, &#39;AES&#39;, { input: &#39;base64&#39;, output: &#39;string&#39; })); // hello

/* 解密数据, 输入为十六进制值形式, 输出字符串形式. */
console.log(crypto.decrypt(ec.hex, key, &#39;AES&#39;, { input: &#39;hex&#39;, output: &#39;string&#39; })); // hello
</code></pre>
<p>RSA 算法解密示例:</p>
<p>参阅下文 <code>可逆性</code> 小节.</p>
<h4>可逆性<span><a class="mark" href="#crypto_9" id="crypto_9">#</a></span></h4>
<p>加密与解密具有可逆性:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;

/* 生成 RSA 密钥对. */
let key = crypto.generateKeyPair(&#39;RSA&#39;, 2048);

/* 使用公钥加密, 转换名称为 RSA/ECB/OAEPwithSHA-224andMGF1Padding. */
let ec = crypto.encrypt(message, key.publicKey, &#39;RSA/ECB/OAEPwithSHA-224andMGF1Padding&#39;);

/* 使用私钥解密, 转换名称同样为 RSA/ECB/PKCS1Padding. */
let dc = crypto.decrypt(ec, key.privateKey, &#39;RSA/ECB/OAEPwithSHA-224andMGF1Padding&#39;, { output: &#39;string&#39; });

/* 解密还原为 message 变量的值, 即 &#39;hello&#39;. */
console.log(dc); // hello
console.log(dc === message); // true
</code></pre>
<h2>[m] generateKeyPair<span><a class="mark" href="#crypto_m_generatekeypair" id="crypto_m_generatekeypair">#</a></span></h2>
<h3>generateKeyPair(algorithm, length?)<span><a class="mark" href="#crypto_generatekeypair_algorithm_length" id="crypto_generatekeypair_algorithm_length">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>algorithm</strong> { <span class="type"><a href="dataTypes.html#datatypes_cryptokeypairgeneratoralgorithm">CryptoKeyPairGeneratorAlgorithm</a></span> } - 密钥对生成器算法</li>
<li><strong>[ length = <code>256</code> ]</strong> { <span class="type"><a href="dataTypes.html#datatypes_number">number</a></span> } - 密钥长度</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="cryptoKeyPairType.html">CryptoKeyPair</a></span> } - 密钥对</li>
</ul>
<p>生成指定算法及长度的随机密钥对.</p>
<blockquote>
<p>注: 不同算法对密钥长度有不同的要求.</p>
</blockquote>
<p>如需生成固定密钥的密钥对, 可使用 <a href="#all_c_keypair">crypto.KeyPair</a> 直接构造.</p>
<p>密钥对通常会参与非对称加密算法的加解密过程:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;

/* 生成 RSA 密钥对. */
let key = crypto.generateKeyPair(&#39;RSA&#39;, 2048);

/* 使用公钥加密, 转换名称为 RSA/ECB/OAEPwithSHA-224andMGF1Padding. */
let ec = crypto.encrypt(message, key.publicKey, &#39;RSA/ECB/OAEPwithSHA-224andMGF1Padding&#39;);

/* 使用私钥解密, 转换名称同样为 RSA/ECB/PKCS1Padding. */
let dc = crypto.decrypt(ec, key.privateKey, &#39;RSA/ECB/OAEPwithSHA-224andMGF1Padding&#39;, { output: &#39;string&#39; });

/* 解密还原为 message 变量的值, 即 &#39;hello&#39;. */
console.log(dc); // hello
console.log(dc === message); // true
</code></pre>
<p>但需额外注意, 某些算法生成的密钥对, 仅仅用作密钥交换, 密钥交换后将确定一个对称密钥, 最终使用一个对称密钥算法 (如 DES) 进行加解密. 因此密钥对不一定参与非对称加解密过程.</p>
<p>上述情况典型的样例, 当属 Diffie-Hellman（迪菲-赫尔曼) 算法:</p>
<pre><code class="lang-js">let message = &#39;hello&#39;;

/* 生成 Diffie-Hellman（迪菲-赫尔曼) 密钥对. */
let keyPair = crypto.generateKeyPair(&#39;DiffieHellman&#39;);

/* 借助 Diffie-Hellman 密钥对, 使用 DES 算法生成一个确定的密钥. */
let key = keyPair.toKeySpec(&#39;DES&#39;);

/* 使用上述密钥加密, 转换名称 (此处可视为算法名称) 也为 DES. */
/* 除 DES 外, 凡是对称加密算法均被支持, 如 AES. */
/* 但需保证与上述 toKeySpec 方法传入的参数一致. */
let ec = crypto.encrypt(message, key, &#39;DES&#39;);

/* 使用上述同一个密钥解密, 转换名称同样为 DES (与加密算法一致). */
let dc = crypto.decrypt(ec, key, &#39;DES&#39;, { output: &#39;string&#39; });

/* 解密还原为 message 变量的值, 即 &#39;hello&#39;. */
console.log(dc); // hello
console.log(dc === message); // true
</code></pre>
<p>上述示例再次验证, 密钥对不一定会参与加解密过程. 例如 <code>DiffieHellman</code> 密钥对, 仅仅用于确定一个对称密钥.</p>
<h2>[C] Key<span><a class="mark" href="#crypto_c_key" id="crypto_c_key">#</a></span></h2>
<h3>[c] (data, options?)<span><a class="mark" href="#crypto_c_data_options" id="crypto_c_data_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>data</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 用于生成密钥的数据</li>
<li><strong>[ options ]</strong> { <a href="cryptoCipherOptionsType.html">CryptoCipherOptions</a> &amp; {<ul>
<li>keyPair?: <code>&#39;public&#39;</code> | <code>&#39;private&#39;</code> - 指定密钥的公私性质, 用于非对称加密</li>
</ul>
</li>
<li>}} - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="cryptoKeyType.html">CryptoKey</a></span> }</li>
</ul>
<p>生成一个自定义密钥.</p>
<p>关于自定义密钥的实例方法属性及相关示例, 参阅 <a href="cryptoKeyType.html">CryptoKey</a> 类型章节.</p>
<p>使用 <code>crypto.Key</code> 构造函数可以很方便地复制密钥数据:</p>
<pre><code class="lang-js">let key = new crypto.Key(&#39;string with length of thrity two&#39;);

console.log(key);

let copiedKeyA = new crypto.Key(base64.encode(key.data), { input: &quot;base64&quot; });

console.log(copiedKeyA);

let copiedKeyB = new crypto.Key(key.data, { input: &quot;bytes&quot; });

console.log(copiedKeyB);

let copiedKeyC = new crypto.Key(Crypto.toHex(key.data), { input: &quot;hex&quot; });

console.log(copiedKeyC);
</code></pre>
<h2>[C] KeyPair<span><a class="mark" href="#crypto_c_keypair" id="crypto_c_keypair">#</a></span></h2>
<h3>[c] (publicKeyData, privateKeyData, options?)<span><a class="mark" href="#crypto_c_publickeydata_privatekeydata_options" id="crypto_c_publickeydata_privatekeydata_options">#</a></span></h3>
<p><strong><code>6.3.2</code></strong> <strong><code>Overload [1-2]/2</code></strong></p>
<ul>
<li><strong>publicKeyData</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 用于生成公钥的数据</li>
<li><strong>privateKeyData</strong> { <span class="type"><a href="dataTypes.html#datatypes_string">string</a></span> | <span class="type"><a href="dataTypes.html#datatypes_jsbytearray">JsByteArray</a></span> | <span class="type"><a href="dataTypes.html#datatypes_bytearray">ByteArray</a></span> } - 用于生成私钥的数据</li>
<li><strong>[ options ]</strong> { <span class="type"><a href="cryptoCipherOptionsType.html">CryptoCipherOptions</a></span> } - 选项参数</li>
<li><ins><strong>returns</strong></ins> { <span class="type"><a href="cryptoKeyPairType.html">CryptoKeyPair</a></span> }</li>
</ul>
<p>生成一个固定密钥对.</p>
<p>如需生成一个随机密钥对, 可使用 <a href="#all_m_generatekeypair">crypto.generateKeyPair</a>.</p>
<p>关于密钥对的实例方法属性及相关示例, 参阅 <a href="cryptoKeyPairType.html">CryptoKeyPair</a> 类型章节.</p>
<p>使用 <code>crypto.KeyPair</code> 构造函数可以很方便地复制密钥对数据:</p>
<pre><code class="lang-js">let keyPair = crypto.generateKeyPair(&#39;RSA&#39;);

console.log(keyPair);

let copiedKeyPairA = new crypto.KeyPair(
    base64.encode(keyPair.publicKey.data),
    base64.encode(keyPair.privateKey.data),
    { input: &#39;base64&#39; },
);

console.log(copiedKeyPairA);

let copiedKeyPairB = new crypto.KeyPair(
    keyPair.publicKey.data,
    keyPair.privateKey.data,
    { input: &#39;bytes&#39; },
);

console.log(copiedKeyPairB);

let copiedKeyPairC = new crypto.KeyPair(
    Crypto.toHex(keyPair.publicKey.data),
    Crypto.toHex(keyPair.privateKey.data),
    { input: &quot;hex&quot; },
);

console.log(copiedKeyPairC);
</code></pre>
<!-- [end-include:crypto.md] -->
<!-- [start-include:i18n.md] -->
<h1>国际化 (Internationalization)<span><a class="mark" href="#i18n_internationalization" id="i18n_internationalization">#</a></span></h1>
<hr>
<p style="font: italic 1em sans-serif; color: #78909C">此章节待补充或完善...</p>
<p style="font: italic 1em sans-serif; color: #78909C">Marked by SuperMonster003 on Oct 22, 2022.</p>

<hr>
<!-- [end-include:i18n.md] -->
<!-- [start-include:e4x.md] -->
<h1>E4X<span><a class="mark" href="#e4x_e4x" id="e4x_e4x">#</a></span></h1>
<blockquote>
<p>注: E4X <strong>已弃用</strong>.</p>
<p>尽管少数浏览器依然支持, 但随着件更新正逐步被废除, 应尽量避免使用.<br>AutoJs6 使用 Rhino 引擎, 因此依然保持对 E4X 的支持.</p>
<p>本章节仅用于技术概念的归档及溯源, 不建议用于脚本编写.</p>
</blockquote>
<p>ECMAScript for XML (E4X) 是对 ECMAScript 的扩展, 增加对 XML 的内在支持.<br>其目标是在访问 XML 文档时, 提供一种更直观且语法更简洁的的 DOM 接口, 成为处理 XML 文档的新方式.</p>
<pre><code class="lang-e4x">var sales = &lt;sales vendor=&quot;John&quot;&gt;
    &lt;item type=&quot;peas&quot; price=&quot;4&quot; quantity=&quot;6&quot;/&gt;
    &lt;item type=&quot;carrot&quot; price=&quot;3&quot; quantity=&quot;10&quot;/&gt;
    &lt;item type=&quot;chips&quot; price=&quot;5&quot; quantity=&quot;3&quot;/&gt;
  &lt;/sales&gt;;

alert( sales.item.(@type == &quot;carrot&quot;).@quantity );
alert( sales.@vendor );
for each( var price in sales..@price ) {
  alert( price );
}
delete sales.item[0];
sales.item += &lt;item type=&quot;oranges&quot; price=&quot;4&quot;/&gt;;
sales.item.(@type == &quot;oranges&quot;).@quantity = 4;
</code></pre>
<blockquote>
<p>参阅: <a href="https://en.wikipedia.org/wiki/ECMAScript_for_XML">Wikipedia (英)</a> / <a href="https://zh.wikipedia.org/wiki/E4X">Wikipedia (中)</a><br>替代: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMParser">DOMParser</a> / <a href="https://www.npmjs.com/package/dom-serializer">DOMSerializer</a>
<!-- [end-include:e4x.md] --></p>
</blockquote>

        </div>
    </div>
</div>

<script src="assets/sh_javascript.js"></script>
<script src="assets/sh_java.js"></script>
<script src="assets/sh_main.js"></script>

<script src="plugins/docsify-copy-code@2.js"></script>
<script src="plugins/zoom-image.js"></script>

<script>
    highlight(void 0, void 0, 'pre');
    highlight(void 0, void 0, 'tt');
</script>

<!-- __TRACKING__ -->

</body>
</html>